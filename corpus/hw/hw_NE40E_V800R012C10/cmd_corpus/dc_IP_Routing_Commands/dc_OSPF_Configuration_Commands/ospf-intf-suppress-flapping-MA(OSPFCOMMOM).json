{
    "PageTitle": "ospf suppress-flapping peer multi-area",
    "FuncDef": "The ospf suppress-flapping peer disable multi-area command disables OSPF neighbor relationship flapping suppression on a multi-area adjacency interface.\nThe undo ospf suppress-flapping peer disable multi-area command enables OSPF neighbor relationship flapping suppression on a multi-area adjacency interface.\nThe ospf suppress-flapping peer hold-max-cost disable multi-area command disables the Hold-max-cost mode on a multi-area adjacency interface.\nThe undo ospf suppress-flapping peer hold-max-cost disable multi-area command enables the Hold-max-cost mode on a multi-area adjacency interface.\nThe ospf suppress-flapping peer multi-area command configures detection parameters for OSPF neighbor relationship flapping suppression on a multi-area adjacency interface.\nThe undo ospf suppress-flapping peer multi-area command restores the default detection parameters.\nThe ospf suppress-flapping peer hold-down multi-area command configures the Hold-down mode and sets duration for this mode on a multi-area adjacency interface.\nThe undo ospf suppress-flapping peer hold-down multi-area command cancels the Hold-down mode on a multi-area adjacency interface.\n\nBy default, OSPF neighbor relationship flapping suppression is enabled on all multi-area adjacency interfaces.\n\n\nBy default, the Hold-max-cost mode is enabled on a multi-area adjacency interface.\n\n\nBy default, the detection interval of OSPF neighbor relationship flapping suppression on multi-area adjacency interfaces is 60s, the suppression threshold is 10, and the interval for exiting from suppression is 120s.\n\n\nBy default, the Hold-down mode is disabled on a multi-area adjacency interface.",
    "CLIs": [
        "ospf suppress-flapping peer { detecting-interval <detecting-interval> | threshold <threshold> | resume-interval <resume-interval> } * multi-area { <area-id> | <area-id> }",
        "ospf suppress-flapping peer disable multi-area { <area-id> | <area-id> }",
        "ospf suppress-flapping peer hold-down <interval> multi-area { <area-id> | <area-id> }",
        "ospf suppress-flapping peer hold-max-cost disable multi-area { <area-id> | <area-id> }",
        "undo ospf suppress-flapping peer { detecting-interval <detecting-interval> | threshold <threshold> | resume-interval <resume-interval> } * multi-area { <area-id> | <area-id> }",
        "undo ospf suppress-flapping peer disable multi-area { <area-id> | <area-id> }",
        "undo ospf suppress-flapping peer hold-down [ <interval> ] multi-area { <area-id> | <area-id> }",
        "undo ospf suppress-flapping peer hold-max-cost disable multi-area { <area-id> | <area-id> }"
    ],
    "ParentView": [
        "Tunnel interface view",
        "VBDIF interface view",
        "FlexE interface view",
        "Cellular channel interface view",
        "40GE interface view",
        "IP-Trunk interface view",
        "VE sub-interface view",
        "25GE sub-interface view",
        "100GE interface view",
        "GE electrical interface view",
        "VLANIF interface view",
        "Global VE sub-interface view",
        "50GE interface view",
        "GMPLS-UNI interface view",
        "50GE sub-interface view",
        "400GE interface view",
        "10GE interface view",
        "GE optical interface view",
        "25GE interface view",
        "Eth-Trunk interface view",
        "POS interface view"
    ],
    "ParaDef": [
        {
            "Parameters": "detecting-interval detecting-interval",
            "Info": "Specifies the detection interval of OSPF neighbor relationship flapping suppression.\nEach OSPF interface on which OSPF neighbor relationship flapping suppression is enabled starts a flapping counter. If the interval between two successive neighbor status changes from Full to a non-Full state is shorter than detecting-interval, a valid flapping_event is recorded, and the flapping_count increases by 1.\nThe value is an integer ranging from 1 to 300, in seconds. The default value is 60."
        },
        {
            "Parameters": "threshold threshold",
            "Info": "Specifies the threshold of OSPF neighbor relationship flapping suppression.\nWhen the flapping_count reaches or exceeds threshold, flapping suppression takes effect.\nThe value is an integer ranging from 1 to 1000. The default value is 10."
        },
        {
            "Parameters": "resume-interval resume-interval",
            "Info": "Specifies the interval for exiting from OSPF neighbor relationship flapping suppression.\nIf the interval between two successive neighbor status changes from Full to a non-Full state is longer than resume-interval, the flapping_count is reset.\nIf OSPF neighbor relationship flapping suppression works in hold-max-cost mode, resume-interval indicates the duration of this mode.The value of.\nresume-interval must be greater than that of.\ndetecting-interval.\nThe value is an integer ranging from 2 to 1000, in seconds. The default value is 120."
        },
        {
            "Parameters": "area-id",
            "Info": "Specifies the ID of an OSPF area.\nThe value can be a decimal integer ranging from 0 to 4294967295 or in the format of an IP address."
        },
        {
            "Parameters": "hold-down interval",
            "Info": "Specifies the duration of the Hold-down mode.\nThe value is an integer ranging from 1 to 86400, in seconds."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] ospf 1",
            "[*HUAWEI-ospf-1] area 0",
            "[*HUAWEI-ospf-1-area-0.0.0.0] quit",
            "[*HUAWEI-ospf-1] area 1",
            "[*HUAWEI-ospf-1-area-0.0.0.1] quit",
            "[*HUAWEI-ospf-1] quit",
            "[*HUAWEI] interface GigabitEthernet1/0/0",
            "[*HUAWEI-GigabitEthernet1/0/0] ospf enable 1 area 0",
            "[*HUAWEI-GigabitEthernet1/0/0] ospf enable multi-area 1",
            "[*HUAWEI-GigabitEthernet1/0/0] ospf suppress-flapping peer hold-down 200 multi-area 1"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] ospf 1",
            "[*HUAWEI-ospf-1] area 0",
            "[*HUAWEI-ospf-1-area-0.0.0.0] quit",
            "[*HUAWEI-ospf-1] area 1",
            "[*HUAWEI-ospf-1-area-0.0.0.1] quit",
            "[*HUAWEI-ospf-1] quit",
            "[*HUAWEI] interface GigabitEthernet 1/0/0",
            "[*HUAWEI-GigabitEthernet1/0/0] ospf enable 1 area 0",
            "[*HUAWEI-GigabitEthernet1/0/0] ospf enable multi-area 1",
            "[*HUAWEI-GigabitEthernet1/0/0] ospf suppress-flapping peer detecting-interval 5 threshold 40 resume-interval 20 multi-area 1"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] ospf 1",
            "[*HUAWEI-ospf-1] area 0",
            "[*HUAWEI-ospf-1-area-0.0.0.0] quit",
            "[*HUAWEI-ospf-1] area 1",
            "[*HUAWEI-ospf-1-area-0.0.0.1] quit",
            "[*HUAWEI-ospf-1] quit",
            "[*HUAWEI] interface GigabitEthernet1/0/0",
            "[*HUAWEI-GigabitEthernet1/0/0] ospf enable 1 area 0",
            "[*HUAWEI-GigabitEthernet1/0/0] ospf enable multi-area 1",
            "[*HUAWEI-GigabitEthernet1/0/0] ospf suppress-flapping peer hold-max-cost disable multi-area 1"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] ospf 1",
            "[*HUAWEI-ospf-1] area 0",
            "[*HUAWEI-ospf-1-area-0.0.0.0] quit",
            "[*HUAWEI-ospf-1] area 1",
            "[*HUAWEI-ospf-1-area-0.0.0.1] quit",
            "[*HUAWEI-ospf-1] quit",
            "[*HUAWEI] interface GigabitEthernet1/0/0",
            "[*HUAWEI-GigabitEthernet1/0/0] ospf enable 1 area 0",
            "[*HUAWEI-GigabitEthernet1/0/0] ospf enable multi-area 1",
            "[*HUAWEI-GigabitEthernet1/0/0] ospf suppress-flapping peer disable multi-area 1"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nBy default, OSPF neighbor relationship flapping suppression is enabled on all multi-area adjacency interfaces in the same OSPF process. To disable the function from one of the interfaces, run the ospf suppress-flapping peer disable multi-area area-id command.\nWhen a multi-area adjacency interface enters the flapping suppression state, all neighbor relationships on the interface enter the state accordingly.\nPrerequisites\nThe ospf enable multi-area command has been run.\nOSPF neighbor relationship flapping suppression must have been enabled globally before you enable the function on a multi-area adjacency interface using the undo ospf suppress-flapping peer disable multi-area command. By default, the function is enabled globally. If it is disabled, run the undo suppress-flapping peer disable command to enable it first.\nThe ospf enable multi-area command has been run.\nOSPF neighbor relationship flapping suppression must have been enabled globally before you configure duration for the Hold-max-cost mode on a multi-area adjacency interface. By default, the function is enabled. If it is disabled, run the undo suppress-flapping peer disable command to enable it before you configure duration for the Hold-max-cost mode.\nOSPF neighbor relationship flapping suppression has been enabled globally before you configure detection parameters for it. By default, OSPF neighbor relationship flapping suppression is enabled. If it is disabled, run the undo suppress-flapping peer disable command to enable it before you configure the detection parameters.\nThe ospf enable multi-area command has been run.\nOSPF neighbor relationship flapping suppression must have been enabled globally before you configure the Hold-down mode and set duration for this mode on a multi-area adjacency interface. By default, the function is enabled. If it is disabled, run the undo suppress-flapping peer disable command to enable it before you configure the Hold-down mode and set duration for this mode.\nThe ospf enable multi-area command has been run.\nOSPF neighbor relationship flapping suppression must have been enabled globally before you enable the function on a multi-area adjacency interface using the undo ospf suppress-flapping peer disable multi-area command. By default, the function is enabled globally. If it is disabled, run the undo suppress-flapping peer disable command to enable it first.\nPrecautions\nThe Hold-max-cost mode takes effect only unidirectionally. If a remote device does not support OSPF neighbor relationship flapping suppression, bidirectional traffic between the local and remote devices may travel along different paths."
}