{
    "PageTitle": "remote-lfa (OSPF FRR view)",
    "FuncDef": "The remote-lfa command enables OSPF Remote loop-free alternate (LFA).\nThe undo remote-lfa command disables OSPF Remote LFA.\nThis command takes effect whether or not the same route is advertised by multiple nodes.\nBy default, OSPF Remote LFA is disabled.",
    "CLIs": [
        "remote-lfa tunnel ldp [ maximum-reachable-cost <cost-value> ]",
        "undo remote-lfa tunnel ldp [ maximum-reachable-cost <cost-value> ]"
    ],
    "ParentView": [
        "OSPF FRR view"
    ],
    "ParaDef": [
        {
            "Parameters": "maximum-reachable-cost cost-value",
            "Info": "Specifies the maximum cost for remote nodes.\nThe value is an integer ranging from 1 to 4294967295. The default value is 4294967295."
        },
        {
            "Parameters": "tunnel",
            "Info": "Enables the device to establish tunnels.\n-"
        },
        {
            "Parameters": "ldp",
            "Info": "Enables the device to establish Label Distribution Protocol (LDP) tunnels.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] ospf",
            "[*HUAWEI-ospf-1] frr",
            "[*HUAWEI-ospf-1-frr] loop-free-alternate",
            "[*HUAWEI-ospf-1-frr] remote-lfa tunnel ldp"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nReal-time service transmission requires fast link switch if an OSPF fault occurs. To meet the requirement, you can run the remote-lfa command to enable OSPF Remote LFA. OSPF Remote LFA selects a PQ node and establishes a tunnel to the PQ node. If the primary link fails, traffic can be switched to the tunnel and forwarded to the PQ node before routes converge on the control plane. After receiving the traffic, the PQ node searches the IP routing table to forward the traffic to the destination. Remote LFA ensures uninterrupted traffic forwarding.\nOSPF remote LFA FRR uses the SPF algorithm to calculate the shortest path to the destination node, with each neighbor that provides a backup link as the root node. The backup next hop is node-based, which applies to single-node routing scenarios. As networks are increasingly diversified, two ABRs or ASBRs are deployed to improve network reliability. In this case, OSPF FRR in a scenario where multiple nodes advertise the same route is needed. For example, in the feature description \"OSPF IP FRR\", figure 4 shows OSPF FRR in the scenario where multiple nodes advertise the same route, Device B and Device C function as ABRs to forward area 0 and area 1 routes. Device E advertises an intra-area route. Upon receipt of the route, Device B and Device C translate it to a Type 3 LSA and flood the LSA to area 0. After OSPF FRR is enabled on Device A, Device A considers Device B and Device C as its neighbors. Without a fixed neighbor as the root node, Device A fails to calculate an FRR backup next hop. To address this problem, a virtual node is simulated between Device B and Device C and used as the root node of Device A, and Device A uses the remote LFA algorithm to calculate the backup next hop. This solution converts multi-node routing into single-node routing.\nPrerequisites\nFRR and OSPF LFA have been enabled in order. To enable FRR, run the frr command. To enable OSPF LFA, run the loop-free-alternate command."
}