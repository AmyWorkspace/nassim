{
    "PageTitle": "apply traffic-index",
    "FuncDef": "The apply traffic-index command sets the BGP traffic index.\nThe undo apply traffic-index command cancels the configuration.\nBy default, no BGP traffic index is set.",
    "CLIs": [
        "apply traffic-index <indexVal>",
        "undo apply traffic-index"
    ],
    "ParentView": [
        "Route-policy view"
    ],
    "ParaDef": [
        {
            "Parameters": "indexVal",
            "Info": "Specifies the index of BGP traffic.\nThe value is an integer ranging from 1 to 64."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] route-policy test permit node 10",
            "[*HUAWEI-route-policy] apply traffic-index 10"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nBGP accounting uses different BGP traffic indexes in BGP community attributes to identify routes and charge for the traffic accordingly.\nThe sending end of BGP routes can set attributes for BGP routes using a route-policy. The receiving end of BGP routes can set the BGP traffic index for BGP routes based on the BGP community, BGP AS_Path, ACL, or IP prefix list. The BGP traffic index together with routing information is delivered to the FIB. After BGP accounting is enabled on an interface, the traffic-index-based traffic collection table is generated for the interface.\nDuring packet forwarding, traffic statistics can be collected according to the traffic index on each interface. Traffic statistics can be collected according to either the destination address in the inbound direction or the source address in the outbound direction.\nPrerequisites\nA route-policy has been configured using the route-policy command."
}