{
    "PageTitle": "ipv6 summary",
    "FuncDef": "The ipv6 summary command enables IS-IS IPv6 route summarization.\nThe undo ipv6 summary command disables IS-IS IPv6 route summarization.\nBy default, IS-IS IPv6 route summarization is disabled.",
    "CLIs": [
        "ipv6 summary <ipv6-address> <prefix-length> [ avoid-feedback | generate_null0_route | tag <tag-value> | learning-avoid-loop | [ level-1 | level-2 | level-1-2 ] ] *",
        "undo ipv6 summary <ipv6-address> <prefix-length> [ level-1 | level-2 | level-1-2 ]"
    ],
    "ParentView": [
        "IS-IS view"
    ],
    "ParaDef": [
        {
            "Parameters": "ipv6-address",
            "Info": "Specifies the address segment of the routes to be summarized.\nThe value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X."
        },
        {
            "Parameters": "prefix-length",
            "Info": "Specifies the prefix length of a summary route.\nThe value is an integer ranging from 0 to 128."
        },
        {
            "Parameters": "avoid-feedback",
            "Info": "Avoid learning your own published aggregation routes from another level. If there is a learning route in another level that is the same as the summary address, it is assumed that the route is infiltrated into another level and published by other routers after they have learned the summary route published by the local router. At this point, avoid-feedback occurs and the route becomes inactive, removed from the RM routing table.\n-"
        },
        {
            "Parameters": "generate_null0_route",
            "Info": "Generates Null 0 routes to prevent routing loops.\n-"
        },
        {
            "Parameters": "tag tag-value",
            "Info": "Specifies an administrative tag value.\nThe value is an integer ranging from 1 to 4294967295."
        },
        {
            "Parameters": "learning-avoid-loop",
            "Info": "Generate backup routes for summary routes to prevent loops.\n-"
        },
        {
            "Parameters": "level-1",
            "Info": "Summarizes routes in the Level-1 area.\n-"
        },
        {
            "Parameters": "level-2",
            "Info": "Summarizes routes in the Level-2 area.\nIf no level is specified, Level-2 routes are summarized.\n-"
        },
        {
            "Parameters": "level-1-2",
            "Info": "Summarizes routes in Level-1 and Level-2 areas.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] isis",
            "[*HUAWEI-isis-1] ipv6 enable",
            "[*HUAWEI-isis-1] ipv6 summary 2001:db8:: 32"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nThe IS-IS routing table of a device on a medium or large IS-IS network contains a large number of routing entries. Storing the routing table consumes a large number of memory resources, and transmitting and processing routes consume lots of network resources. IS-IS route summarization can solve this problem.\nRoutes with the same IPv6 prefix can be summarized into one route. Route summarization on a large-scale IS-IS network reduces the number of routes in a routing table and minimizes system resource consumption. In addition, if a specific link frequently alternates between Up and Down, the links not involved in the route summarization will not be affected, which prevents route flapping and improves network security.\nConfiguring route summarization does not affect the routing table on a local device. Each specific route is displayed in the routing table. Configuring route summarization, however, reduces LSPs to be flooded. Any device that receives the LSP from the summarization-capable router has only one summarized route in its routing table.\nOn a network, at least two devices (A and B for example) advertise the same summary route. If device C preferentially selects the summary route advertised by device A and sends traffic destined for the address of a specific route that participated in summarization of the summary route, to device A, but the outbound interface of the specific route on device A fails, device C keeps sending the traffic to device A because device C fails to detect the fault in time. Due to the outbound interface failure, device A sends the traffic back to device C, leading to a routing loop. To prevent this problem, specify the learning-avoid-loop parameter when configuring the summary route on device A so that a backup path (passing through device B) is generated for the summary route.\nPrerequisites\nAn IS-IS process has been created using the isis command, and IPv6 has been enabled for this process using the ipv6 enable command.\nPrecautions\nThe routes to be summarized can be the routes discovered by IS-IS or IPv6 routes imported from other routing protocols. The cost of the summarized route is the smallest cost of the routes that are summarized.The learning-avoid-loop parameter takes effect only after the ipv6 frr and segment-routing ipv6 locator commands are run.The learning-avoid-loop parameter takes effect only for summary routes on a network, and two or more devices must advertise the same summary route on the network. As a summary route cannot be verified, you need to ensure that it is a valid summary route through configuration.The learning-avoid-loop parameter may not be applicable to all scenarios. You need to determine a specific loop prevention method based on the actual networking scenario."
}