{
    "PageTitle": "display isis spf-log (All views)",
    "FuncDef": "The display isis spf-log command displays the SPF and PRC calculation log of IS-IS.",
    "CLIs": [
        "display isis spf-log [ <process-id> ] spf [ ipv6 | [ topology <topology-name> ] | [ level-1 | level-2 ] ] *",
        "display isis spf-log [ <process-id> ] prc [ ipv6 | [ topology <topology-name> ] ] *"
    ],
    "ParentView": [
        "All views"
    ],
    "ParaDef": [
        {
            "Parameters": "process-id",
            "Info": "Specifies an IS-IS process ID.\nThe value is an integer ranging from 1 to 4294967295."
        },
        {
            "Parameters": "spf",
            "Info": "Indicates the SPF calculation log.\n-"
        },
        {
            "Parameters": "ipv6",
            "Info": "Indicates the SPF calculation log in the IPv6 topology.\n-"
        },
        {
            "Parameters": "topology topology-name",
            "Info": "Specifies the name of a topology instance.\nThe value is a string of 1 to 31 case-sensitive characters without spaces. The value must start with a letter (a to z or A to Z, case sensitive) and can contain numbers, hyphens (-), or underlines (_). When double quotation marks are used around the string, spaces are allowed in the string."
        },
        {
            "Parameters": "level-1",
            "Info": "Indicates the SPF calculation log in a Level-1 area.\n-"
        },
        {
            "Parameters": "level-2",
            "Info": "Indicates the SPF calculation log in a Level-2 area.\n-"
        },
        {
            "Parameters": "prc",
            "Info": "Indicates the PRC calculation log.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> display isis spf-log spf level-1",
            "",
            "                        SPF Log information for ISIS(1)",
            "                        -------------------------------",
            "",
            "                            ISIS(1) Level-1 SPF Log",
            "                            -----------------------",
            "",
            " StartTime  Duration  Nodes  Count  Last Trigger LSP      Trigger Event        ",
            "-------------------------------------------------------------------------------",
            "2019-08-10  0         2      3      NULL                  L1_ISPT_ADJ_NEXTHOP_C",
            "07:52:52.51                                               HANGE                ",
            "5"
        ],
        [
            "<HUAWEI> display isis spf-log prc",
            "",
            "                        SPF Log information for ISIS(1)",
            "                        -------------------------------",
            "",
            "                            ISIS(1) PRC Log",
            "                            -----------------------",
            "",
            " StartTime  Duration  Routes Count  Last Trigger LSP      Trigger Event        ",
            "-------------------------------------------------------------------------------",
            "2019-08-10  0         2      3      NULL                  ICRM_SC_FULL_CALC    ",
            "08:28:31.50                                                                    ",
            "8                                                                              ",
            "2019-08-10  0         1      1      NULL                  ICRM_SC_PREFIX       ",
            "08:26:34.59                                                                    ",
            "6                                                                              ",
            "2019-08-10  0         1      1      NULL                  ICRM_SC_PREFIX       ",
            "08:25:36.80                                                                    ",
            "2                                                                              ",
            "2019-08-10  1         1      1      NULL                  ICRM_SC_PREFIX       ",
            "08:25:09.35                                                                    ",
            "1                                                                              ",
            "2019-08-10  0         1      1      NULL                  ICRM_SC_PREFIX       ",
            "08:13:53.47                                                                    ",
            "8                                                                              ",
            "2019-08-10  0         0      2      NULL                  ICRM_SC_FRR_NODE     ",
            "08:13:14.04                                                                    ",
            "3                                                                              ",
            "2019-08-10  1         2      3      NULL                  ICRM_SC_FULL_CALC    ",
            "08:13:12.25                                                                    ",
            "1                                                                              ",
            "2019-08-10  0         1      1      NULL                  ICRM_SC_PREFIX       ",
            "08:05:21.39                                                                    ",
            "8                                                                              ",
            "2019-08-10  0         2      2      NULL                  ICRM_SC_PREFIX       ",
            "07:25:05.55                                                                    ",
            "7                                                                              ",
            "2019-08-10  0         0      1      NULL                  ICRM_SC_AREA         ",
            "07:22:54.02                                                                    ",
            "7                                                                              ",
            "2019-08-10  0         1      1      NULL                  ICRM_SC_PREFIX       ",
            "02:19:58.36                                                                    ",
            "2                                                                              ",
            "2019-08-10  0         0      2      NULL                  ICRM_SC_STALE_SPT    ",
            "02:09:04.94                                                                    ",
            "6                                                                              ",
            "2019-08-10  0         0      3      NULL                  ICRM_SC_AREA         ",
            "02:09:03.91                                                                    ",
            "0"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nWhen an error occurs in the IS-IS SPF or PRC calculation, run the display isis spf-log command to diagnose the fault. The command can be used to view the SPF calculation log of IS-IS, such as the start time, duration, number of nodes, and events that trigger the SPF calculation. You can check which event causes the error of the SPF or PRC calculation by the start time.\nCheck the StartTime field first. If the SPF or PRC calculation is performed repeatedly at short intervals, flapping may have occurred. Then check the Last Trigger LSP and Trigger Event fields for further analysis."
}