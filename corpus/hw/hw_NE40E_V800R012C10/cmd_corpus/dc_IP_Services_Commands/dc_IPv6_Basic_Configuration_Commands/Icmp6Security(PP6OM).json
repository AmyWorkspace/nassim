{
    "PageTitle": "ipv6 icmp",
    "FuncDef": "The ipv6 icmp command enables the system to send or receive ICMPv6 messages.\nThe undo ipv6 icmp command disables the system to send or receive ICMPv6 messages.\nThe clear ipv6 icmp command clears the configurations of the ipv6 icmp and undo ipv6 icmp commands.\nBy default, a device sends or receives well-known ICMPv6 messages not other types of ICMPv6 messages.",
    "CLIs": [
        "ipv6 icmp { echo-reply | echo | err-header-field | hop-limit-exceeded | neighbor-advertisement | neighbor-solicitation | network-unreachable | packet-too-big | redirect | router-advertisement | router-solicitation | multicast-listener-report-v2 | multicast-listener-query | multicast-listener-report | multicast-listener-done } { send | receive }",
        "ipv6 icmp { frag-time-exceeded | host-admin-prohib | unknown-next-hdr } { send | receive }",
        "ipv6 icmp unknown-ipv6-opt { send | receive }",
        "ipv6 icmp host-unreachable { send | receive }",
        "ipv6 icmp port-unreachable { send | receive }",
        "ipv6 icmp <icmp6Type> <icmp6Code> { send | receive }",
        "ipv6 icmp all-famous { send | receive }",
        "clear ipv6 icmp { echo-reply | echo | err-header-field | hop-limit-exceeded | neighbor-advertisement | neighbor-solicitation | network-unreachable | packet-too-big | redirect | router-advertisement | router-solicitation | multicast-listener-report-v2 | multicast-listener-query | multicast-listener-report | multicast-listener-done } { send | receive }",
        "clear ipv6 icmp { frag-time-exceeded | host-admin-prohib | unknown-next-hdr } { send | receive }",
        "clear ipv6 icmp unknown-ipv6-opt { send | receive }",
        "clear ipv6 icmp host-unreachable { send | receive }",
        "clear ipv6 icmp port-unreachable { send | receive }",
        "clear ipv6 icmp <icmp6Type> <icmp6Code> { send | receive }",
        "clear ipv6 icmp all-famous { send | receive }",
        "undo ipv6 icmp { echo-reply | echo | err-header-field | hop-limit-exceeded | neighbor-advertisement | neighbor-solicitation | network-unreachable | packet-too-big | redirect | router-advertisement | router-solicitation | multicast-listener-report-v2 | multicast-listener-query | multicast-listener-report | multicast-listener-done } { send | receive }",
        "undo ipv6 icmp { frag-time-exceeded | host-admin-prohib | unknown-next-hdr } { send | receive }",
        "undo ipv6 icmp unknown-ipv6-opt { send | receive }",
        "undo ipv6 icmp host-unreachable { send | receive }",
        "undo ipv6 icmp port-unreachable { send | receive }",
        "undo ipv6 icmp <icmp6Type> <icmp6Code> { send | receive }",
        "undo ipv6 icmp all-famous { send | receive }"
    ],
    "ParentView": [
        "System view"
    ],
    "ParaDef": [
        {
            "Parameters": "echo-reply",
            "Info": "Indicates an Echo Reply message.\n-"
        },
        {
            "Parameters": "echo",
            "Info": "Indicates an Echo message.\n-"
        },
        {
            "Parameters": "err-header-field",
            "Info": "Indicates an ICMPv6 error header field message.\n-"
        },
        {
            "Parameters": "hop-limit-exceeded",
            "Info": "Indicates an ICMPv6 Hop Limit Exceeded message.\n-"
        },
        {
            "Parameters": "neighbor-advertisement",
            "Info": "Indicates an ICMPv6 neighbor advertisement message.\n-"
        },
        {
            "Parameters": "neighbor-solicitation",
            "Info": "Indicates an ICMPv6 neighbor solicitation message.\n-"
        },
        {
            "Parameters": "network-unreachable",
            "Info": "Indicates an ICMPv6 Network Unreachable message.\n-"
        },
        {
            "Parameters": "packet-too-big",
            "Info": "Indicates an ICMPv6 Packet Too Big message.\n-"
        },
        {
            "Parameters": "redirect",
            "Info": "Indicates an ICMPv6 redirect message.\n-"
        },
        {
            "Parameters": "router-advertisement",
            "Info": "Indicates an ICMPv6 router advertisement message.\n-"
        },
        {
            "Parameters": "router-solicitation",
            "Info": "Indicates an ICMPv6 router solicitation message.\n-"
        },
        {
            "Parameters": "multicast-listener-report-v2",
            "Info": "Indicates a Version 2 Multicast Listener Report message.\n-"
        },
        {
            "Parameters": "multicast-listener-query",
            "Info": "Indicates a Multicast Listener Query message.\n-"
        },
        {
            "Parameters": "multicast-listener-report",
            "Info": "Indicates a Multicast Listener Report message.\n-"
        },
        {
            "Parameters": "multicast-listener-done",
            "Info": "Indicates a Multicast Listener Done message.\n-"
        },
        {
            "Parameters": "frag-time-exceeded",
            "Info": "Indicates an ICMPv6 Fragment Time Exceeded message.\n-"
        },
        {
            "Parameters": "host-admin-prohib",
            "Info": "Indicates an ICMPv6 host administratively prohibited message.\n-"
        },
        {
            "Parameters": "unknown-next-hdr",
            "Info": "Indicates an ICMPv6 unknown Next Header type message.\n-"
        },
        {
            "Parameters": "unknown-ipv6-opt",
            "Info": "Indicates an ICMPv6 unknown IPv6 option message.\n-"
        },
        {
            "Parameters": "host-unreachable",
            "Info": "Indicates an ICMPv6 Host Unreachable message.\n-"
        },
        {
            "Parameters": "port-unreachable",
            "Info": "Indicates an ICMPv6 Port Unreachable message.\n-"
        },
        {
            "Parameters": "icmp6Type",
            "Info": "Specifies the type of an ICMPv6 message.\nThe value is an integer that ranges from 0 to 255."
        },
        {
            "Parameters": "icmp6Code",
            "Info": "Specifies the code of an ICMPv6 message.\nThe value is an integer that ranges from 0 to 255."
        },
        {
            "Parameters": "all-famous",
            "Info": "Indicates all-famous ICMPv6 messages, including:\nSent well-known ICMPv6 messages: echo, echo-reply, hop-limit-exceeded, neighbor-advertisement, neighbor-solicitation, network-unreachable, packet-too-big, redirect, router-advertisement, router-solicitation, multicast-listener-done, multicast-listener-query, multicast-listener-report, multicast-listener-report-v2, host-unreachable, and port-unreachable.Received well-known ICMPv6 messages: echo, echo-reply, hop-limit-exceeded, neighbor-advertisement, neighbor-solicitation, packet-too-big, router-advertisement, router-solicitation, multicast-listener-done, multicast-listener-query, multicast-listener-report, multicast-listener-report-v2, and port-unreachable.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] ipv6 icmp echo-reply send"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] undo ipv6 icmp echo-reply send"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] ipv6 icmp redirect send"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nOn a normal network, a device can correctly send or receive ICMPv6 messages; however, when network traffic load is heavy, host unreachable or port unreachable events frequently occur and routers need to send a large number of ICMPv6 messages, which burdens the network and degrades the performance of the routers. In addition, attackers usually use ICMPv6 error messages to probe the internal network topology illegitimately.\nTo improve network performance and security, run the undo ipv6 icmp command to disable routing devices from sending or receiving ICMPv6 messages of specified types, such as Echo Reply, Host Unreachable, and Port Unreachable messages. If all-famous, ND-related parameters, or MLD-related parameters are specified, exercise caution when running this command. Otherwise, IPv6 unicast services (ND) or multicast services (MLD) may be affected.\nall-famous: disables the system from sending or receiving all well-known ICMPv6 messages.ND-related parameters: neighbor-advertisement, neighbor-solicitation, router-advertisement, router-solicitation, and redirect.MLD-related parameters: multicast-listener-report-v2, multicast-listener-query, multicast-listener-report, and multicast-listener-done.\nIf you want to restore the default configuration and the display this command output does not contain the ipv6 icmp or undo ipv6 icmp command configuration, run the clear ipv6 icmp command.\n\nConfiguration Impact\nAfter the system is disabled from sending or receiving ICMPv6 Echo-Reply messages, Host-Unreachable messages, and Port-Unreachable messages, the system counts only the number of discarded messages instead of the number of sent or receive Echo-Reply messages, Host-Unreachable messages, and Port-Unreachable messages.\nPrecautions\nWhen the network becomes normal again, you can run the ipv6 icmp command to re-enable the system to process ICMPv6 messages."
}