{
    "PageTitle": "dhcp option82 format(VLAN view)",
    "FuncDef": "The dhcp option82 format command configures the format of the Option 82 field for a VLAN.\nThe undo dhcp option82 format command restores the default setting.\nBy default, Option 82 in DHCP packets is in the type1 format.",
    "CLIs": [
        "dhcp option82 format { type1 | type2 | self-define <self-define> | cn-telecom } interface { <interface-type> <interface-number> | <interface-name> }",
        "undo dhcp option82 format interface { <interface-type> <interface-number> | <interface-name> }"
    ],
    "ParentView": [
        "VLAN view"
    ],
    "ParaDef": [
        {
            "Parameters": "type1",
            "Info": "Indicates the Telecom format of Option 82.\nCID format: interface name:outer VLAN ID.inner VLAN ID system name/0/0/0/0/0, in ASCII encapsulation mode.\n-"
        },
        {
            "Parameters": "type2",
            "Info": "Indicates the NMS format of Option 82.\nCID format: interface name:outer VLAN ID.inner VLAN ID system name, in ASCII encapsulation mode.\n-"
        },
        {
            "Parameters": "self-define self-define",
            "Info": "Indicates the user-defined format string of DHCP Option 82.\nThe value is a string of 1 to 255 case-insensitive characters. The value can contain letters, numerals, and special characters."
        },
        {
            "Parameters": "cn-telecom",
            "Info": "Indicates the Option 82 format defined by China Telecom.\nCID format: interface name:outer VLAN ID.inner VLAN ID /0/0/0/0/0/0, in ASCII encapsulation mode.\n-"
        },
        {
            "Parameters": "interface interface-type interface-number",
            "Info": "Specifies the interface type and number.\n-"
        },
        {
            "Parameters": "interface interface-name",
            "Info": "Specifies the interface name.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] dhcp enable",
            "[*HUAWEI] vlan 10",
            "[*HUAWEI-vlan10] quit",
            "[*HUAWEI] interface GigabitEthernet 1/0/1",
            "[*HUAWEI-GigabitEthernet1/0/1] portswitch",
            "[*HUAWEI-GigabitEthernet1/0/1] port default vlan 10",
            "[*HUAWEI-GigabitEthernet1/0/1] quit",
            "[*HUAWEI] vlan 10",
            "[*HUAWEI-vlan10] dhcp option82 insert enable interface GigabitEthernet 1/0/1",
            "[*HUAWEI-vlan10] dhcp option82 format type1 interface GigabitEthernet 1/0/1"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] dhcp enable",
            "[*HUAWEI] vlan 10",
            "[*HUAWEI-vlan10] quit",
            "[*HUAWEI] interface GigabitEthernet 1/0/1",
            "[*HUAWEI-GigabitEthernet1/0/1] portswitch",
            "[*HUAWEI-GigabitEthernet1/0/1] port default vlan 10",
            "[*HUAWEI-GigabitEthernet1/0/1] quit",
            "[*HUAWEI] vlan 10",
            "[*HUAWEI-vlan10] dhcp option82 insert enable interface GigabitEthernet 1/0/1",
            "[*HUAWEI-vlan10] dhcp option82 format self-define testCase interface GigabitEthernet 1/0/1"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nThe option 82 contains the location information of DHCP clients, such as information about login interface, VLAN, and address. After the option 82 field is configured, the device can set up dynamic binding entries with accurate interface information. Based on the option 82 field, the DHCP server assigns IP addresses and policies for DHCP clients.\nAfter a user-defined Option 82 format is configured, the device encapsulates the user-defined Option 82 format into packets.\nPrerequisites\nPerform the following operations before running the command:\nGlobally enable DHCP using the dhcp enable command.Enable the Option 82 inserting function as required.Run the dhcp option82 insert enable (VLAN view) command to enable a device to insert Option 82 into DHCP packets. If no Option 82 field exists in a received DHCP packet, the device inserts the Option 82 field into the packet. If the Option 82 field exists in a received DHCP packet, the device checks whether the Option 82 field contains sub-options. If the Option 82 field contains sub-options, the device does not change the sub-options. If the Option 82 field does not contain sub-options and the sub-option format is configured, the device inserts sub-options into the Option 82 field.Run the dhcp option82 rebuild enable (VLAN view) command to enable a device to forcibly insert Option 82 into DHCP packets. If no Option 82 field exists in a received DHCP packet, the device inserts the Option 82 field into the packet. If the Option 82 field exists in a DHCP packet, the device deletes the Option 82 field and inserts a new Option 82 field into the packet."
}