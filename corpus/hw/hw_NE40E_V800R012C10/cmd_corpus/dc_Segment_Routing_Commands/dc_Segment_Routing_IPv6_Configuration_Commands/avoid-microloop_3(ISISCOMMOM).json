{
    "PageTitle": "ipv6 avoid-microloop segment-routing",
    "FuncDef": "The ipv6 avoid-microloop segment-routing command enables the anti-microloop function in SRv6.\nThe undo ipv6 avoid-microloop segment-routing command disables the anti-microloop function in SRv6.\nBy default, this function is disabled.",
    "CLIs": [
        "ipv6 avoid-microloop segment-routing",
        "undo ipv6 avoid-microloop segment-routing"
    ],
    "ParentView": [
        "IS-IS view"
    ],
    "ParaDef": null,
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] segment-routing ipv6",
            "[*HUAWEI-segment-routing-ipv6] locator test1 ipv6-prefix 100:: 64 static 32",
            "[*HUAWEI-segment-routing-ipv6-locator] quit",
            "[*HUAWEI-segment-routing-ipv6] quit",
            "[*HUAWEI] isis 1",
            "[*HUAWEI-isis-1] ipv6 enable",
            "[*HUAWEI-isis-1] cost-style wide",
            "[*HUAWEI-isis-1] segment-routing ipv6 locator test1 auto-sid-disable",
            "[*HUAWEI-isis-1] ipv6 avoid-microloop segment-routing"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nIf a network fault occurs or is rectified, an IGP performs route convergence. A transient forwarding status inconsistency between nodes results in different convergence rates on devices, which poses the risk of micro-loops. After anti-micro loop is enabled for SRv6, the ingress forwards packets strictly along an explicit path during IGP convergence. The forwarding is irrelevant to IGP convergence of devices, which prevents micro-loops.\nFollow-up Procedure\nRun the ipv6 avoid-microloop segment-routing rib-update-delay command to set a delay time for a route next hop switchback."
}