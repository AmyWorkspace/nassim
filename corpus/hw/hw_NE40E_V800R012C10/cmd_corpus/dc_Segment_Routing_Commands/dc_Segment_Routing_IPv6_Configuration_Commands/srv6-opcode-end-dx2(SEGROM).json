{
    "PageTitle": "opcode evpl-instance",
    "FuncDef": "The opcode evpl-instance command configures a static SRv6 End.DX2/End.DX2L SID operation code (Opcode).\nThe undo opcode evpl-instance command deletes a static SRv6 End.DX2/End.DX2L SID operation code.\nBy default, no static SRv6 End.DX2/End.DX2L SID operation code is configured.",
    "CLIs": [
        "opcode <func-opcode> { end-dx2 | end-dx2l } evpl-instance <evpl-instance-id>",
        "undo opcode <func-opcode> { end-dx2 | end-dx2l } [ evpl-instance <evpl-instance-id> ]"
    ],
    "ParentView": [
        "Segment routing IPv6 locator view"
    ],
    "ParaDef": [
        {
            "Parameters": "func-opcode",
            "Info": "Specifies the operation code for an static SRv6 End.DX2/End.DX2L SID.\nThe value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X."
        },
        {
            "Parameters": "end-dx2",
            "Info": "Specifies decapsulation and L2 cross-connect forwarding.\n-"
        },
        {
            "Parameters": "end-dx2l",
            "Info": "Specifies decapsulation and bypass L2 cross-connect forwarding.\n-"
        },
        {
            "Parameters": "evpl-instance-id",
            "Info": "Displays information about local SRv6 SID tables based on a specified EVPL instance ID.\nThe value is an integer ranging from 1 to 256000."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] evpl instance 1 srv6-mode",
            "[*HUAWEI-evpl-srv6-1] quit",
            "[*HUAWEI] segment-routing ipv6",
            "[*HUAWEI-segment-routing-ipv6] locator test1 ipv6-prefix 100:: 64 static 32",
            "[*HUAWEI-segment-routing-ipv6-locator] opcode ::700 end-dx2 evpl-instance 1",
            "[*HUAWEI-segment-routing-ipv6-locator] opcode ::702 end-dx2l evpl-instance 1"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nAn SRv6 SID is a 128-bit IPv6 address expressed in the Locator:Function:Args format. The Function field is also called Opcode, and different operation codes define different functions.\nStatic operation codes must be configured within the static operation code segment. The length of a static operation code segment is configured through the static static-length parameter in the locator command to determine the number of static operation codes that can be configured in a specified locator range.\nAfter you run the opcode command to configure various types of operation codes, the Locator, Opcode, and Args fields form a unique SRv6 SID. The SRv6 SID is then added to the local SID table on the device. In forwarding, the Locator field in the SRv6 SID instructs other nodes to find the SRv6 SID generation node through addressing and forward SRv6 packets to the node; the Opcode field instructs the SRv6 SID generation node to implement corresponding functions.\nEnd.DX2 (short for decapsulation and L2 cross-connect) supports packet decapsulation and forwarding through a specified Layer 2 outbound interface. End.DX2 SIDs are mainly used in Layer 2 Virtual Private Network (L2VPN) and EVPN VPWS scenarios.\nEnd.DX2 can be disassembled into End + D + X2, where D indicates decapsulation, and X2 indicates cross-connect (meaning that a packet needs to be directly forwarded through a specified Layer 2 interface). Therefore, each End.DX2 SID needs to be bound to a Layer 2 outbound interface.\nThe End.DX2 SID instruction includes the following operations:\n Removes the outer IPv6 header and SRH. Forwards the inner Ethernet frame to the Layer 2 outbound interface bound to the End.DX2 SID.\n\nPrecautions\nTo ensure proper forwarding, configured static SIDs and IPv6 addresses configured on interfaces cannot conflict with each other."
}