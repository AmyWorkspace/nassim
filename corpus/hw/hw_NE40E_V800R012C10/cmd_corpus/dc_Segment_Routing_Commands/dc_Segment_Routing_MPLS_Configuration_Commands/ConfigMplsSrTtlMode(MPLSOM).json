{
    "PageTitle": "mpls sr ttl-mode",
    "FuncDef": "The mpls sr ttl-mode command configures a mode for processing TTLs in packets transmitted over SR-MPLS TE and SR-MPLS BE LSPs.\nThe undo mpls sr ttl-mode command restores the default mode for processing TTLs in packets transmitted over SR-MPLS TE and SR-MPLS BE LSPs.\nBy default, the uniform mode is used to process TTLs in packets transmitted over SR-MPLS TE and SR-MPLS BE LSPs.",
    "CLIs": [
        "mpls sr ttl-mode { pipe | uniform }",
        "undo mpls sr ttl-mode"
    ],
    "ParentView": [
        "MPLS view"
    ],
    "ParaDef": [
        {
            "Parameters": "pipe",
            "Info": "Indicates the pipe mode used to process TTLs in packets transmitted over SR-MPLS TE and SR-MPLS BE LSPs.\n-"
        },
        {
            "Parameters": "uniform",
            "Info": "Indicates the uniform mode used to process TTLs in packets transmitted over SR-MPLS TE and SR-MPLS BE LSPs.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] mpls",
            "[*HUAWEI-mpls] mpls sr ttl-mode pipe"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nTTLs in packets transmitted over SR-MPLS TE and SR-MPLS BE LSPs are processed in either of the following modes:\nUniform Mode\nThe IP TTL value reduces by one each time it passes through a node in an MPLS network.\nWhen IP packets enter the MPLS network, the ingress reduces the IP TTL value by one and copies the IP TTL value to the MPLS TTL field. Each transit node only processes the MPLS TTL. The egress reduces the MPLS TTL by one, compares the MPLS TTL with the IP TTL, and obtains the smaller value to map it to the IP TTL.\nPipe Mode\nThe IP TTL value decreases by one only when passing through the ingress and egress.\nThe ingress reduces the IP TTL value in packets by one and sets the MPLS TTL to a specific value. Transit nodes only process the MPLS TTL. When the egress receives the packets, it removes the MPLS label carrying the MPLS TTL from each packet and reduces the IP TTL value by one.\nWhen Virtual Circuit Connectivity Verification (VCCV) tracert is used to trace routes of MS-PWs, all nodes on an LSP must use the same TTL processing mode. A mode inconsistency causes a tracert failure.\nWhen the SR-MPLS TE tunnel is established using the Node label, it is controlled by the command and supports the uniform or pipe modes.\nWhen the SR-MPLS TE tunnel is established using the Adjacency label, it currently only supports the uniform mode and is not controlled by the command.\n\nConfiguration Impact\nIf the TTL processing mode is changed to pipe on a node of an MPLS network, the tracert and tracert lsp command output does not contain information about this node."
}