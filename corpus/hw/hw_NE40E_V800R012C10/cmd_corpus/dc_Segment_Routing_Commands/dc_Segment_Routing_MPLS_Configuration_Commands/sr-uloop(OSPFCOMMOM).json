{
    "PageTitle": "avoid-microloop segment-routing (OSPF view)",
    "FuncDef": "The avoid-microloop segment-routing command enables the anti-microloop function in segment routing.\nThe undo avoid-microloop segment-routing command disables the anti-microloop function in segment routing.\nBy default, the anti-microloop function in segment routing is disabled.",
    "CLIs": [
        "avoid-microloop segment-routing",
        "undo avoid-microloop segment-routing"
    ],
    "ParentView": [
        "OSPF view"
    ],
    "ParaDef": null,
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] segment-routing",
            "[*HUAWEI-segment-routing] quit",
            "[*HUAWEI] ospf 1",
            "[*HUAWEI-ospf-1] opaque-capability enable",
            "[*HUAWEI-ospf-1] segment-routing mpls",
            "[*HUAWEI-ospf-1] avoid-microloop segment-routing"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nIf a network fault occurs or is rectified, an IGP performs route convergence. A transient forwarding status inconsistency between nodes results in different convergence rates on devices, which poses the risk of micro-loops. After anti-micro loop is enabled for segment routing, the ingress forwards packets strictly along an explicit path during IGP convergence. The forwarding is irrelevant to IGP convergence of devices, which prevents loops.\nPrerequisites\nBefore configuring the current command line, you need to configure the segment-routing mpls command.\nFollow-up Procedure\nRun the avoid-microloop segment-routing rib-update-delay command to set a switchback time."
}