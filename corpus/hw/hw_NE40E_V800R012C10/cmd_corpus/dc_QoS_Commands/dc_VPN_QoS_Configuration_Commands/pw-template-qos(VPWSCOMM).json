{
    "PageTitle": "qos cir (PW template view)",
    "FuncDef": "The qos cir command configures QoS parameters in a PW template.\nThe undo qos command deletes QoS parameter settings from a PW template.\nBy default, QoS parameters are not configured in a PW template.",
    "CLIs": [
        "qos cir <cir-value> [ pir <pir-value> ] [ qos-profile <qos-profile-name> ]",
        "undo qos",
        "undo qos cir <cir-value> [ pir <pir-value> ] [ qos-profile <qos-profile-name> ]"
    ],
    "ParentView": [
        "PW template view"
    ],
    "ParaDef": [
        {
            "Parameters": "pir pir-value",
            "Info": "Specifies the Peak Information Rate (PIR).\nPIR: refers to the maximum number of packets that can be processed per second as well as the maximum bandwidth required to process packets.\nThe value is 0 or an integer ranging from 16 to 4294967294, in kbit/s.\nIf you do not specify pir pir-value, the pir-value value is equal to the cir-value value.If you want to specify pir pir-value, ensure that the pir-value value is greater than or equal to the cir-value value.\npir-value and cir-value cannot be both 0s. If the cir-value value is 0, you must specify pir-value."
        },
        {
            "Parameters": "qos-profile qos-profile-name",
            "Info": "Specifies the name of the referenced QoS profile.\nThe value is a string of 1 to 63 case-sensitive characters, spaces not supported. The string can contain spaces if it is enclosed with double quotation marks (\")."
        },
        {
            "Parameters": "cir cir-value",
            "Info": "Specifies the Committed Information Rate (CIR).\nThe CIR is the relatively minimum bandwidth. When the CIR is set, the following action is taken on packets:\nForward: forwards the packets whose traffic rate is lower than the CIR.Discard: discards the packets whose traffic rate is higher than the PIR.Re-mark: re-marks the packets whose traffic rate is between the CIR and PIR and allows these packets to be forwarded using the best effort model.\nThe value is 0 or an integer ranging from 16 to 4294967294, in kbit/s."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] mpls",
            "[*HUAWEI-mpls] quit",
            "[*HUAWEI] mpls l2vpn",
            "[*HUAWEI-l2vpn] quit",
            "[*HUAWEI] pw-template pw1",
            "[*HUAWEI-pw-template-pw1] qos cir 2000 pir 3000"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nWhen multiple VPN services share the same tunnel, bandwidth preemption occurs among these VPN services. Non-VPN traffic also preempts the bandwidth of VPN traffic. As a result, VPN traffic cannot be forwarded or dropped strictly based on service priorities.\nThe VPN services carried over a tunnel have different resource requirements. To meet the resource requirements of VPWS services carried over a tunnel without affecting the quality of other VPN services, configure VPWS QoS. To configures QoS parameters in a PW template, run the qos cir command.\nPrerequisites\nA PW template has been created and the PW template view is displayed using the pw-template command.\nPrecautions\nOn VPLS networks in BGP or BGP AD mode, VSIs do not have PW configurations. Therefore, VPLS networks in BGP or BGP AD mode support VSI-based VPN QoS rather than peer-based VPN QoS.\nQoS parameter settings take effect only after the PW template is referenced by a PW.QoS parameters configured using the qos cir command take effect without running the reset pw command."
}