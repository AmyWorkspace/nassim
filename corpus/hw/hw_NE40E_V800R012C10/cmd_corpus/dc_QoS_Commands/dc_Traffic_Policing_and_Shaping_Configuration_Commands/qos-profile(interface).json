{
    "PageTitle": "qos-profile (interface view)",
    "FuncDef": "The qos-profile command applies the QoS profile to interfaces.\nThe undo qos-profile command removes the QoS profile that is applied to interfaces.\nBy default, no QoS profile is applied to an interface.",
    "CLIs": [
        "qos-profile <qos-profile-name> { inbound | outbound } [ identifier { none | vid | ce-vid | vid-ce-vid } ] [ group <group-name> ]",
        "qos-profile <qos-profile-name> { inbound | outbound } [ identifier none ] linkage-bandwidth",
        "qos-profile <qos-profile-name> { inbound | outbound } { identifier { vid | ce-vid | vid-ce-vid } } linkage-bandwidth",
        "undo qos-profile { inbound | outbound }"
    ],
    "ParentView": [
        "GE optical interface view",
        "GE sub-interface view",
        "GE electrical interface view",
        "PW-VE sub-interface view",
        "VNI view",
        "Port extension Layer 2 interface view",
        "Port extension sub-interface view",
        "Port extension interface view"
    ],
    "ParaDef": [
        {
            "Parameters": "qos-profile-name",
            "Info": "Specifies the name of a QoS profile.\nThe value is a string of 1 to 63 characters."
        },
        {
            "Parameters": "inbound",
            "Info": "Specifies the inbound direction of an interface.\n-"
        },
        {
            "Parameters": "outbound",
            "Info": "Specifies the outbound direction of an interface.\n-"
        },
        {
            "Parameters": "identifier",
            "Info": "Specifies which queue packets enter.\n-"
        },
        {
            "Parameters": "none",
            "Info": "Indicates that users share the bandwidth of one SQ. Indicates that users share the bandwidth of one SQ.\n-"
        },
        {
            "Parameters": "vid",
            "Info": "Specifies the external VLAN ID.\n-"
        },
        {
            "Parameters": "ce-vid",
            "Info": "Specifies the internal VLAN ID.\n-"
        },
        {
            "Parameters": "vid-ce-vid",
            "Info": "Specifies the internal and external VLAN ID.\n-"
        },
        {
            "Parameters": "group group-name",
            "Info": "Specifies the name of a shared group of QoS profile instances.After the CAR percentage is configured in a QoS profile, the group parameter cannot be specified when the QoS profile is applied to an interface.\nThe value is a string of 1 to 31 characters."
        },
        {
            "Parameters": "linkage-bandwidth",
            "Info": "Enables bandwidth association. By default, bandwidth association is disabled.\nIf bandwidth association is disabled, the percentage base value of the CIR and PIR in the user-queue command is the physical bandwidth of the interface.If bandwidth association is enabled, the percentage base value of the CIR and PIR in the user-queue command is the smaller value between the  interface bandwidth configured using the bandwidth command and the physical bandwidth of the interface.\nThe bandwidth association configuration in the qos-profile command allows the bandwidth value in percentage rate limiting to be changed with the bandwidth configuration change, and minimizes the configuration workload during service deployment change.This parameter is mutually exclusive with the group parameter.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] qos-profile p1",
            "[*HUAWEI-qos-profile-p1] quit",
            "[*HUAWEI] interface GigabitEthernet 1/0/0",
            "[*HUAWEI-GigabitEthernet1/0/0] qos-profile p1 inbound"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] qos-profile test",
            "[*HUAWEI-qos-profile-test] quit",
            "[*HUAWEI] vni 8",
            "[*HUAWEI-vni8] qos-profile test inbound"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] qos-profile p1",
            "[*HUAWEI-qos-profile-p1] quit",
            "[*HUAWEI] interface GigabitEthernet 1/0/0",
            "[*HUAWEI-GigabitEthernet1/0/0] qos-profile p1 inbound linkage-bandwidth"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nTo achieve uniform scheduling of incoming traffic flows on multiple interfaces, you need to implement traffic management by user levels.\nProfile-based HQoS, by comparison, allows traffic on multiple interfaces to enter an SQ for scheduling. It implements uniform scheduling of traffic on multiple interfaces by defining a QoS profile and applying the profile to different interfaces.The profile-based HQoS technique is used mainly on the access routers deployed at the edge of a MAN.\n\nPrecautions\nIf the direction configured in the QoS profile is different from the direction to which the QoS profile is applied on the interface, the profile does not take effect. If directionless traffic control is configured in the QoS profile, the QoS profile takes effect on traffic in the direction that is specified when the QoS profile is applied to the interface.\nThe QoS profile in which the CAR percentage is configured applies only to physical main interfaces and trunk main interfaces.\nIf the member interfaces of a trunk interface reside on TM subcards of different types on the same board and the user-queue command is configured in a QoS profile, the QoS profile cannot be applied to outgoing traffic on the trunk interface.\nWhen a trunk interface contains member interfaces on both TM and eTM subcards, the QoS profile with the user-queue configuration cannot be applied to outgoing traffic on the trunk interface.\nIf a traffic rate limit is configured in a QoS profile, the number of TMs on an interface board must be considered when the QoS profile is applied to an Eth-Trunk interface. This is because the traffic rate limit takes effect on TMs. The number of TMs varies with interface boards. When multiple member interfaces of an Eth-Trunk interface correspond to different TMs, the times by which the rate limit increases depends on the number of TMs. As a result, the rate limiting may not be as expected. In this case, you need to reconfigure a rate limit.\nTo configure weight-based bandwidth allocation for a trunk's member interfaces, run the qos member-link-scheduler distribute command.\nIf an interface is already configured with the car command, or the user-queue command, or layer-2 traffic suppression commands, and these commands are configured for the same direction as the direction of the QoS profile, you need to delete these configured commands before being able to configure the qos-profile command to apply the QoS profile to the interface.\nAfter the CAR percentage is configured in a QoS profile, the QoS profile applies only to interfaces on the LPUF-50/LPUF-50-L/LPUI-21-L/LPUI-51-L/LPUF-51/LPUF-51-B/LPUI-51/LPUI-51-B/LPUI-51-S/LPUS-51/LPUF-101/LPUF-101-B/LPUI-101/LPUI-101-B/LPUS-101/LPUF-51-E/LPUI-51-E/LPUI-51-CM/LPUF-120/LPUF-120-B/LPUF-120-E/LPUI-102-E/LPUI-120/LPUI-120-B/LPUI-120-L/LPUI-52-E/LPUI-120-E/LPUI-120-CM/LPUF-240/LPUF-240-B/LPUF-240-E/LPUI-240/LPUI-240-B/LPUI-240-CM/LPUI-240-L/LPUF-480/LPUF-480-B/LPUI-480/LPUI-480-B/LPUI-480-L/LPUF-480-E/LPUI-480-CM/LPUI-200/LPUI-200-L/LPUF-200/LPUF-200-B/LPUI-1T/LPUI-1T-B/LPUI-1T-L/LPUI-1T-CM/LPUI-2T/LPUI-2T-B/LPUI-2T-CM/LPUF-481/LPUF-402-E/LPUI-241/LPUI-241-B/LPUI-241-CM//LPUF-241/LPUF-241-E/LPUF-52/LPUF-1T-E/LPUI-1T-CM/LPUF-1T-L board.\nOnly the LPUF-50/LPUF-50-L/LPUI-21-L/LPUI-51-L/LPUF-51/LPUF-51-B/LPUI-51/LPUI-51-B/LPUI-51-S/LPUS-51/LPUF-101/LPUF-101-B/LPUI-101/LPUI-101-B/LPUS-101/LPUF-51-E/LPUI-51-E/LPUI-51-CM/LPUF-120/LPUF-120-B/LPUF-120-E/LPUI-102-E/LPUI-120/LPUI-120-B/LPUI-120-L/LPUI-52-E/LPUI-120-E/LPUI-120-CM/LPUF-240/LPUF-240-B/LPUF-240-E/LPUI-240/LPUI-240-B/LPUI-240-CM/LPUI-240-L/LPUF-480/LPUF-480-B/LPUI-480/LPUI-480-B/LPUI-480-L/LPUF-480-E/LPUI-480-CM/LPUI-200/LPUI-200-L/LPUF-200/LPUF-200-B/LPUI-1T/LPUI-1T-B/LPUI-1T-L/LPUI-1T-CM/LPUI-2T/LPUI-2T-B/LPUI-2T-CM/LPUF-481/LPUF-402-E/LPUI-241/LPUI-241-B/LPUI-241-CM//LPUF-241/LPUF-241-E/LPUF-52/LPUF-1T-E/LPUI-1T-CM/LPUF-1T-L supports the qos-profile car command configuration on VNI interfaces and EVC sub-interfaces.\nIf an interface is bound to a VSI instance, the hard-pipe enable command configured for the VSI instance is mutually exclusive with the qos-profile(interface view) command.\nBandwidth association is mutually exclusive with trunk's member interfaces using the qos schedule-tree distribute-mode outbound command.\nBandwidth association cannot be configured on the following interfaces: BAS interface, port extension interface, POS interface, IP-Trunk interface, VE interface, and global VE interface."
}