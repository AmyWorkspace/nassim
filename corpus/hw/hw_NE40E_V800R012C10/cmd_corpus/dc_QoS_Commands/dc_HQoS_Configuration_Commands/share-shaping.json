{
    "PageTitle": "share-shaping",
    "FuncDef": "The share-shaping command configures unified traffic shaping for multiple flow queues.\nThe undo share-shaping command cancels the configuration.\nBy default, unified traffic shaping is not configured.",
    "CLIs": [
        "share-shaping [ <shap-id> ] { af1 | af2 | af3 | af4 | be | cs6 | cs7 | ef } * [ pq | wfq weight <weight-value> | lpq ] <shaping-value> [ pbs <pbs-value> ]",
        "share-shaping [ <shap-id> ] { af1 | af2 | af3 | af4 | be | cs6 | cs7 | ef } * <shaping-value> [ pbs <pbs-value> ]",
        "undo share-shaping [ <shap-id> ]"
    ],
    "ParentView": [
        "Flow queue view"
    ],
    "ParaDef": [
        {
            "Parameters": "shap-id",
            "Info": "Specifies the shap id.\nThe value is 1."
        },
        {
            "Parameters": "af1",
            "Info": "Set the service type to AF1.\n-"
        },
        {
            "Parameters": "af2",
            "Info": "Set the service type to AF2.\n-"
        },
        {
            "Parameters": "af3",
            "Info": "Set the service type to AF3.\n-"
        },
        {
            "Parameters": "af4",
            "Info": "Set the service type to AF4.\n-"
        },
        {
            "Parameters": "be",
            "Info": "Set the service type to BE.\n-"
        },
        {
            "Parameters": "cs6",
            "Info": "Set the service type to CS6.\n-"
        },
        {
            "Parameters": "cs7",
            "Info": "Set the service type to CS7.\n-"
        },
        {
            "Parameters": "ef",
            "Info": "Set the service type to EF.\n-"
        },
        {
            "Parameters": "pq",
            "Info": "Specify weighted fair queue scheduler.\n-"
        },
        {
            "Parameters": "wfq",
            "Info": "Specify weight of the weighted fair queue scheduler.\n-"
        },
        {
            "Parameters": "weight weight-value",
            "Info": "Specifies the weight of the weighted fair queue.\nThe value is an integer in the range of 1 to 100."
        },
        {
            "Parameters": "lpq",
            "Info": "Specifies the scheduling mode of the queue to the low priority queue scheduling.\n-"
        },
        {
            "Parameters": "shaping-value",
            "Info": "Specifies the unified traffic shaping value for multiple flow queues.\nThe value is an integer ranging from 1 to 4294967294, in kbit/s."
        },
        {
            "Parameters": "pbs pbs-value",
            "Info": "Specifies the Peak Burst Size (PBS).\nThe value is an integer ranging from 1 to 4194304, in bytes."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] flow-queue test",
            "[*HUAWEI-flow-queue-template-test] share-shaping af1 af2 1000"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nWhen multi-play services are running, some services need to share the bandwidth. To configure unified traffic shaping for multiple flow queues, run the share-shaping command.\nUnified traffic shaping applies to at least two flow queues.Unified traffic shaping is applicable only to flow queues with the same scheduling algorithm.If share-shaping is required for FQs on an interface equipped with an eTM subcard, the scheduling algorithm for share-shaping overwrites that configured for FQs. You can run display qos abnormal-info flow-queue command to query the overwritten FQ configuration based on the FQ profile.\n\nPrecautions\nThe share-shaping and queue cir commands are mutually exclusive."
}