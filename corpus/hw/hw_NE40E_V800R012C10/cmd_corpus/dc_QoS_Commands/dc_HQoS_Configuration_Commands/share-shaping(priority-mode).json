{
    "PageTitle": "share-shaping (priority-mode flow queue template view)",
    "FuncDef": "The share-shaping command configures unified traffic shaping for multiple flow queues.\nThe undo share-shaping command cancels the configuration.\nBy default, unified traffic shaping is not configured.",
    "CLIs": [
        "share-shaping [ <shap-id> ] { af1 | af2 | af3 | af4 | be | cs6 | cs7 | ef } * [ [ pq | wfq ] | weight <weight-value> ] * <shaping-value> [ pbs <pbs-value> ]",
        "undo share-shaping [ <shap-id> ]"
    ],
    "ParentView": [
        "Priority-mode flow queue template view"
    ],
    "ParaDef": [
        {
            "Parameters": "shap-id",
            "Info": "Specifies the shap id.\nThe value is 1."
        },
        {
            "Parameters": "af1",
            "Info": "Set the service type to AF1.\n-"
        },
        {
            "Parameters": "af2",
            "Info": "Set the service type to AF2.\n-"
        },
        {
            "Parameters": "af3",
            "Info": "Set the service type to AF3.\n-"
        },
        {
            "Parameters": "af4",
            "Info": "Set the service type to AF4.\n-"
        },
        {
            "Parameters": "be",
            "Info": "Set the service type to BE.\n-"
        },
        {
            "Parameters": "cs6",
            "Info": "Set the service type to CS6.\n-"
        },
        {
            "Parameters": "cs7",
            "Info": "Set the service type to CS7.\n-"
        },
        {
            "Parameters": "ef",
            "Info": "Set the service type to EF.\n-"
        },
        {
            "Parameters": "pq",
            "Info": "Specify weighted fair queue scheduler.\n-"
        },
        {
            "Parameters": "wfq",
            "Info": "Specify weight of the weighted fair queue scheduler.\n-"
        },
        {
            "Parameters": "weight weight-value",
            "Info": "Specifies the weight of the weighted fair queue.\nThe value is an integer in the range of 1 to 100."
        },
        {
            "Parameters": "shaping-value",
            "Info": "Specifies the unified traffic shaping value for multiple flow queues.\nThe value is an integer ranging from 1 to 4294967294, in kbit/s."
        },
        {
            "Parameters": "pbs pbs-value",
            "Info": "Specifies the peak burst size (PBS).\nThe value is an integer ranging from 1 to 4194304, in bytes."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] flow-queue test priority-mode",
            "[*HUAWEI-flow-queue-template-test] share-shaping af1 af2 1000"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nWhen multi-play services are running, some services need to share the bandwidth. To configure unified traffic shaping for multiple flow queues, run the share-shaping command.\nFor example, 0 to 3 refer to four sub-schedulers (priority 0 to priority 3). Share shaping applies to the BE queue and AF1 to AF4 queues, with the scheduling mode being PQ. If the scheduling mode for sub-scheduler 0 is WFQ, sub-scheduler 0 schedules share-shaping-capable queues based on priorities and then implements WFQ scheduling for the EF queue and share-shaping-capable queues as a whole.\nUnified traffic shaping applies to at least two flow queues.Unified traffic shaping is applicable only to flow queues with the same scheduling algorithm.\n\nPrecautions\nUnified traffic shaping applies to at least two flow queues.\nUnified traffic shaping is applicable only to flow queues with the same scheduling algorithm."
}