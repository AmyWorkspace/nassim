{
    "PageTitle": "share-shaping (port queue view)",
    "FuncDef": "The share-shaping command configures share-shaping for port queues.\nThe undo share-shaping command cancels share-shaping for port queues.\nBy default, share-shaping is not configured for port queues.",
    "CLIs": [
        "share-shaping { af1 | af2 | af3 | af4 | be | cs6 | cs7 | ef } * [ pq | wfq weight <weight-value> | lpq ] { <shaping-value> | shaping-percentage <shaping-percentage-value> } [ pbs <pbs-value> ]",
        "undo share-shaping [ af1 | af2 | af3 | af4 | be | cs6 | cs7 | ef ] * [ pq | wfq weight <weight-value> | lpq ] [ <shaping-value> | shaping-percentage <shaping-percentage-value> ] [ pbs <pbs-value> ]"
    ],
    "ParentView": [
        "Port queue view"
    ],
    "ParaDef": [
        {
            "Parameters": "af1",
            "Info": "Set the service type to AF1.\n-"
        },
        {
            "Parameters": "af2",
            "Info": "Set the service type to AF2.\n-"
        },
        {
            "Parameters": "af3",
            "Info": "Set the service type to AF3.\n-"
        },
        {
            "Parameters": "af4",
            "Info": "Set the service type to AF4.\n-"
        },
        {
            "Parameters": "be",
            "Info": "Set the service type to BE.\n-"
        },
        {
            "Parameters": "cs6",
            "Info": "Set the service type to CS6.\n-"
        },
        {
            "Parameters": "cs7",
            "Info": "Set the service type to CS7.\n-"
        },
        {
            "Parameters": "ef",
            "Info": "Set the service type to EF.\n-"
        },
        {
            "Parameters": "pq",
            "Info": "Specify weighted fair queue scheduler.\n-"
        },
        {
            "Parameters": "wfq",
            "Info": "Specify weight of the weighted fair queue scheduler.\n-"
        },
        {
            "Parameters": "weight weight-value",
            "Info": "Specifies the weight value of a port queue participating in share-shaping.\nThe value is an integer ranging from 1 to 100."
        },
        {
            "Parameters": "lpq",
            "Info": "Specify low priority queue scheduler.\n-"
        },
        {
            "Parameters": "shaping-value",
            "Info": "Specifies the share-shaping rate of a port queue.\nThe value is an integer ranging from 1 to 4294967294, in kbit/s."
        },
        {
            "Parameters": "shaping-percentage shaping-percentage-value",
            "Info": "Specifies the share-shaping percentage of a port queue's share-shaping rate in configured interface bandwidth.\nThe value is an integer ranging from 0 to 100, in percentage."
        },
        {
            "Parameters": "pbs pbs-value",
            "Info": "Specifies a PBS.\nThe value is an integer ranging from 1 to 4194304, in bytes."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] port-queue-template test",
            "[*HUAWEI-port-queue-template-test] share-shaping af1 af2 1000"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nTo configure share-shaping for port queues, run the share-shaping command. You can implement share-shaping for port queues with the same scheduling mode or based on the share-shaping percentage.\nPrerequisites\nA port queue profile has been created.\nPrecautions\nIf the share-shaping command is run more than once in the same view, the latest configuration overrides the previous one.\nThe share-shaping command is mutually exclusive with the port share-shaping command.\nAfter a port queue profile in which this command is configured is applied to a trunk interface, if the queue scheduling mode is changed by running the port-queue command on a member interface and becomes different from the queue scheduling mode during share-shaping, share-shaping does not take effect on the member interface.\nIf a port queue profile in which the share-shaping command is configured is applied to a trunk interface and the port-queue cir command is run on a member interface of the trunk interface, share-shaping does not take effect on the member interface regardless of whether the two commands are configured for the same queue."
}