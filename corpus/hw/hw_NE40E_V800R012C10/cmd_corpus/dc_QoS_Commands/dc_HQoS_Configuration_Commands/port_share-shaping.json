{
    "PageTitle": "port share-shaping",
    "FuncDef": "The port share-shaping command configures share-shaping for port queues.\nThe undo port share-shaping command cancels share-shaping for port queues.\nBy default, share-shaping is not configured for port queues.",
    "CLIs": [
        "port share-shaping { af1 | af2 | af3 | af4 | be | cs6 | cs7 | ef } * [ pq | wfq weight <weight-value> | lpq ] { <shaping-value> | shaping-percentage <shaping-percentage-value> } [ pbs <pbs-value> ]",
        "undo port share-shaping [ af1 | af2 | af3 | af4 | be | cs6 | cs7 | ef ] * [ pq | wfq weight <weight-value> | lpq ] [ <shaping-value> | shaping-percentage <shaping-percentage-value> ] [ pbs <pbs-value> ]"
    ],
    "ParentView": [
        "100GE interface view",
        "25GE interface view",
        "40GE interface view",
        "50GE interface view",
        "50|100GE interface view",
        "Eth-Trunk interface view",
        "GE interface view",
        "GE electrical interface view"
    ],
    "ParaDef": [
        {
            "Parameters": "af1",
            "Info": "Set the service type to AF1.\n-"
        },
        {
            "Parameters": "af2",
            "Info": "Set the service type to AF2.\n-"
        },
        {
            "Parameters": "af3",
            "Info": "Set the service type to AF3.\n-"
        },
        {
            "Parameters": "af4",
            "Info": "Set the service type to AF4.\n-"
        },
        {
            "Parameters": "be",
            "Info": "Set the service type to BE.\n-"
        },
        {
            "Parameters": "cs6",
            "Info": "Set the service type to CS6.\n-"
        },
        {
            "Parameters": "cs7",
            "Info": "Set the service type to CS7.\n-"
        },
        {
            "Parameters": "ef",
            "Info": "Set the service type to EF.\n-"
        },
        {
            "Parameters": "pq",
            "Info": "Specify priority queue scheduler.\n-"
        },
        {
            "Parameters": "wfq",
            "Info": "Specify weighted fair queue scheduler.\n-"
        },
        {
            "Parameters": "weight weight-value",
            "Info": "Specifies the weight value of a port queue participating in share-shaping.\nThe value is an integer ranging from 1 to 100."
        },
        {
            "Parameters": "lpq",
            "Info": "Specify low priority queue scheduler.\n-"
        },
        {
            "Parameters": "shaping-value",
            "Info": "Specifies the share-shaping rate of a port queue.\nThe value is an integer ranging from 1 to 4294967294, in kbit/s."
        },
        {
            "Parameters": "shaping-percentage shaping-percentage-value",
            "Info": "Specifies the share-shaping percentage of a port queue's share-shaping rate in configured interface bandwidth.\nThe value is an integer ranging from 0 to 100, in percentage."
        },
        {
            "Parameters": "pbs pbs-value",
            "Info": "Specifies the PBS.\nThe value is an integer ranging from 1 to 4194304, in bytes."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] interface GigabitEthernet 1/0/0",
            "[~HUAWEI-GigabitEthernet1/0/0] port share-shaping af1 af2 1000"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nWhen the outbound interfaces of port queues with different priorities are the same main interface, to perform share-shaping for the port queues using the same scheduling mode, run the port share-shaping command.\nPrecautions\nIf this command is configured for multiple times on an interface, the latest configuration overrides the previous configurations.\nThis command cannot be configured on a trunk member interface, and the interface on which this command is configured cannot be added to a trunk interface.\nAfter this command is run on a trunk interface, if the queue scheduling mode is changed by running the port-queue command on a member interface and becomes different from the queue scheduling mode during share-shaping, share-shaping does not take effect on the member interface.\nIf the port share-shaping command is configured on a trunk interface and the port-queue cir command is run on a member interface of the trunk interface, share-shaping does not take effect on the member interface regardless of whether the two commands are configured for the same queue.\nThis command is supported only on an LPUI-52-E/LPUI-120-E/LPUF-480-E/LPUF-480/LPUF-480-B/LPUI-480/LPUI-480-B/LPUI-480-L/LPUI-1T/LPUI-1T-B/LPUI-1T-L/LPUI-2T/LPUI-2T-B/LPUF-241/LPUF-241-R/LPUI-241/LPUI-241-B/LPUF-481/LPUF-402-E or on an LPUF-120 that is equipped with a P52-E/P120-E/P120-H/P240-E/P240-H.\nThe port share-shaping and share-shaping (port queue view) commands are mutually exclusive."
}