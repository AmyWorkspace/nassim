{
    "PageTitle": "flow-car",
    "FuncDef": "The flow-car command configures flow CAR for flows with the source or destination IP addresses residing on a specified network segment.\nThe undo flow-car command cancels the configuration.\nBy default, this function is disabled.",
    "CLIs": [
        "flow-car cir <cir-value> [ pir <pir-value> ] [ cbs <cbs-value> [ pbs <pbs-value> ] ] identifier { source-ip | destination-ip }",
        "undo flow-car"
    ],
    "ParentView": [
        "Traffic behavior view"
    ],
    "ParaDef": [
        {
            "Parameters": "pir pir-value",
            "Info": "Specifies the PIR.\nThe value is an integer ranging from 0 to 4294967295, in kbit/s. The value of pir-value must be greater than or equal to the configured value of cir-value."
        },
        {
            "Parameters": "cbs cbs-value",
            "Info": "Specifies the CBS. The CBS indicates the committed volume of traffic that an interface allows to pass and the depth of the first bucket (assuming it is bucket A).\nThe value is an integer that ranges from 0 to 4294967295, in bytes. The default cbs-value value is equal to cir-value."
        },
        {
            "Parameters": "pbs pbs-value",
            "Info": "Specifies the PBS. The PBS indicates the peak volume of traffic that an interface allows to pass and the depth of the second token bucket (assuming it is bucket B).\nThe value is an integer that ranges from 0 to 4294967295, in bytes. The default pbs-value equals to the pir-value."
        },
        {
            "Parameters": "identifier source-ip",
            "Info": "Implements independent rate limiting based on source IP addresses.\n-"
        },
        {
            "Parameters": "identifier destination-ip",
            "Info": "Implements independent rate limiting based on destination IP addresses.\n-"
        },
        {
            "Parameters": "cir cir-value",
            "Info": "Specifies the CIR.\nThe value is an integer ranging from 0 to 4294967295, in kbit/s."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] traffic behavior aaa",
            "[~HUAWEI-behavior-aaa] flow-car cir 2000 cbs 374000 identifier source-ip"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nTo configure flow CAR for flows with the source or destination IP addresses residing on a specified network segment, run the flow-car command. After the source or destination IP address of a flow matches the ACL, flow CAR is implemented for the flow.\nPrecautions\nIf pir-value is not set, the default pbs-value is 0.If pir-value is set to a value smaller than 100000 kbit/s, the default pbs-value is calculated in the following formula: pir-value x (1500/8).If pir-value is set to a value greater than or equal to 100000 kbit/s, the default pbs-value is calculated in the following formula: 100000 x (1500/8).\nThis function is mutually exclusive with CAR, SQ, daa car and suppression in the traffic behavior view.\nFor the traffic that matches both a traffic policy and BGP Flowspec on an interface, if the flow CAR action of the traffic policy is performed, the CAR action of BGP Flowspec is not performed. The flow CAR of the traffic policy has a higher priority.\nFlow CAR is not supported when multi-field classification is applied to the scenario of VSI, L3VPN, UCL, EVPN, global ACL, VXLAN, and VBDIF.\nThis command is supported only on the following boards:\nLPUF-51-E/LPUI-51-E/LPUI-51-S/LPUI-51-CM/LPUF-120/LPUF-120-B/LPUF-120-E/LPUI-102-E/LPUI-120/LPUI-120-B/LPUI-120-L/LPUI-52-E/LPUI-120-E/LPUI-120-CM/LPUF-240/LPUF-240-B/LPUF-240-E/LPUI-240/LPUI-240-B/LPUI-240-CM/LPUI-240-L/LPUF-480/LPUF-480-B/LPUI-480/LPUI-480-B/LPUI-480-L/LPUF-480-E/LPUI-480-CM/LPUF-400-ELPUI-200/LPUI-200-L/LPUF-200/LPUF-200-B/LPUI-1T/LPUI-1T-B/LPUI-1T-L/LPUI-1T-CM/LPUI-241/LPUI-241-B/LPUI-241-CM/LPUF-241/LPUF-241-E/LPUI-480-CM/LPUF-52"
}