{
    "PageTitle": "ip path detection send-packet",
    "FuncDef": "The ip path detection send-packet command configures a device to send IPv4 or IPv6 path detection packets.",
    "CLIs": [
        "ip path detection send-packet src-mac <src-mac-address> dst-mac <dst-mac-address> [ pe-vlan <pe-vlan-id> [ 8021p <8021p-value> ] [ ce-vlan <ce-vlan-id> ] ] src-ip <src-ip-addr> dst-ip <dst-ip-address> protocol { icmp | { tcp | udp [ gtp-u gtp-teid <teid-value> ] | sctp } src-port <src-port-value> dst-port <dst-port-value> } dscp <dscp-value> [ vpn-instance <vpn-name> ] interface { <ifType> <ifNum> | <ifName> } testid <test-id>",
        "ip path detection send-packet src-mac <src-mac-address> dst-mac <dst-mac-address> [ pe-vlan <pe-vlan-id> [ 8021p <8021p-value> ] [ ce-vlan <ce-vlan-id> ] ] src-ipv6 <src-ipv6-addr> dst-ipv6 <dst-ipv6-addr> protocol { icmp | { tcp | udp [ gtp-u gtp-teid <teid-value> ] | sctp } src-port <src-port-value> dst-port <dst-port-value> } dscp <dscp-value> [ vpn-instance <vpn-name> ] interface { <ifType> <ifNum> | <ifName> } testid <test-id>"
    ],
    "ParentView": [
        "System view"
    ],
    "ParaDef": [
        {
            "Parameters": "dst-mac dst-mac-address",
            "Info": "Specifies a destination MAC address.\nThe value is a 12-digit hexadecimal number, in the format of H-H-H. Each H is 4 digits. If an H contains fewer than 4 digits, the left-most digits are padded with zeros. For example, e0 is displayed as 00e0."
        },
        {
            "Parameters": "pe-vlan pe-vlan-id",
            "Info": "Specifies the outer VLAN ID.\nThe value is an integer that ranges from 1 to 4094."
        },
        {
            "Parameters": "8021p 8021p-value",
            "Info": "Specifies an IEEE802.1P value.\nThe value is an integer that ranges from 0 to 7."
        },
        {
            "Parameters": "ce-vlan ce-vlan-id",
            "Info": "Specifies the inner VLAN ID.\nThe value is an integer that ranges from 1 to 4094."
        },
        {
            "Parameters": "src-ip src-ip-addr",
            "Info": "Specifies a source IPv4 address.\nThe value is in dotted decimal notation."
        },
        {
            "Parameters": "dst-ip dst-ip-address",
            "Info": "Specifies a destination IPv4 address.\nThe value is in dotted decimal notation."
        },
        {
            "Parameters": "protocol",
            "Info": "Specifies a protocol type.\nThe options are as follows:\nICMPTCPUDPGTPSCTP"
        },
        {
            "Parameters": "gtp-teid teid-value",
            "Info": "Specifies the TEID value of GTP packets.\nThe value is an integer that ranges from 0 to 4294967295."
        },
        {
            "Parameters": "src-port src-port-value",
            "Info": "Specifies the source port number.\nThe value is an integer that ranges from 1 to 65535."
        },
        {
            "Parameters": "dst-port dst-port-value",
            "Info": "Specifies the destination port number.\nThe value is an integer that ranges from 1 to 65535."
        },
        {
            "Parameters": "dscp dscp-value",
            "Info": "Specifies a DSCP value.\nThe value is an integer that ranges from 0 to 63."
        },
        {
            "Parameters": "vpn-instance vpn-name",
            "Info": "Specifies the name of a VPN instance.\nThe value is a string of 1 to 31 case-sensitive characters, spaces not supported. In addition, the VPN instance name must not be _public_. When double quotation marks are used around the string, spaces are allowed in the string."
        },
        {
            "Parameters": "interface ifName",
            "Info": "Specifies the name of an interface.\nThe value is a string of 1 to 64 case-sensitive characters, spaces not supported."
        },
        {
            "Parameters": "ifType",
            "Info": "Specifies the type of an interface.\nThe value is a string of 1 to 32 case-sensitive characters, spaces not supported."
        },
        {
            "Parameters": "ifNum",
            "Info": "Specifies the number of an interface.\nThe value is a string of 1 to 64 case-sensitive characters, spaces not supported."
        },
        {
            "Parameters": "testid test-id",
            "Info": "Specifies the ID of a test session.\nThe value is an integer that ranges from 0 to 4294967295."
        },
        {
            "Parameters": "src-mac src-mac-address",
            "Info": "Specifies a source MAC address.\nThe value is a 12-digit hexadecimal number, in the format of H-H-H. Each H is 4 digits. If an H contains fewer than 4 digits, the left-most digits are padded with zeros. For example, e0 is displayed as 00e0."
        },
        {
            "Parameters": "src-ipv6 src-ipv6-addr",
            "Info": "Specifies a source IPv6 address.\nThe value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X."
        },
        {
            "Parameters": "dst-ipv6 dst-ipv6-addr",
            "Info": "Specifies a destination IPv6 address.\nThe value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] ip path detection send-packet src-mac 00e0-fc12-3456 dst-mac 00e0-fc12-7890 src-ip 10.1.1.1 dst-ip 10.2.2.2 protocol udp src-port 1000 dst-port 2000 dscp 3 vpn-instance vpntest interface GigabitEthernet1/0/0 testid 2"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] ip path detection send-packet src-mac 00e0-fc12-3456 dst-mac 00e0-fc12-7890 src-ip 2001:db8:1::1 dst-ip 2001:db8:1::2 protocol udp src-port 1000 dst-port 2000 dscp 3 vpn-instance vpntest interface GigabitEthernet1/0/0 testid 2"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nIn the telco cloud VXLAN scenario, a probe packet with the same 5-tuple information as that of the service flow is constructed on the ingress node and is added with a special DSCP value for the devices through which the service flow passes to identify. This helps restore the device path through which the service flow passes.\nThis command can be used to send IPv4 or IPv6 path detection packets.\nPrecautions\nPath detection packets are not terminated by the egress node of the VXLAN network. After receiving a detection packet, the egress node of the VXLAN network sends it to the target server or VM.If GTP protocol packets are to be sent, the source or destination port number must be 2152.This command does not generate a configuration file."
}