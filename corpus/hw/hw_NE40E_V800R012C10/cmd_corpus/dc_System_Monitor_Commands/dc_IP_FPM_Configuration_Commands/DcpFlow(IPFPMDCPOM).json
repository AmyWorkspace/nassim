{
    "PageTitle": "flow (IPFPM-DCP instance view)",
    "FuncDef": "The flow command configures the target flow characteristics for an IP Flow Performance Measurement (IP FPM) instance.\nThe undo flow command deletes the target flow characteristics of an IP FPM instance.\nBy default, no characteristics are configured for the target flow of an IP FPM instance.",
    "CLIs": [
        "flow { forward | backward | bidirectional } { dscp <dscp-value> | source <src-ip-address> [ <src-mask-length> ] | destination <dest-ip-address> [ <dest-mask-length> ] | protocol { { tcp | udp } { source-port <src-port-number1> [ to <src-port-number2> ] | destination-port <dest-port-number1> [ to <dest-port-number2> ] } * | { <protocol-number> | <protocol-number> | <protocol-number> } } } *",
        "undo flow { forward | backward | bidirectional }"
    ],
    "ParentView": [
        "IPFPM-DCP instance view"
    ],
    "ParaDef": [
        {
            "Parameters": "forward",
            "Info": "Indicates the forward target flow.\n-"
        },
        {
            "Parameters": "backward",
            "Info": "Indicates the backward target flow.\n-"
        },
        {
            "Parameters": "bidirectional",
            "Info": "Indicates the symmetrical bidirectional target flow.If the target flow is symmetrical bidirectional, set the parameter src-ip-address to specify a source IP address and the parameter dest-ip-address to specify a destination IP address for the target flow.\n-"
        },
        {
            "Parameters": "dscp dscp-value",
            "Info": "Specifies the DSCP value of the target flow.\nThe value is an integer ranging from 0 to 63."
        },
        {
            "Parameters": "source src-ip-address",
            "Info": "Specifies the source IP address of the target flow.\nThis value is in dotted decimal notation."
        },
        {
            "Parameters": "src-mask-length",
            "Info": "Specifies the mask length of the source IP address of the target flow.\nThe value is an integer ranging from 1 to 32."
        },
        {
            "Parameters": "destination dest-ip-address",
            "Info": "Specifies the destination IP address of the target flow.\nThis value is in dotted decimal notation."
        },
        {
            "Parameters": "dest-mask-length",
            "Info": "Specifies the mask length of the destination IP address of the target flow.\nThe value is an integer ranging from 1 to 32."
        },
        {
            "Parameters": "protocol",
            "Info": "Indicates the protocol type of the target flow.\n-"
        },
        {
            "Parameters": "tcp",
            "Info": "Indicates that the protocol type of the target flow is TCP.\n-"
        },
        {
            "Parameters": "udp",
            "Info": "Indicates that the protocol type of the target flow is UDP.\n-"
        },
        {
            "Parameters": "source-port src-port-number1",
            "Info": "Specifies the start source port number of the target flow.\nThe value is an integer ranging from 1 to 65535."
        },
        {
            "Parameters": "to src-port-number2",
            "Info": "Specifies the end source port number of the target flow.\nThe value is an integer ranging from 1 to 65535.\nsrc-port-number2 must be greater than src-port-number1."
        },
        {
            "Parameters": "to dest-port-number2",
            "Info": "Specifies the end destination port number of the target flow.\nThe value is an integer ranging from 1 to 65535.\ndest-port-number2 must be greater than dest-port-number1."
        },
        {
            "Parameters": "destination-port dest-port-number1",
            "Info": "Specifies the start destination port number of the target flow.\nThe value is an integer ranging from 1 to 65535."
        },
        {
            "Parameters": "protocol-number",
            "Info": "Indicates the protocol number of the target flow.\nThe value is an integer ranging from 1 to 5, 7 to 16, or 18 to 255.\nThe value 6 indicates TCP, and the value 17 indicates UDP."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] nqa ipfpm dcp",
            "[*HUAWEI-nqa-ipfpm-dcp] instance 1",
            "[*HUAWEI-nqa-ipfpm-dcp-instance-1] flow forward source 10.10.10.10"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nTo define target flows and ensure measurement accuracy, run the flow command to configure target flow characteristics.\nOne or more fields in IP headers can be specified to identify target flows. The field can be the source IP address or prefix, destination IP address or prefix, protocol type, source port number, destination port number, or ToS. The more fields specified, the more accurately flows can be identified. Specifying as many fields as possible is recommended to maximize the measurement accuracy.\nConfiguration Impact\nAn IP FPM instance can have only one target flow configured, either unidirectional or bidirectional. A bidirectional target flow is logically two unidirectional flows in opposite directions.\nIf the target flow in an IP FPM instance is unidirectional, only forward can be specified.If the target flow in an IP FPM instance is bidirectional, two situations are available:If the bidirectional target flow is symmetrical, you can specify bidirectional to configure the bidirectional target flow characteristics. By default, the characteristics specified are used for the forward flow, and the reverse of those are used for the backward flow. Specifically, the source and destination IP addresses and port numbers specified for the forward flow are used respectively as the destination and source IP addresses and port numbers for the backward flow.If the bidirectional target flow is asymmetrical, you must configure forward and backward in two command instances to configure the forward and backward flow characteristics.\n\nPrecautions\nTarget flows in different IP FPM instances cannot have the same characteristics. The forward and backward target flows in an IP FPM instance cannot have the same characteristics neither."
}