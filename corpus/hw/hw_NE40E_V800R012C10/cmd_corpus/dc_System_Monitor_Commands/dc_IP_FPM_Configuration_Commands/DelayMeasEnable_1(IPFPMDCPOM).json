{
    "PageTitle": "delay-measure enable two-way",
    "FuncDef": "The delay-measure enable two-way command enables hop-by-hop two-way delay measurement for an IP Flow Performance Monitor (IP FPM) instance.\nThe undo delay-measure enable command disables hop-by-hop two-way delay measurement for an IP Flow Performance Monitor (IP FPM) instance.\nThe delay-measure enable two-way continual command enables proactive two-way delay measurement for an IP Flow Performance Monitor (IP FPM) instance.\nThe undo delay-measure enable command disables proactive delay measurement of an IP FPM instance.\nThe delay-measure enable two-way tlp mid-point command enables delay measurement on a mid-point.\nThe undo delay-measure enable two-way tlp mid-point command disables delay measurement on a mid-point.\nBy default, on-demand two-way delay measurement of an IP FPM instance and proactive one-way delay measurement of an IP FPM instance are disabled. Delay measurement is disabled on a mid-point from an IP Flow Performance Monitor (IP FPM) instance.",
    "CLIs": [
        "delay-measure enable two-way tlp <tlp-id1> [ <tlp-id2> ] [ continual | time-range <time-range> ]",
        "delay-measure enable two-way tlp mid-point [ continual | time-range <time-range> ]",
        "undo delay-measure enable two-way tlp mid-point [ continual ]"
    ],
    "ParentView": [
        "IPFPM-DCP instance view"
    ],
    "ParaDef": [
        {
            "Parameters": "tlp-id2",
            "Info": "Specifies a TLP ID for on-demand two-way delay measurement.\nThe value is an integer ranging from 1 to 16777215."
        },
        {
            "Parameters": "continual",
            "Info": "Indicates proactive delay measurement.\n-"
        },
        {
            "Parameters": "time-range time-range",
            "Info": "Specifies the statistical period for on-demand two-way delay measurement.\nThe value is an integer that can be 5, 10, 15, or 30, in minutes.\nThe default value is 10 minutes."
        },
        {
            "Parameters": "tlp tlp-id1",
            "Info": "Specifies a TLP ID for proactive two-way delay measurement.\nThe value is an integer ranging from 1 to 16777215."
        },
        {
            "Parameters": "mid-point",
            "Info": "Specifies a time range for delay measurement on a mid-point.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] interface GigabitEthernet1/0/1",
            "[*HUAWEI-GigabitEthernet1/0/1] ipfpm tlp 100",
            "[*HUAWEI-GigabitEthernet1/0/1] quit",
            "[*HUAWEI] nqa ipfpm mcp",
            "[*HUAWEI-nqa-ipfpm-mcp] mcp id 1.1.1.1",
            "[*HUAWEI-nqa-ipfpm-mcp] protocol udp port 2048",
            "[*HUAWEI-nqa-ipfpm-mcp] instance 1",
            "[*HUAWEI-nqa-ipfpm-mcp-instance-1] dcp 1.1.1.1",
            "[*HUAWEI-nqa-ipfpm-mcp-instance-1] ach 1",
            "[*HUAWEI-nqa-ipfpm-mcp-instance-1-ach-1] flow forward",
            "[*HUAWEI-nqa-ipfpm-mcp-instance-1-ach-1] in-group dcp 1.1.1.1 tlp 100",
            "[*HUAWEI-nqa-ipfpm-mcp-instance-1-ach-1] quit",
            "[*HUAWEI-nqa-ipfpm-mcp-instance-1] quit",
            "[*HUAWEI-nqa-ipfpm-mcp] quit",
            "[*HUAWEI] nqa ipfpm dcp",
            "[*HUAWEI-nqa-ipfpm-dcp] dcp id 1.1.1.1",
            "[*HUAWEI-nqa-ipfpm-dcp] mcp 1.1.1.1 port 2048",
            "[*HUAWEI-nqa-ipfpm-dcp] instance 1",
            "[*HUAWEI-nqa-ipfpm-dcp-instance-1] tlp 100 in-point ingress",
            "[*HUAWEI-nqa-ipfpm-dcp-instance-1] flow forward source 1.1.1.1",
            "[*HUAWEI-nqa-ipfpm-dcp-instance-1] commit",
            "[~HUAWEI-nqa-ipfpm-dcp-instance-1] delay-measure enable two-way tlp 100"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] interface GigabitEthernet1/0/1",
            "[*HUAWEI-GigabitEthernet1/0/1] ipfpm tlp 100",
            "[*HUAWEI-GigabitEthernet1/0/1] quit",
            "[*HUAWEI] nqa ipfpm mcp",
            "[*HUAWEI-nqa-ipfpm-mcp] mcp id 1.1.1.1",
            "[*HUAWEI-nqa-ipfpm-mcp] protocol udp port 2048",
            "[*HUAWEI-nqa-ipfpm-mcp] instance 1",
            "[*HUAWEI-nqa-ipfpm-mcp-instance-1] dcp 1.1.1.1",
            "[*HUAWEI-nqa-ipfpm-mcp-instance-1] ach 1",
            "[*HUAWEI-nqa-ipfpm-mcp-instance-1-ach-1] flow forward",
            "[*HUAWEI-nqa-ipfpm-mcp-instance-1-ach-1] in-group dcp 1.1.1.1 tlp 100",
            "[*HUAWEI-nqa-ipfpm-mcp-instance-1-ach-1] quit",
            "[*HUAWEI-nqa-ipfpm-mcp-instance-1] quit",
            "[*HUAWEI-nqa-ipfpm-mcp] quit",
            "[*HUAWEI] nqa ipfpm dcp",
            "[*HUAWEI-nqa-ipfpm-dcp] dcp id 1.1.1.1",
            "[*HUAWEI-nqa-ipfpm-dcp] mcp 1.1.1.1 port 2048",
            "[*HUAWEI-nqa-ipfpm-dcp] instance 1",
            "[*HUAWEI-nqa-ipfpm-dcp-instance-1] tlp 100 in-point ingress",
            "[*HUAWEI-nqa-ipfpm-dcp-instance-1] flow forward source 1.1.1.1",
            "[*HUAWEI-nqa-ipfpm-dcp-instance-1] commit",
            "[~HUAWEI-nqa-ipfpm-dcp-instance-1] delay-measure enable two-way tlp mid-point time-range 30"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nThe IP FPM performance statistics serve as a reliable reference for assessing IP network performance and therefore are useful for fault diagnosis and service statistics.\nTo diagnose network faults and locate faulty nodes when network performance deteriorates, run the delay-measure enable mid-point command.To monitor two-way delay performance in a specified period or diagnose network faults and locate faulty nodes when network performance deteriorates, run the delay-measure enable two-way command.To detect faults when network performance deteriorates and monitor proactive two-way delay performance, run the delay-measure enable two-way continual command.\n\nPrerequisites\nAn IP FPM model has been established, including configuring a DCP and MCP, binding a TLP to a physical interface, and creating a target flow and IP FPM instance.\nPrecautions\nIf a master/slave switchover is performed, or the device is restarted, delay measurement on the mid-point and on-demand two-way delay measurement will become invalid. You must reconfigure the function.\nOn-demand two-way delay measurement cannot function together with on-demand or proactive one-way delay measurement.\nBefore implementing two-way delay measurement, ensure that the target flow in the IP FPM instance is bidirectional.\nProactive two-way delay measurement cannot function together with on-demand or proactive one-way delay measurement."
}