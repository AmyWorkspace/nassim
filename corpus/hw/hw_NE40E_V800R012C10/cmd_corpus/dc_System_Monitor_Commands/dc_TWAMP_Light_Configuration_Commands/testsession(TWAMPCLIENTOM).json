{
    "PageTitle": "test-session (Twamp-light-client view)",
    "FuncDef": "The test-session command creates a TWAMP Light test session.\nThe undo test-session command deletes a TWAMP Light test session.\nBy default, no TWAMP Light test session is created.",
    "CLIs": [
        "test-session <session-id> { sender-ip <sender-ip-address> reflector-ip <reflector-ip-address> | sender-ipv6 <sender-address-v6> reflector-ipv6 <reflector-address-v6> } sender-port <sender-port> reflector-port <reflector-port> [ vpn-instance <vpn-instance-name> ] [ dscp <dscp-value> | padding <padding-length> | padding-type <padding-type> | description <description> ] *",
        "undo test-session <session-id> [ { sender-ip <sender-ip-address> reflector-ip <reflector-ip-address> | sender-ipv6 <sender-address-v6> reflector-ipv6 <reflector-address-v6> } sender-port <sender-port> reflector-port <reflector-port> [ vpn-instance <vpn-instance-name> ] [ dscp <dscp-value> | padding <padding-length> | padding-type <padding-type> | description <description> ] * ]"
    ],
    "ParentView": [
        "TWAMP-light-client view"
    ],
    "ParaDef": [
        {
            "Parameters": "session-id",
            "Info": "Specifies the ID of a test session.\nFor the X3 device, the value is an integer ranging from 1 to 3072.For the X8/X16 device, the value is an integer ranging from 1 to 8192."
        },
        {
            "Parameters": "sender-ip sender-ip-address",
            "Info": "Indicates the IP address of a Session-Sender.\nThis value is in dotted decimal notation."
        },
        {
            "Parameters": "reflector-ip reflector-ip-address",
            "Info": "Indicates the IP address of a Session-Reflector.\nThis value is in dotted decimal notation."
        },
        {
            "Parameters": "sender-ipv6 sender-address-v6",
            "Info": "Indicates the IPv6 address of a Session-Sender.\nThe value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X."
        },
        {
            "Parameters": "reflector-ipv6 reflector-address-v6",
            "Info": "Indicates the IPv6 address of a Session-Reflector.\nThe value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X."
        },
        {
            "Parameters": "sender-port sender-port",
            "Info": "Indicates the UDP port number of a Session-Sender.\nThe value is 862, 863 and from 1025 to 65535."
        },
        {
            "Parameters": "reflector-port reflector-port",
            "Info": "Indicates the UDP port number of a Session-Reflector.\nThe value is 862, 863 and from 1025 to 65535."
        },
        {
            "Parameters": "vpn-instance vpn-instance-name",
            "Info": "Indicates the name of a VPN instance.\nThe value is a string of 1 to 31 case-sensitive characters, spaces not supported. In addition, the VPN instance name must not be _public_. When double quotation marks are used around the string, spaces are allowed in the string."
        },
        {
            "Parameters": "dscp dscp-value",
            "Info": "Indicates the DSCP value of packets.\nThe value is an integer ranging from 0 to 63. The default value is 0."
        },
        {
            "Parameters": "padding padding-length",
            "Info": "Indicates the padding length of a test session.\nThe value is an integer, Ipv4 ranging from 32 to 1454, IPv6 ranging from 32 to 1434, in bytes. The default value is 128.\nWhen configuring a TWAMP Light client to send IPv6 packets, ensure that the length of the IPv6 packets to be sent is smaller than the smallest MTU configured on interfaces along the path. Otherwise, packets are discarded.\nBefore the configuration, perform the ping test. Ensure that the source address, destination address, and packet length of the ping packet are the same as those of the TWAMP Light IPv6 packet. Then run the display ipv6 pathmtu command to check the PMTU value of each interface along the path. For details, see Path MTU Test."
        },
        {
            "Parameters": "padding-type padding-type",
            "Info": "Indicates the padding type of a test session.\nEnumerated value:\n00aa55ff\nThe default value is 00."
        },
        {
            "Parameters": "description description",
            "Info": "Indicates the description of a test session. You can add a description for a test session to facilitate information query and session maintenance.\nThe value is a string of 3 to 32 characters, spaces not supported. The character string can contain spaces if it is enclosed with double quotation marks (\")."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] nqa twamp-light",
            "[*HUAWEI-twamp-light] client",
            "[*HUAWEI-twamp-light-client] test-session 1 sender-ip 10.1.1.1 reflector-ip 10.2.2.2 sender-port 3000 reflector-port 3000"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] nqa twamp-light",
            "[*HUAWEI-twamp-light] client",
            "[*HUAWEI-twamp-light-client] test-session 1 sender-ipv6 2001:db8:1::1 reflector-ipv6 2001:db8:2::2 sender-port 1111 reflector-port 1111"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nBefore implementing TWAMP Light, create a TWAMP Light test session and configure the 5-tuple parameters, including the IP address and UDP port number of a Session-Sender, IP address and UDP port number of a Session-Reflector, and VPN instance name, for the test session. After a test session is created, you can run specific commands to start a TWAMP Light test.\nPrecautions\nAfter a test session is configured, its parameters cannot be modified.The IP address configured for a test session must be a unicast address.The UDP port number of a Session-Sender must be an unused port number.The VPN instance specified for a test session must have been created.To test packets with different DSCP values, you can specify different UDP port numbers for test sessions. For example:Session 1: test-session 1 sender-ip 10.1.1.1 reflector-ip 10.2.2.2 sender-port 1025 reflector-port 1025 dscp 3Session 2: test-session 2 sender-ip 10.1.1.1 reflector-ip 10.2.2.2 sender-port 1026 reflector-port 1025 dscp 6"
}