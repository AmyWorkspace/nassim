{
    "PageTitle": "reset ipsec sa",
    "FuncDef": "The reset ipsec sa command deletes IPSec SA established through IKE negotiation.",
    "CLIs": [
        "reset ipsec sa parameters <remoteaddr> ah <ahspi> [ slot <slotnumber> ]",
        "reset ipsec sa parameters <remoteaddr> esp <espspi> [ slot <slotnumber> ]",
        "reset ipsec sa policy <mapname> [ slot <slotnumber> ]",
        "reset ipsec sa policy <mapname> <seqno> [ slot <slotnumber> ]",
        "reset ipsec sa [ slot <slotnumber> ] [ speed <speed> ]",
        "reset ipsec sa remote <remoteaddr> [ slot <slotnumber> ]",
        "reset ipsec sa parameters <remoteaddr> ah <ahspi> [ slot <slotnumber> [ engine <engine-id> | card <card-id> ] ]",
        "reset ipsec sa parameters <remoteaddr> esp <espspi> [ slot <slotnumber> [ engine <engine-id> | card <card-id> ] ]",
        "reset ipsec sa policy <mapname> [ slot <slotnumber> [ engine <engine-id> | card <card-id> ] ]",
        "reset ipsec sa policy <mapname> <seqno> [ slot <slotnumber> [ engine <engine-id> | card <card-id> ] ]",
        "reset ipsec sa [ slot <slotnumber> [ engine <engine-id> | card <card-id> ] [ speed <speed> ] ]",
        "reset ipsec sa remote <remoteaddr> [ slot <slotnumber> [ engine <engine-id> | card <card-id> ] ]"
    ],
    "ParentView": [
        "User view"
    ],
    "ParaDef": [
        {
            "Parameters": "remoteaddr",
            "Info": "Deletes the IPSec SA by remote address.\nThe value is in dotted decimal notation."
        },
        {
            "Parameters": "ah ahspi",
            "Info": "Deletes the IPSec SA by AH security parameter index (SPI).\nThe value is an integer and ranges from 256 to 4294967295."
        },
        {
            "Parameters": "slot slotnumber",
            "Info": "Deletes the IPSec SA in a specified slot.\nThe value is an integer that ranges from 0 to 32."
        },
        {
            "Parameters": "esp espspi",
            "Info": "Deletes the IPSec SA by ESP security parameter index (SPI).\nThe value is an integer and ranges from 256 to 4294967295."
        },
        {
            "Parameters": "mapname",
            "Info": "Deletes the IPSec SA by policy name.\nIt is a string of 1 to 15 case insensitive characters."
        },
        {
            "Parameters": "seqno",
            "Info": "Indicates the sequence number of the IPSec policy.\nIt is an integer that ranges from 1 to 10000, where a smaller value indicates a higher priority."
        },
        {
            "Parameters": "speed speed",
            "Info": "Set delete speed.\nIt is an interger that ranges from 1 to 200 (per sencond)."
        },
        {
            "Parameters": "engine engine-id",
            "Info": "Indicates the engine ID.\nThe value is an integer that ranges from 0 to 1."
        },
        {
            "Parameters": "card card-id",
            "Info": "Indicates the card ID.\nThe value is an integer that ranges from 0 to 1."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> reset ipsec sa"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nTo re-configure the IPSec policy, you can clear IPSec SAs.\nreset ipsec sa operation clears SAs created at phase 2 only, no matter the SAs are created manually or through IKE negotiation. If no parameter is specified, all the SAs at phase 2 are cleared.For the SAs negotiated and established by the IKE mode, you must run reset ipsec sa command before running the reset ike sa command. Otherwise, the command fails. After the SA that is created through IKE negotiation is cleared, if certain packets trigger the IKE negotiation, IKE re-negotiates to create an SA.SAs exist in pairs. Therefore, when the parameters field is specified, if an SA in one direction is cleared, the SA in the other direction is cleared at the same time.\nIf the reset ipsec sa command is run during a rekey or reauthentication operation, new SAs may be generated after the command execution.\nIf a device housing multiple VSUs is connected to a device housing one VSU and the reset ipsec sa command is run on one of the VSUs on the device, not all the SAs on the peer device are deleted.\nengine and card options are supported only on the VSU board."
}