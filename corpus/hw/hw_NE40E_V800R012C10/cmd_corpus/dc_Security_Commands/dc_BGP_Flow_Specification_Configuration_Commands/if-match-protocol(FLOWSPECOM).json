{
    "PageTitle": "if-match protocol (Flow-Route view)",
    "FuncDef": "The if-match protocol command configures a filtering rule based on the IP protocol.\nThe undo if-match protocol command deletes the filtering rule based on the IP protocol.\nBy default, no filtering rule is configured based on the IP protocol.",
    "CLIs": [
        "if-match protocol { greater-than | less-than | equal } { icmp | igmp | ipip | tcp | egp | udp | ipv6 | rsvp | gre | esp | ospf | pim | protocol }",
        "if-match protocol greater-than { icmp | igmp | ipip | tcp | egp | udp | ipv6 | rsvp | gre | esp | ospf | pim | protocol } less-than { icmp | igmp | ipip | tcp | egp | udp | ipv6 | rsvp | gre | esp | ospf | pim | <upper-protocol-value> }",
        "undo if-match protocol",
        "undo if-match protocol { greater-than | less-than | equal } { icmp | igmp | ipip | tcp | egp | udp | ipv6 | rsvp | gre | esp | ospf | pim | protocol }",
        "undo if-match protocol greater-than { icmp | igmp | ipip | tcp | egp | udp | ipv6 | rsvp | gre | esp | ospf | pim | protocol } less-than { icmp | igmp | ipip | tcp | egp | udp | ipv6 | rsvp | gre | esp | ospf | pim | <upper-protocol-value> }"
    ],
    "ParentView": [
        "Flow-Route VPN instance view",
        "Flow-Route view"
    ],
    "ParaDef": [
        {
            "Parameters": "greater-than",
            "Info": "Indicates that the IP protocol ID is greater than the specified one.\n-"
        },
        {
            "Parameters": "less-than",
            "Info": "Indicates that the IP protocol ID is smaller than the specified one.\n-"
        },
        {
            "Parameters": "equal",
            "Info": "Indicates that the IP protocol ID is equal to the specified one.\n-"
        },
        {
            "Parameters": "protocol",
            "Info": "Specifies a protocol type with a name or number.\nThe value is an integer that ranges from 0 to 255. It can be any of the following number:\n1: icmp2: igmp4: ipip6: tcp8: egp17: udp41: ipv646: rsvp47: gre50: esp58: icmpv6 (supported only in the Flow-Route-IPv6 view)89: ospf103: pim"
        },
        {
            "Parameters": "upper-protocol-value",
            "Info": "Specifies the upper limit of an IP protocol ID range.\nThe value is an integer ranging from 0 to 255. Common protocol IDs are as follows:\n1: icmp\n2: igmp\n4: ipip\n6: tcp\n8: egp\n17: udp\n41: ipv6\n46: rsvp\n47: gre\n50: esp\n58: icmpv6 (supported only in the Flow-Route-IPv6 view)\n89: ospf\n103: pim"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] flow-route Rule1",
            "[*HUAWEI-flow-route] if-match protocol equal 6"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] flow-route Rule1 vpn-instance va",
            "[*HUAWEI-flow-route-va] if-match protocol greater-than 6 less-than 10"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nThe if-match protocol command is used to configure a filtering rule based on the IP protocol name or number for a BGP (IPv6) Flow Specification route or BGP (IPv6) VPN Flow Specification route. Traffic matching the filtering rule will be controlled with the action specified by the apply clause.\nPrerequisites\nA static BGP (IPv6) Flow Specification route or BGP (IPv6) VPN Flow Specification route has been created using the flow-route command in the system view.\nPrecautions\nA maximum of five filtering rules based on the IP protocol type can be configured for a BGP Flow Specification route."
}