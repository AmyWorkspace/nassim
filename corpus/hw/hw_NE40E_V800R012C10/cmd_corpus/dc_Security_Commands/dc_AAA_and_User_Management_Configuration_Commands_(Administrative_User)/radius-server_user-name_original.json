{
    "PageTitle": "radius-server user-name(RADIUS server group view)",
    "FuncDef": "The radius-server user-name command sets the name format of RADIUS server users.\nThe undo radius-server user-name domain-included command configures an device to delete the domain name in a user name before sending it to the RADIUS server.\nBy default, the user name includes the domain name.",
    "CLIs": [
        "radius-server user-name domain-included",
        "radius-server user-name original",
        "undo radius-server user-name original",
        "undo radius-server user-name domain-included"
    ],
    "ParentView": [
        "RADIUS server group view"
    ],
    "ParaDef": [
        {
            "Parameters": "original",
            "Info": "Indicates that the format of the user name is the same as what the user enters. The user name sent to the RADIUS server includes the domain name only when the user name entered during login includes the domain name.\n-"
        },
        {
            "Parameters": "domain-included",
            "Info": "Includes the domain name in the user name. That is, the user name in the format of \"user name@domain name\".\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] radius-server group huawei",
            "[*HUAWEI-radius-huawei] undo radius-server user-name domain-included"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nUser names of the device are in the format of \"user@domain\". Certain RADIUS servers support only the pure user name format; whereas certain servers support user names that include domain names. You need to configure whether the user names sent from the device to the RADIUS server contain domain names.\nPrecautions\nThe undo radius-server user-name domain-included command configuration brings system security risks. Running the radius-server user-name original command is recommended.\nA RADIUS server group having the undo radius-server user-name domain-included configuration cannot be bound to the default admin domain or a domain having the adminuser-priority configuration (configuration restoration is not affected).\nThe default admin domain is a domain configured using the default-domain admin command. An admin domain is the default admin domain or a domain having the adminuser-priority configuration. By default, the default admin domain name is default_admin.\nScenario 1:\nScenario Description:\nIf a RADIUS server group is bound to only the default admin domain, an error message is displayed when the undo radius-server user-name domain-included command is run in the view of the RADIUS server group.\n[*HUAWEI--radius-rad] undo radius-server user-name domain-included\nError: Configuring devices in a RADIUS server group or TACACS server template bound to the admin domain to send user names without domain names brings security risks.\nThe current AAA configuration is as follows:\n[~HUAWEI-aaa]display this\n#\naaalocal-user root123 password irreversible-cipher $1c$S0'sK$EOY&$1X;cDL\"w6*Cb\\]X5gPx&%gt{8,GO@V/MHM3Qhz$O$\nlocal-user root123 service-type telnet ssh\nlocal-user root123 level 3\nlocal-user root123 state block fail-times 3 interval 5\n#\nauthentication-scheme default0\n#\nauthentication-scheme default1\n#\nauthentication-scheme defaultauthentication-mode radius\n#\nauthorization-scheme default\n#\naccounting-scheme default0\n#\naccounting-scheme default1\n#\ndomain default0\n#\ndomain default1\n#\ndomain default_adminradius-server group rad\n#\ndomain default\n#\nSolution:\nRun the radius-server user-name original command to override the undo radius-server user-name domain-included configuration.\n[~HUAWEI-radius-rad] radius-server user-name original\n[~HUAWEI-radius-rad] commit\nImpact:\nAfter the configurations are changed, user names that carry domain names are not supported. A login failure occurs if a user name carrying a domain name, such as, user001@default_admin is used for login.\nScenario 2:\nScenario Description:\nIf a RADIUS server group is bound to both the default admin domain and common domain, an error message is displayed when the undo radius-server user-name domain-included command is run in the view of the RADIUS server group.\n[*HUAWEI-radius-rad] undo radius-server user-name domain-included\nError: Configuring devices in a RADIUS server group or TACACS server template bound to the admin domain to send user names without domain names brings security risks.\nThe current AAA configuration is as follows:\n[~HUAWEI-aaa] display this\n#\naaalocal-user root123 password irreversible-cipher $1c$S0'sK$EOY&$1X;cDL\"w6*Cb\\]X5gPx&%gt{8,GO@V/MHM3Qhz$O$\nlocal-user root123 service-type telnet ssh\nlocal-user root123 level 3\nlocal-user root123 state block fail-times 3 interval 5\n#\nauthentication-scheme default0\n#\nauthentication-scheme default1\n#\nauthentication-scheme defaultauthentication-mode radius\n#\nauthorization-scheme default\n#\naccounting-scheme default0\n#\naccounting-scheme default1\n#\ndomain default0\n#\ndomain default1\n#\ndomain default_adminradius-server group rad\n#\ndomain dom2radius-server group rad\n#\ndomain default\n#\nSolution:Create another RADIUS server group that has the same configurations as the RADIUS server group bound to the non-admin domain.\n\n[*HUAWEI] radius-server group radnew\nInfo: A new server-group is created.\nWarning: Please configure the shared-key. Configuring shared-key is mandatory to communicate with RADIUS server.\n[*HUAWEI-radius-radnew] radius-server authentication 192.168.0.2 1812\n[*HUAWEI-radius-radnew] radius-server shared-key-cipher %^%#c~`zCvqg.=Qh-fSl4;s<*5TaHp@Hw~th1Rj99%%^%#2.Run the radius-server user-name original command to override the undo radius-server user-name domain-included configuration.\n\n[-radius-radnew] radius-server user-name original\n[-radius-radnew] commit\n[-radius-radnew] display this\n#\nradius-server group radnewradius-server 192.168.0.2\nradius-server shared-key cipher %^%#/rZ2A\\A7\\1/S;S7/L$eD#~Ea#I36)3T#tNS_\\0-2%^%#\nradius-server user-name original\n#3.Bind the new RADIUS server group to the default admin domain.\n\n[-aaa-domain-default_admin] radius-server group radnew\n[-aaa-domain-default_admin] commit\nImpact:\nAfter the configurations are changed, user names that carry the default admin domain name, such as user001@default_admin, are not supported. A login failure occurs if a user name carrying the default admin domain name is used for login. User names that carry common domain names, such as user001@dom2, are supported.\nScenario 3:\nScenario Description:\nIf a RADIUS server group is bound to only the non-default admin domain, an error message is displayed when the undo radius-server user-name domain-included command is run in the view of the RADIUS server group.\n[*HUAWEI-radius-rad] undo radius-server user-name domain-included\nError: Configuring devices in a RADIUS server group or TACACS server template bound to the admin domain to send user names without domain names brings security risks.\nThe current AAA configuration is as follows:\n[~HUAWEI-aaa] display this#\naaalocal-user root123 password irreversible-cipher $1c$S0'sK$EOY&$1X;cDL\"w6*Cb\\]X5gPx&%gt{8,GO@V/MHM3Qhz$O$\nlocal-user root123 service-type telnet ssh\nlocal-user root123 level 3\nlocal-user root123 state block fail-times 3 interval 5\n#\nauthentication-scheme default0\n#\nauthentication-scheme default1\n#\nauthentication-scheme defaultauthentication-mode radius\n#\nauthorization-scheme default\n#\naccounting-scheme default0\n#\naccounting-scheme default1\n#\ndomain default0\n#\ndomain default1\n#\ndomain default_admin\n#domain dom1\nadminuser-priority 3\nradius-server group rad\n#\ndomain default\n#\nSolution:Run the radius-server user-name original command to override the undo radius-server user-name domain-included configuration.\n\n[*HUAWEI] radius-server group rad\n[*HUAWEI-radius-rad] radius-server user-name original\n[*HUAWEI-radius-rad] commit2.Add user names that carry domain names on the RADIUS server group.For example, add the user name user001@dom1 for an existing user name user001.\n\nImpact: None.\nScenario 4:\nScenario Description:\nIf a RADIUS server group is bound to both the non-default admin domain and common domain, an error message is displayed when the undo radius-server user-name domain-included command is run in the view of the RADIUS server group.\n[*HUAWEI-radius-rad] undo radius-server user-name domain-included\nError: Configuring devices in a RADIUS server group or TACACS server template bound to the admin domain to send user names without domain names brings security risks.\nThe current AAA configuration is as follows:\n[~HUAWEI-aaa] display this#\naaalocal-user root123 password irreversible-cipher $1c$S0'sK$EOY&$1X;cDL\"w6*Cb\\]X5gPx&%gt{8,GO@V/MHM3Qhz$O$\nlocal-user root123 service-type telnet ssh\nlocal-user root123 level 3\nlocal-user root123 state block fail-times 3 interval 5\n#\nauthentication-scheme default0\n#\nauthentication-scheme default1\n#\nauthentication-scheme defaultauthentication-mode radius\n#\nauthorization-scheme default\n#\naccounting-scheme default0\n#\naccounting-scheme default1\n#\ndomain default0\n#\ndomain default1\n#\ndomain default_admin\n#\ndomain dom1adminuser-priority 3\nradius-server group rad\n#\ndomain dom2radius-server group rad\n#\ndomain default\n#\nSolution:Create another RADIUS server group that has the same configurations as the RADIUS server group bound to the non-admin domain.\n\n[*HUAWEI] radius-server group radnew\nInfo: A new server-group is created.\nWarning: Please configure the shared-key. Configuring shared-key is mandatory to communicate with RADIUS server.\n[*HUAWEI-radius-radnew] radius-server authentication 192.168.0.2 1812\n[*HUAWEI-radius-radnew] radius-server shared-key-cipher %^%#c~`zCvqg.=Qh-fSl4;s<*5TaHp@Hw~th1Rj99%%^%#2.Run the radius-server user-name original command to override the undo radius-server user-name domain-included configuration.\n\n[-radius-radnew] radius-server user-name original\n[-radius-radnew] commit\n[-radius-radnew] display this\n#\nradius-server group radnewradius-server authentication 192.168.0.2 1812\nradius-server shared-key-cipher %^%#c~`zCvqg.=Qh-fSl4;s&c<*5TaHp@Hw~th1Rj99%%^%#\nradius-server user-name original\n#3.Bind the new RADIUS server group to the common admin domain dom1.\n\n[-aaa-domain-dom1] radius-server group radnew\n[-aaa-domain-dom1] commit4.Add user names that carry domain names on the RADIUS server group.\n\nFor example, add the user name user001@dom1 for an existing user name user001.\nImpact: None.\n\nIn VS mode, this command is supported only by the admin VS."
}