{
    "PageTitle": "protocol-group queue",
    "FuncDef": "The protocol-group queue command configures the weight of the packets to be sent to the CPU in specific protocol queues.\nThe undo protocol-group queue command restores the default settings.\nThe default weight for protocol queues can be displayed by command display cpu-defend protocol-group queue configuration.",
    "CLIs": [
        "protocol-group whitelist queue { whitelist-bgp | whitelist-ldp | whitelist-management | whitelist-multicast | whitelist-reserve } weight <weight-value>",
        "protocol-group user-defined-flow queue { user-define-flow-1 | user-define-flow-2 | user-define-flow-3 | user-define-flow-4 | user-define-flow-5 | user-define-flow-6 | user-define-flow-7 | user-define-flow-8 } weight <weight-value>",
        "protocol-group management queue { dcn | ftp | ntp | snmp | ssh | sshv6 | syslog | telnet } weight <weight-value>",
        "protocol-group route-protocol queue { bgp | bgpv6 | isis | ospf | ospfv3 | rip } weight <weight-value>",
        "protocol-group multicast queue { igmp | multicast-reserve | msdp | pim } weight <weight-value>",
        "protocol-group arp queue { arp | nd } weight <weight-value>",
        "protocol-group mpls queue { ldp | oam-ping | rsvp | vxlan } weight <weight-value>",
        "protocol-group access-user queue { bas-arp | bas-igmp | bas-nd | bas-trigger | dhcp | dhcpv6 | eapol | l2tp | lldp | ppp | vbas-reserve | web } weight <weight-value>",
        "protocol-group link-layer queue { 3ah | bfd | link-detect | trunk | y1731 | interface-rdi | lag-check | lag-ping-trace | mac-vlan } weight <weight-value>",
        "protocol-group network-layer queue { clock | default | dns | fragment | gre | hwtacas | icmp | icmpv6 | ipv4-reserve | ipv6-option | nhrp | vrrp | radius-diameter } weight <weight-value>",
        "protocol-group system-message queue system-message weight <weight-value>",
        "protocol-group blacklist queue blacklist weight <weight-value>",
        "protocol-group check-failed queue check-failed weight <weight-value>",
        "protocol-group fwddata-to-cp queue forward-data weight <weight-value>",
        "undo protocol-group whitelist queue { whitelist-bgp | whitelist-ldp | whitelist-management | whitelist-multicast | whitelist-reserve } weight [ <weight-value> ]",
        "undo protocol-group user-defined-flow queue { user-define-flow-1 | user-define-flow-2 | user-define-flow-3 | user-define-flow-4 | user-define-flow-5 | user-define-flow-6 | user-define-flow-7 | user-define-flow-8 } weight [ <weight-value> ]",
        "undo protocol-group management queue { dcn | ftp | ntp | snmp | ssh | sshv6 | syslog | telnet } weight [ <weight-value> ]",
        "undo protocol-group route-protocol queue { bgp | bgpv6 | isis | ospf | ospfv3 | rip } weight [ <weight-value> ]",
        "undo protocol-group multicast queue { igmp | multicast-reserve | msdp | pim } weight [ <weight-value> ]",
        "undo protocol-group arp queue { arp | nd } weight [ <weight-value> ]",
        "undo protocol-group mpls queue { ldp | oam-ping | rsvp | vxlan } weight [ <weight-value> ]",
        "undo protocol-group access-user queue { bas-arp | bas-igmp | bas-nd | bas-trigger | dhcp | dhcpv6 | eapol | l2tp | lldp | ppp | vbas-reserve | web } weight [ <weight-value> ]",
        "undo protocol-group link-layer queue { 3ah | bfd | link-detect | trunk | y1731 | interface-rdi | lag-check | lag-ping-trace | mac-vlan } weight [ <weight-value> ]",
        "undo protocol-group network-layer queue { clock | default | dns | fragment | gre | hwtacas | icmp | icmpv6 | ipv4-reserve | ipv6-option | nhrp | vrrp | radius-diameter } weight [ <weight-value> ]",
        "undo protocol-group system-message queue system-message weight [ <weight-value> ]",
        "undo protocol-group blacklist queue blacklist weight [ <weight-value> ]",
        "undo protocol-group check-failed queue check-failed weight [ <weight-value> ]",
        "undo protocol-group fwddata-to-cp queue forward-data weight [ <weight-value> ]"
    ],
    "ParentView": [
        "Attack defense policy view"
    ],
    "ParaDef": [
        {
            "Parameters": "weight weight-value",
            "Info": "Weight.\nThe value is an integer ranging from 1 to 16"
        },
        {
            "Parameters": "user-defined-flow",
            "Info": "Indicate user defined flow packets.\n-"
        },
        {
            "Parameters": "management",
            "Info": "Indicate management packets.\n-"
        },
        {
            "Parameters": "route-protocol",
            "Info": "Indicate multicast packets.\n-"
        },
        {
            "Parameters": "multicast",
            "Info": "Indicate multicast packets.\n-"
        },
        {
            "Parameters": "arp",
            "Info": "Indicate arp packets.\n-"
        },
        {
            "Parameters": "mpls",
            "Info": "Indicate mpls packets.\n-"
        },
        {
            "Parameters": "access-user",
            "Info": "Indicate access-user packets.\n-"
        },
        {
            "Parameters": "link-layer",
            "Info": "Indicate link-layer packets.\n-"
        },
        {
            "Parameters": "network-layer",
            "Info": "Indicate network-layer packets.\n-"
        },
        {
            "Parameters": "system-message",
            "Info": "Indicate system-message packets.\n-"
        },
        {
            "Parameters": "blacklist",
            "Info": "Indicate blacklist packets.\n-"
        },
        {
            "Parameters": "check-failed",
            "Info": "Indicate check-failed packets.\n-"
        },
        {
            "Parameters": "fwddata-to-cp",
            "Info": "Indicate foward-data-tocp packets.\n-"
        },
        {
            "Parameters": "whitelist",
            "Info": "Indicate whitelist packets.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] cpu-defend policy 8",
            "[*HUAWEI-cpu-defend-policy-8] protocol-group route-protocol queue bgp weight 5",
            "[*HUAWEI-cpu-defend-policy-8] quit",
            "[*HUAWEI] slot 1",
            "[*HUAWEI-slot-1] cpu-defend-policy 8"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nWhen congestion occurs for packets to be sent to the CPU, packets in different queues are scheduled based on the weights of the queues. Packets with larger weights are forwarded more frequently. When congestion occurs due to packet bursts, you can set the queue weight to allow packets with higher weights to preferentially pass."
}