{
    "PageTitle": "display nat statistics address-pool-usage",
    "FuncDef": "The display nat statistics address-pool-usage command displays the usage of ports and address pools.",
    "CLIs": [
        "display nat statistics address-pool-usage [ time-interval <time-interval-value> ]",
        "display nat statistics { port-usage | session-usage | payload } [ time-interval <time-interval-value> ]"
    ],
    "ParentView": [
        "All views"
    ],
    "ParaDef": [
        {
            "Parameters": "time-interval time-interval-value",
            "Info": "Specifies the interval at which statistics are collected and displayed.\nIf the time-interval parameter is configured, the display nat statistics command calculates the average and maximum values within a specified interval. For example, if the time-interval value is set to 3 hours, the device uses the sampled data to calculate the average and maximum values every 3 hours.If the time-interval parameter is not configured, the display nat statistics command displays the current, average, and maximum values based on the data that is sampled once every 10 minutes.\nThe value is an integer ranging from 1 to 24, in hours."
        },
        {
            "Parameters": "port-usage",
            "Info": "Displays the number of user ports in each NAT instance on a service board. This parameter takes effect only on the VSUF-80/VSUF-160/VSUI-160-E/VSUI-400/VSUI-400-E/VSUI-400A/VSUI-400A-E/VSUI-400-S/VSUI-400A-S.\n-"
        },
        {
            "Parameters": "session-usage",
            "Info": "Displays the number of user sessions in each NAT instance. This parameter takes effect only on the VSUF-80/VSUF-160/VSUI-160-E/VSUI-400/VSUI-400-E/VSUI-400A/VSUI-400A-E/VSUI-400-S/VSUI-400A-S.\n-"
        },
        {
            "Parameters": "payload",
            "Info": "Displays statistics about forwarding payload on a service board.\n-"
        },
        {
            "Parameters": "address-pool-usage",
            "Info": "Displays IP address usage of each IP address pool in each NAT instance.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> display nat statistics address-pool-usage",
            "This operation will take a few minutes. Press 'Ctrl+C' to break ...",
            "Slot: 1 Engine: 0",
            " Nat Instance cpe1",
            "    Address Group:group1                                                                                             ",
            "    Addr-usage Current:  20%",
            "    Addr-usage Average:  0%",
            "    Addr-usage Max:      0%"
        ],
        [
            "<HUAWEI> display nat statistics port-usage",
            "This operation will take a few minutes. Press 'Ctrl+C' to break ...",
            "Slot: 1 Engine: 0",
            " NAT Instance cpe1",
            "  Port-usage Current:  2",
            "  Port-usage Average:  3",
            "  Port-usage Max:      7"
        ],
        [
            "<HUAWEI> display nat statistics session-usage",
            "This operation will take a few minutes. Press 'Ctrl+C' to break ...",
            "Slot: 1 Engine: 0",
            " NAT Instance cpe1",
            "  Sess-usage Current:  0",
            "  Sess-usage Average:  0",
            "  Sess-usage Max:      1"
        ],
        [
            "<HUAWEI> display nat statistics address-pool-usage time-interval 1",
            "This operation will take a few minutes. Press 'Ctrl+C' to break ...",
            "Slot: 1 Engine: 0",
            "******************************************************",
            "  Nat Instance cpe1",
            "******************************************************",
            "Address Group: group1",
            "StartTime             EndTime              Avarage-usage           Max-usage",
            "2014-07-07 15:25   2014-07-07 16:25          0%                    0%",
            "2014-07-07 14:25    2014-07-07 15:25          0%                    0%",
            "2014-07-07 13:25    2014-07-07 14:25          0%                    0%",
            "------------------------------------------------------"
        ],
        [
            "<HUAWEI> display nat statistics port-usage time-interval 1",
            "This operation will take a few minutes. Press 'Ctrl+C' to break ...",
            "Slot: 1 Engine: 0",
            "******************************************************",
            "  Nat Instance cpe1",
            "******************************************************",
            "--------------------------------------------------------",
            "StartTime             EndTime       Avarage-usage   Max-usage",
            "2014-07-09 10:11  2014-07-09 11:11      3             7",
            "-------------------------------------------------------"
        ],
        [
            "<HUAWEI> display nat statistics session-usage time-interval 1",
            "This operation will take a few minutes. Press 'Ctrl+C' to break ...",
            "Slot: 1 Engine: 0",
            "******************************************************",
            "  Nat Instance cpe1",
            "******************************************************",
            "--------------------------------------------------------",
            "StartTime         EndTime          Avarage-usage   Max-usage",
            "2014-07-09 10:15 2014-07-09 11:15       3          7",
            "--------------------------------------------------------"
        ],
        [
            "<HUAWEI> display nat statistics payload time-interval 1",
            "2017-01-11 15:19:38.891 ",
            "This operation will take a few minutes. Press 'Ctrl+C' to break ... ",
            "Slot: 1 Engine: 0 ",
            "----------------------------------------------------------------------------------------------- ",
            "Transmit packet speed Transmit bit speed ",
            "StartTime            EndTime            Average(pps) Max(pps) Average(bps) Max(bps) ",
            "----------------------------------------------------------------------------------------------- ",
            "2017-01-11 14:19     2017-01-11 15:19       0          0          0         0 ",
            "2017-01-11 13:19     2017-01-11 14:19       0          0          0         0 ",
            "2017-01-11 12:19     2017-01-11 13:19       0          0          0         0 ",
            "2017-01-11 11:19     2017-01-11 12:19       0          0          0         0 ",
            "----------------------------------------------------------------------------------------------- ",
            "Receive packet speed Receive bit speed ",
            "StartTime           EndTime            Average(pps) Max(pps) Average(bps) Max(bps) ",
            "----------------------------------------------------------------------------------------------- ",
            "2017-01-11 14:19    2017-01-11 15:19        0         0          0           0 ",
            "2017-01-11 13:19    2017-01-11 14:19        0         0          0           0 ",
            "2017-01-11 12:19    2017-01-11 13:19        0         0          0           0 ",
            "2017-01-11 11:19    2017-01-11 12:19        0         0          0           0 ",
            "-----------------------------------------------------------------------------------------------"
        ],
        [
            "<HUAWEI> display nat statistics payload",
            "This operation will take a few minutes. Press 'Ctrl+C' to break ...             ",
            "Slot: 1                                                                         ",
            "  total current receive packet speed(pps):                              808727  ",
            "  total current receive packet bit speed(bps):                       841100000  ",
            "  total current receive packet average length(bytes):                      130  ",
            "  total current transmit packet speed(pps):                                  0  ",
            "  total current transmit packet bit speed(bps):                              0  ",
            "  total current transmit packet average length(bytes):                       0  ",
            "  total historical maximum receive packet speed(pps):                  1646443  ",
            "  total historical maximum receive packet speed time:      2015-06-11 10:14:41  ",
            "  total historical maximum receive packet bit speed(bps):           1712301176  ",
            "  total historical maximum receive packet bit speed time:  2015-06-11 10:14:41  ",
            "  total historical maximum transmit packet speed(pps):                  823228  ",
            "  total historical maximum transmit packet speed time:     2015-06-11 10:14:38  ",
            "  total historical maximum transmit packet bit speed(bps):           737607104  ",
            "  total historical maximum transmit packet bit speed time: 2015-06-11 10:36:01  ",
            "Slot: 1  Engine: 0                                                              ",
            "  current receive packet speed(pps):                                    808727  ",
            "  current receive packet bit speed(bps):                             841100000  ",
            "  current receive packet average length(bytes):                            130  ",
            "  current transmit packet speed(pps):                                        0  ",
            "  current transmit packet bit speed(bps):                                    0  ",
            "  current transmit packet average length(bytes):                             0  ",
            "  current first packet speed(pps):                                      196636  ",
            "  current first packet bit speed(bps):                                22419136  ",
            "  current reverse first packet speed(pps):                                   0  ",
            "  current reverse first packet bit speed(bps):                               0  ",
            "  historical maximum receive packet speed(pps):                        1646443  ",
            "  historical maximum receive packet speed time:            2015-06-11 10:14:41  ",
            "  historical maximum receive packet bit speed(bps):                 1712301176  ",
            "  historical maximum receive packet bit speed time:        2015-06-11 10:14:41  ",
            "  historical maximum transmit packet speed(pps):                        823228  ",
            "  historical maximum transmit packet speed time:           2015-06-11 10:14:38  ",
            "  historical maximum transmit packet bit speed(bps):                 737607104  ",
            "  historical maximum transmit packet bit speed time:       2015-06-11 10:36:01"
        ]
    ],
    "ExtraInfo": "Usage Scenario\ndisplay nat statistics usage of ports, sessions, address pools, and payload.\nPrecautions\nOn a VSUF-80/VSUF-160/VSUI-160-E/VSUI-400/VSUI-400-E/VSUI-400A/VSUI-400A-E/VSUI-400-S/VSUI-400A-S, the address-pool-usage parameter can be configured in the display nat statistics command to display the IP address usage of no-PAT and PAT address pools. The display nat statistics { discard | global } nat-instance command can be used in load balancing scenarios. Information about all load-balancing members in a NAT instance can be displayed.\nOn a LPUF-51-E/LPUI-51-E/LPUI-51-S, the address-pool-usage parameter can be configured in the display nat statistics command to display the IP address usage of no-PAT and PAT address pools. IP address usage of a PAT address pool is 0%. This is because the PAT mode supports the port reuse mode, and the address pool usage is meaningless.\nOn a LPUF-51-E/LPUI-51-E/LPUI-51-S, the payload parameter must be used together with the slot slot-id parameter in the display nat statistics command to display forwarding load statistics on an existing service board."
}