{
    "PageTitle": "section exclude-ip-address (NAT instance address pool view)",
    "FuncDef": "The section exclude-ip-address command excludes a specific IP address or a range of IP addresses from an IP address pool.\nThe undo section exclude-ip-address command restores a specific IP address or a range of IP addresses in an IP address pool.\nBy default, an IP address or a range of IP addresses cannot be excluded from an IP address pool.",
    "CLIs": [
        "section <section-id> exclude-ip-address <start-address> [ <end-address> ]",
        "undo section <section-id> exclude-ip-address <start-address> [ <end-address> ]"
    ],
    "ParentView": [
        "NAT instance address pool view"
    ],
    "ParaDef": [
        {
            "Parameters": "start-address",
            "Info": "Specifies the start address of an excluded address segment.\nThe value is in dotted decimal notation."
        },
        {
            "Parameters": "end-address",
            "Info": "Specifies an end IP address. The end IP address must be greater than or equal to the start IP address.\nThe value is in dotted decimal notation."
        },
        {
            "Parameters": "section section-id",
            "Info": "Specifies the ID of an address segment in an address pool.\nThe value can only be 0 to 15."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] nat instance cpe1 id 1",
            "[*HUAWEI-nat-instance-cpe1] nat address-group group1 group-id 1",
            "[*HUAWEI-nat-instance-cpe1-nat-address-group-group1] section 1 10.0.0.0 mask 24",
            "[*HUAWEI-nat-instance-cpe1-nat-address-group-group1] section 1 exclude-ip-address 10.0.0.0 10.0.0.5"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nIf a specific IP address or a range of IP addresses needs to be removed from a NAT address pool, the address pool has to be divided into multiple pools so that each one contains a continuous range of IP addresses. Then the same configurations or operations have to be repeatedly performed on these pools. To address this problem, run the section exclude-ip-address command to remove a specific IP address or a range of IP addresses from a NAT address pool. Then the configurations or operations can be performed once on the address pool that has excluded the specified IP addresses.\nPrerequisites\nA NAT instance, its address pool, and address pool sections have been configured. Ensure that addresses in the NAT address pool cannot match the ACL used in a NAT outbound policy configured using the nat outbound command.\nPrecautions\nThe section exclude-ip-address command only removes a public IP address or a public IP address segment.A maximum of 10 IP addresses can be removed from a public IP address segment. The excluded IP addresses must be different.When you restore an IP address or an IP address range in a NAT address pool using the undo section exclude-ip-address command, the specified public IP address or IP address range must be within the excluded public IP address range.If an address pool is configured by specifying mask, the device advertises specific UNRs instead of network segment UNRs after this command is run. If you run this command to exclude some public IP addresses, routes to the public IP addresses may fail to be advertised, and services may be interrupted."
}