{
    "PageTitle": "encapsulation dot1q vid",
    "FuncDef": "The encapsulation dot1q vid 8021p command is used to configure a Layer 2 sub-interface to access packets with a specified 802.1Q Tag.\nThe undo encapsulation dot1q vid 8021p command is used to cancel the access of a specified Layer 2 sub-interface to a specified 802.1Q Tag.\nBy default, no encapsulation type is specified on an EVC Layer 2 sub-interface.",
    "CLIs": [
        "encapsulation dot1q vid <pevid1> [ to <pevid2> ] 8021p { <val8021p1> [ to <val8021p2> ] } &<1-8>",
        "undo encapsulation dot1q vid <pevid1> [ to <pevid2> ] 8021p { <val8021p1> [ to <val8021p2> ] } &<1-8>"
    ],
    "ParentView": [
        "Layer 2 sub-interface view",
        "50GE Layer 2 sub-interface view",
        "Eth-Trunk Layer 2 sub-interface view",
        "GE Layer 2 sub-interface view",
        "400GE Layer 2 sub-interface view"
    ],
    "ParaDef": [
        {
            "Parameters": "pevid1",
            "Info": "Specifies a range of VLAN IDs for single-tagged packets to be received by an EVC Layer 2 sub-interface. The parameters are as follows:\npevid1: specifies the start VLAN ID.\nThe value is an integer ranging from 1 to 4094."
        },
        {
            "Parameters": "pevid2",
            "Info": "Specifies a range of VLAN IDs for single-tagged packets to be received by an EVC Layer 2 sub-interface. The parameters are as follows:\npevid2: specifies the end VLAN ID. pevid2 must be greater than or equal to pevid1. pevid2 and pevid1 define a range of VLAN IDs.\nIf you do not specify to pevid2, pevid1 specifies the single VLAN ID carried in packets.\nIf the pevid1 [ to pevid2 ] parameters are run more than once, all configurations take effect.\nThe value is an integer ranging from 1 to 4094."
        },
        {
            "Parameters": "8021p",
            "Info": "Specifies a range of priority values for single-tagged packets to be received by an EVC Layer 2 sub-interface.\n-"
        },
        {
            "Parameters": "val8021p1",
            "Info": "Specifies a range of priority values for single-tagged packets to be received by an EVC Layer 2 sub-interface. The parameters are as follows:\nval8021p1: specifies the smallest priority value.\nThe value is an integer ranging from 0 to 7. A larger value indicates a higher priority."
        },
        {
            "Parameters": "val8021p2",
            "Info": "Specifies a range of priority values for single-tagged packets to be received by an EVC Layer 2 sub-interface. The parameters are as follows:\nval8021p2: specifies the largest priority value. val8021p2 must be greater than or equal to val8021p1. val8021p2 and val8021p1 define a range of priority values.\nIf you do not specify to val8021p2, val8021p1 specifies a priority value carried in a VLAN frame.If the val8021p1 [ to val8021p2 ] parameters are run more than once, all configurations take effect.\nThe value is an integer ranging from 0 to 7. A larger value indicates a higher priority."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~",
            "\t\t\t\t\tHUAWEI] interface GigabitEthernet",
            "\t\t\t\t\t\t1/0/1.2 mode l2",
            "[*",
            "\t\t\t\t\tHUAWEI-GigabitEthernet",
            "\t\t\t\t\t1/0/1.2] encapsulation dot1q vid 10 8021p 5"
        ]
    ],
    "ExtraInfo": "Usage Scenario\n\n\nOn a Layer 2 Ethernet network, packets may not carry VLAN Tags or carry one or two VLAN Tags. To enable different packets to be forwarded through different EVC Layer 2 sub-interfaces, run this command to configure different flow encapsulation modes for the EV Layer 2 sub-interface. The encapsulation dot1q vid 8021p command is used to configure a Layer 2 sub-interface to access packets with a specified 802.1Q Tag.\n\nPrecautions\n\n\nOnly a single encapsulation type can be specified on each EVC Layer 2 sub-interface. Before changing an encapsulation type, run the undo encapsulation command to delete the existing encapsulation type and run the encapsulation to specify an encapsulation type.\nIn a data transparent transmission scenario, dot1q or QinQ encapsulation is configured on an EVC Layer 2 sub-interface, and a range of VLAN IDs is specified for VLAN tags carried in packets. In this situation, traffic may be returned or dropped if the undo encapsulation dot1q vid or undo encapsulation qinq vid pe-vid ce-vid low-ce-vid command is run to delete the existing encapsulation type with the smallest VLAN ID specified, all VLANs need to be deleted. To prevent problems, perform the following operations:\nRun the shutdown command on the EVC Layer 2 sub-interface.Run the commit command to commit configuration.Run the undo encapsulation dot1q vid pevid1 [ topevid2 ]Run the undo shutdown command on the EVC Layer 2 sub-interface.Run the commit command to commit configuration."
}