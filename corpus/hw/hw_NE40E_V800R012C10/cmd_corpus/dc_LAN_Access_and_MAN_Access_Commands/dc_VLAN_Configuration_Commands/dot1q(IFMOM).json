{
    "PageTitle": "vlan-type dot1q",
    "FuncDef": "The vlan-type dot1q command binds an Ethernet sub-interface to a VLAN and configures Dot1q VLAN encapsulation for the Ethernet sub-interface.\nThe undo vlan-type dot1q command removes the binding between the Ethernet sub-interface and VLAN.\n\nBy default, Dot1q VLAN encapsulation is not configured on Ethernet sub-interfaces, and Ethernet sub-interfaces are not bound to a VLAN.",
    "CLIs": [
        "vlan-type dot1q <vlan-id>",
        "undo vlan-type dot1q <vlan-id>"
    ],
    "ParentView": [
        "GE sub-interface view",
        "PW-VE sub-interface view",
        "VE sub-interface view",
        "25GE sub-interface view",
        "GE electrical interface view",
        "Global VE sub-interface view",
        "Eth-Trunk sub-interface view",
        "400GE sub-interface view",
        "50GE sub-interface view",
        "100ge sub-interface view",
        "40GE sub-interface view",
        "10GE sub-interface view"
    ],
    "ParaDef": [
        {
            "Parameters": "vlan-id",
            "Info": "Specifies the ID of the VLAN bound to an Ethernet sub-interface.\nThe value is an integer ranging from 1 to 4094."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] interface GigabitEthernet2/0/0.1",
            "[*HUAWEI-GigabitEthernet2/0/0.1] vlan-type dot1q 60"
        ]
    ],
    "ExtraInfo": "Usage Scenario\n\nWhen Layer 3 and Layer 2 devices are directly connected through Ethernet interfaces and the Ethernet interface connecting the Layer 2 device to the Layer 3 device is added to a VLAN, you need to run the vlan-type dot1q command to bind the Ethernet sub-interface on the Layer 3 device to the VLAN and configures Dot1q VLAN encapsulation for the Ethernet sub-interface. This ensures that the two devices properly communicate with each other.\n\nPrerequisites\n\nBefore running the vlan-type dot1q command in a VE sub-interface view or global VE sub-interface view, the interface on which the sub-interface is to be created must have been bound to a VE group.\n\nPrecautions\n\nSub-interfaces of different interfaces can be bound to the same VLAN; sub-interfaces of the same interface cannot be bound to the same VLAN.\nEach Ethernet sub-interface can be associated with only one VLAN.\nAfter a BAS service is configured and the BAS user packet carries two VLAN tags whose IDs are specified by the user-vlan { { start-vlan-id [ end-vlan-id ] [ qinq start-pe-vlan [ end-pe-vlan ] ] } | any-other } command, the BAS user cannot go online in the following stacking scenarios:\n\nThe user's outer VLAN ID for Layer 2 access is the same as the VLAN ID specified in the vlan-type dot1q command for a dot1q sub-interface.\nThe user's outer VLAN ID for Layer 2 access is the same as the VLAN ID terminated by a dot1q VLAN tag termination sub-interface.\n\nTo allow the BAS user to go online, run the vlan-miss to-cpu enable command to enable a board to send a BAS user packet that carries two VLAN tags to the board's CPU in a stacking scenario."
}