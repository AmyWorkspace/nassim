{
    "PageTitle": "stp max-hops",
    "FuncDef": "The stp max-hops command sets the maximum hops of a spanning tree in a MST region.\nThe undo stp max-hops command restores the default maximum hops of a spanning tree.\nBy default, the maximum hops are 20 in an MST region.",
    "CLIs": [
        "stp max-hops <hop>",
        "undo stp max-hops"
    ],
    "ParentView": [
        "System view"
    ],
    "ParaDef": [
        {
            "Parameters": "hop",
            "Info": "Specifies the maximum hops.\nThe value is an integer ranging from 1 to 40."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] stp max-hops 35"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nThe devices on a Layer 2 network running MSTP communicate with each other by exchanging MST BPDUs.\nAn MST BPDU has a field that indicates the number of remaining hops.The number of remaining hops in a BPDU sent by the root device is the maximum number of hops.The number of remaining hops in a BPDU sent by a non-root device equals the maximum number of hops minus the number of hops from the non-root device to the root device.If a device receives a BPDU in which the number of remaining hops is 0, the device discards the BPDU.\nThe maximum number of hops of a spanning tree in an MST region determines the network scale. To set the maximum number of hops in an MST domain, run the stp max-hops command to control the network scale of a spanning tree.\n\nPrecautions\nIn an MST region, the maximum number of hops set on the root device in a Common and Internal Spanning Tree (CIST) or an MSTI is the maximum number of hops in the CIST or Multiple Spanning Tree instance (MSTI)."
}