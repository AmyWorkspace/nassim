{
    "PageTitle": "display stp (All views)",
    "FuncDef": "The display stp command displays the status of and statistics about a spanning tree instance.",
    "CLIs": [
        "display stp [ instance <instance-id> ] [ interface { <interface-name> | <interface-type> <interface-number> } | slot <slot-id> | vsi <vsi-name> pw <pw-name> ] [ brief ]"
    ],
    "ParentView": [
        "All views"
    ],
    "ParaDef": [
        {
            "Parameters": "instance instance-id",
            "Info": "Displays the status of and statistics about a spanning tree instance.\nIf instance <instanceId> is not specified, the status of and statistics about all spanning tree instances will be displayed in the sequence of the interface numbers.\nThe value is an integer ranging from 0 to 4094, Value 0 indicates CIST."
        },
        {
            "Parameters": "interface interface-type interface-number",
            "Info": "Displays information of a spanning tree on a specified interface.\nIf interface <ifType> <ifNum> is not specified, the status of and statistics about all interfaces will be displayed in the sequence of the interface numbers.\n-"
        },
        {
            "Parameters": "slot slot-id",
            "Info": "Specifies the number of the slot where the interface resides.\nThe value is a string of 1 to 23 case-sensitive characters, spaces not supported."
        },
        {
            "Parameters": "vsi vsi-name",
            "Info": "Specifies the names of a virtual switching instance (VSI).\nThe vsi-name is a string of 1 to 31 case-sensitive characters, spaces not supported.\nWhen quotation marks are used around the string, spaces are allowed in the string."
        },
        {
            "Parameters": "pw pw-name",
            "Info": "Specifies the names of a pseudo wire (PW).\nThe pw-name is a string of 1 to 15 case-sensitive characters, spaces not supported.\nWhen quotation marks are used around the string, spaces are allowed in the string."
        },
        {
            "Parameters": "brief",
            "Info": "Displays the brief status.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> display stp",
            "Protocol Status       :Disabled",
            " Protocol Standard     :IEEE 802.1s",
            " Version               :3",
            " CIST Bridge Priority  :32768",
            " MAC address           :00e0-fc12-3456",
            " Max age(s)            :20",
            " Forward delay(s)      :15",
            " Hello time(s)         :2",
            " Max hops              :20"
        ],
        [
            "<HUAWEI> display stp",
            "Protocol Status       :Disabled",
            " Protocol Standard     :IEEE 802.1s",
            " Version               :3",
            " CIST Bridge Priority  :32768",
            " MAC address           :00e0-fc12-3456",
            " Max age(s)            :20",
            " Forward delay(s)      :15",
            " Hello time(s)         :2",
            " Max hops              :20"
        ],
        [
            "<HUAWEI> display stp",
            "-------[CIST Global Info][Mode MSTP]-------                                     ",
            "CIST Bridge         :32768.bc9c-31de-7489                                       ",
            "Config Times        :Hello 2s MaxAge 20s FwDly 15s MaxHop 20                    ",
            "Active Times        :Hello 2s MaxAge 20s FwDly 15s MaxHop 20                    ",
            "CIST Root/ERPC      :32768.bc9c-31de-7489 / 0 (This bridge is the root)         ",
            "CIST RegRoot/IRPC   :32768.bc9c-31de-7489 / 0 (This bridge is the root)         ",
            "CIST RootPortId     :0.0                                                        ",
            "BPDU-Protection     :Disabled                                                   ",
            "TC or TCN received  :0                                                          ",
            "TC count per hello  :0                                                          ",
            "STP Converge Mode   :Normal                                                     ",
            "Time since last TC  :0 days 0h:0m:0s                                            ",
            "Number of TC        :0                                                          ",
            "Topo Change Flag    :0"
        ],
        [
            "<HUAWEI> display stp instance 0 interface gigabitethernet 1/0/1",
            "-------[CIST Global Info][Mode MSTP]-------",
            "CIST Bridge         :32768.00e0-fc0e-a421",
            "Bridge Times        :Hello 2s MaxAge 20s FwDly 15s MaxHop 20",
            "CIST Root/ERPC      :32768.00e0-fc0e-a421 / 0",
            "CIST RegRoot/IRPC   :32768.00e0-fc0e-a421 / 0",
            "CIST RootPortId     :0.0",
            "BPDU-Protection     :Disabled",
            "TC or TCN received  :0",
            "TC count per hello  :0",
            "STP Converge Mode   :Normal",
            "Time since last TC  :0 days 23h:9m:30s",
            "----[Port3(GigabitEthernet1/0/1)][FORWARDING]----",
            " Port Protocol       :Enabled",
            " Port Role           :Designated Port",
            " Port Priority       :128",
            " Port Cost(Legacy)   :Config=auto / Active=19",
            " Designated Bridge/Port    :32768.00e0-fc0e-a421 / 128.1229",
            " Port Edged          :Config=disabled / Active=disabled",
            " Point-to-point      :Config=auto / Active=true",
            " Transit Limit       :3 packets/hello-time",
            " Protection Type     :None",
            " Port STP Mode       :MSTP",
            " Config-digest-snoop :snooped=false",
            " Port Protocol Type  :Config=auto / Active=dot1s",
            " BPDU Encapsulation  :Config=stp / Active=stp",
            " PortTimes           :Hello 2s MaxAge 20s FwDly 15s RemHop 0",
            " TC or TCN send      :0",
            " TC or TCN received  :0",
            " BPDU Sent           :147",
            "          TCN: 0, Config: 0, RST: 0, MST: 147",
            " BPDU Received       :0",
            "          TCN: 0, Config: 0, RST: 0, MST: 0"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nThe display stp command is used to check whether the spanning tree protocol is run on the existing\ndevice or specified interface.\nIf the Protocol Status field value is Disabled, the spanning tree protocol is not run.If STP/RSTP/MSTP has been run, information such as the working mode of the spanning tree protocol will be displayed.\nWhen a network planner has deployed STP/RSTP/MSTP on the network, you can run the display stp command to check whether the configurations are correct and check the calculation result.\n\nPrecautions\nIn a multi-instance scenario, a PW interface's STP state does not take effect for any MSTP instance with a non-0 ID. For such an instance, its actual STP state is the same as instance 0's STP state.\nThe actual STP state of an interface bound to a process in link-share mode is the same as that of the interface bound to a process in no-link-share mode."
}