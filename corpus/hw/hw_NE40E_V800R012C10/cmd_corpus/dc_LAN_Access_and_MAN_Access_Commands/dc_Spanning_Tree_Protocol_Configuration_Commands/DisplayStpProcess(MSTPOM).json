{
    "PageTitle": "display stp process",
    "FuncDef": "The display stp process command displays the status of and statistics about the specify ID of a Multiple Spanning Tree Protocol (MSTP) process.",
    "CLIs": [
        "display stp process <process-id> [ instance <instance-id> ] [ interface { <interface-name> | <interface-type> <interface-number> } | slot <slot-id> | vsi <vsi-name> pw <pw-name> ] [ brief ]",
        "display stp process <process-id> [ instance <instance-id> ] [ interface { <interface-name> | <interface-type> <interface-number> } | slot <slot-id> | vsi <vsi-name> pw <pw-name> ] tc-bpdu statistics",
        "display stp process <process-id> [ instance <instance-id> ] topology-change",
        "display stp process <process-id> active",
        "display stp process <process-id> bridge { local | root }",
        "display stp process <process-id> global",
        "display stp process <process-id> [ instance <instance-id> ] abnormal-interface"
    ],
    "ParentView": [
        "All views"
    ],
    "ParaDef": [
        {
            "Parameters": "process-id",
            "Info": "Specifies the ID of a Multiple Spanning Tree Protocol (MSTP) process.\nThe value is a decimal integer ranging from 1 to 256."
        },
        {
            "Parameters": "instance instance-id",
            "Info": "Displays statistics about the topology changes of a specified STP instance.\nIf instance <instanceId> is not specified, the status of and statistics about all spanning tree instances will be displayed in the sequence of the interface numbers.\nThe value is an integer ranging from 0 to 4094, Value 0 indicates Common and Internal Spanning Tree (CIST)."
        },
        {
            "Parameters": "interface interface-type interface-number",
            "Info": "Displays information of a spanning tree on a specified interface.\nIf interface <ifType> <ifNum> is not specified, the status of and statistics about all interfaces will be displayed in the sequence of the interface numbers.\n-"
        },
        {
            "Parameters": "slot slot-id",
            "Info": "Specifies the number of the slot where the interface resides.\nThe value is a string of 1 to 23 case-sensitive characters, spaces not supported."
        },
        {
            "Parameters": "vsi vsi-name",
            "Info": "Specifies the names of a virtual switching instance (VSI).\nThe vsi-name is a string of 1 to 31 case-sensitive characters, spaces not supported.\nWhen quotation marks are used around the string, spaces are allowed in the string."
        },
        {
            "Parameters": "pw pw-name",
            "Info": "Specifies the names of a pseudo wire (PW).\nThe pw-name is a string of 1 to 15 case-sensitive characters, spaces not supported.\nWhen quotation marks are used around the string, spaces are allowed in the string."
        },
        {
            "Parameters": "brief",
            "Info": "Displays the brief status.\n-"
        },
        {
            "Parameters": "tc-bpdu",
            "Info": "Displays the statistics about sent and received topology change (TC) and topology change notification (TCN) BPDUs on interfaces.\n-"
        },
        {
            "Parameters": "statistics",
            "Info": "Displays the statistics about sent and received topology change (TC) and topology change notification (TCN) BPDUs on interfaces.\n-"
        },
        {
            "Parameters": "topology-change",
            "Info": "Displays statistics about Multiple Spanning Tree Protocol (MSTP) topology changes.\n-"
        },
        {
            "Parameters": "active",
            "Info": "Displays the status of and statistics on spanning trees of all Up interfaces.\nTo view information about spanning trees on all Up interfaces, run the display stp active command.\n-"
        },
        {
            "Parameters": "bridge",
            "Info": "Displays detailed information about the spanning tree of a bridge.\nTo view detailed information about the spanning trees of the root and local bridges, run the display stp bridge command.\n-"
        },
        {
            "Parameters": "local",
            "Info": "Displays detailed information about the spanning tree of the local bridge.\n-"
        },
        {
            "Parameters": "root",
            "Info": "Displays detailed information about the spanning tree of the root bridge.\n-"
        },
        {
            "Parameters": "global",
            "Info": "Displays global Spanning Tree Protocol (STP) information.\n-"
        },
        {
            "Parameters": "abnormal-interface",
            "Info": "Displays information about abnormal interfaces running the Spanning Tree Protocol (STP).\nRun the display stp abnormal-interface command can query information about abnormal STP interfaces quickly.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> display stp process 0 global",
            "Protocol Status            : Enabled                                            ",
            "Bpdu-filter default        : Disabled                                           ",
            "Tc-protection              : Disabled                                           ",
            "Tc-protection threshold    : 1                                                  ",
            "Tc-protection interval     : 2s                                                 ",
            "Edged port default         : Enabled                                            ",
            "Pathcost-standard          : Dot1t                                              ",
            "Timer-factor               : 3                                                  ",
            "Transmit-limit             : 10                                                 ",
            "Bridge-diameter            : 7                                                  ",
            "-------[CIST Global Info][Mode MSTP]-------                                     ",
            "CIST Bridge         :61440.00e0-fc12-3456                                       ",
            "Config Times        :Hello 2s MaxAge 20s FwDly 15s MaxHop 20                    ",
            "Active Times        :Hello 2s MaxAge 20s FwDly 15s MaxHop 20                    ",
            "CIST Root/ERPC      :61440.00e0-fc12-3456 / 0                                   ",
            "CIST RegRoot/IRPC   :61440.00e0-fc12-3456 / 0                                   ",
            "CIST RootPortId     :0.0                                                        ",
            "BPDU-Protection     :Disabled                                                   ",
            "TC or TCN received  :85                                                         ",
            "TC count per hello  :0                                                          ",
            "STP Converge Mode   :Normal                                                     ",
            "Time since last TC  :0 days 9h:12m:34s                                          ",
            "Number of TC        :13                                                         ",
            "Last TC occurred    :GigabitEthernet1/0/4"
        ],
        [
            "<HUAWEI> display stp process 0 bridge root",
            "MSTID              Root ID  Root Cost Hello Max Forward Root Port               ",
            "                                       Time Age   Delay                         ",
            "-------------------------------------------------------------------       ",
            "    0 61440.00e0-fc12-3456          0     2  20      15                         ",
            "    1 61440.00e0-fc12-3456          0     2  20      15"
        ],
        [
            "<HUAWEI> display stp process 0 active",
            "-------[CIST Global Info][Mode MSTP]-------                                     ",
            "CIST Bridge         :61440.00e0-fc12-3456                                       ",
            "Config Times        :Hello 2s MaxAge 20s FwDly 15s MaxHop 20                    ",
            "Active Times        :Hello 2s MaxAge 20s FwDly 15s MaxHop 20                    ",
            "CIST Root/ERPC      :61440.00e0-fc12-3456 / 0                                   ",
            "CIST RegRoot/IRPC   :61440.00e0-fc12-3456 / 0                                   ",
            "CIST RootPortId     :0.0                                                        ",
            "BPDU-Protection     :Disabled                                                   ",
            "TC or TCN received  :85                                                         ",
            "TC count per hello  :0                                                          ",
            "STP Converge Mode   :Normal                                                     ",
            "Time since last TC  :0 days 9h:10m:8s",
            "Number of TC        :13                                                         ",
            "Last TC occurred    :GigabitEthernet1/0/4                                       ",
            "----[Port18(GigabitEthernet1/0/1)][FORWARDING]----                             ",
            " Port Protocol       :Enabled                                                   ",
            " Port Role           :Designated Port                                           ",
            " Port Priority       :128                                                       ",
            " Port Cost(Dot1T )   :Config=auto / Active=20000                                ",
            " Designated Bridge/Port   :61440.00e0-fc12-3456 / 128.18                        ",
            " Port Edged          :Config=default / Active=enabled                           ",
            " Point-to-point      :Config=auto / Active=true                                 ",
            " Transit Limit       :10 packets/s                                              ",
            " Protection Type     :None                                                      ",
            " Port STP Mode       :MSTP                                                      ",
            " Port Protocol Type  :Config=auto / Active=dot1s                                ",
            " BPDU Encapsulation  :Config=stp / Active=stp                                   ",
            " PortTimes           :Hello 2s MaxAge 20s FwDly 15s RemHop 20                   ",
            " TC or TCN send      :5                                                         ",
            " TC or TCN received  :0                                                         ",
            " BPDU Sent           :178445                                                    ",
            "          TCN: 0, Config: 0, RST: 0, MST: 178445                                ",
            " BPDU Received       :0                                                         ",
            "          TCN: 0, Config: 0, RST: 0, MST: 0                                     ",
            " Last forwarding time: 2012/04/19 16:58:37 UTC+08:00                            ",
            "----[Port19(GigabitEthernet2/0/1)][FORWARDING]----                             ",
            " Port Protocol       :Enabled                                                   ",
            " Port Role           :Designated Port                                           ",
            " Port Priority       :128                                                       ",
            " Port Cost(Dot1T )   :Config=auto / Active=20000                                ",
            " Designated Bridge/Port   :61440.00e0-fc12-3456 / 128.19                        ",
            " Port Edged          :Config=default / Active=enabled                           ",
            " Point-to-point      :Config=auto / Active=true                                 ",
            " Transit Limit       :10 packets/s                                              ",
            " Protection Type     :None                                                      ",
            " Port STP Mode       :MSTP                                                      ",
            " Port Protocol Type  :Config=auto / Active=dot1s                                ",
            " BPDU Encapsulation  :Config=stp / Active=stp                                   ",
            " PortTimes           :Hello 2s MaxAge 20s FwDly 15s RemHop 20                   ",
            " TC or TCN send      :0                                                         ",
            " TC or TCN received  :0                                                         ",
            " BPDU Sent           :5                                                         ",
            "          TCN: 0, Config: 0, RST: 0, MST: 5                                     ",
            " BPDU Received       :0                                                         ",
            "          TCN: 0, Config: 0, RST: 0, MST: 0                                     ",
            " Last forwarding time: 2012/04/23 20:06:08 UTC+08:00                            ",
            "                                                                                ",
            "-------[MSTI 1 Global Info]-------                                              ",
            "MSTI Bridge ID      :61440.00e0-fc12-3456                                       ",
            "MSTI RegRoot/IRPC   :61440.00e0-fc12-3456 / 0",
            "MSTI RootPortId     :0.0                                                        ",
            "Master Bridge       :61440.00e0-fc12-3456                                       ",
            "Cost to Master      :0                                                          ",
            "TC received         :2                                                          ",
            "TC count per hello  :0                                                          ",
            "Time since last TC  :0 days 9h:10m:8s                                           ",
            "Number of TC        :9                                                          ",
            "Last TC occurred    :GigabitEthernet1/0/4"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nThe display stp process command is used to check whether the spanning tree protocol is run on the existing device or specified interface.If the Protocol Status field value is Disabled, the spanning tree protocol is not run.If stp process/Rstp process/Mstp process has been run, information such as the working mode of the spanning tree protocol will be displayed.The display stp process brief command displays information about spanning trees about the specified ID of a MSTP process, but not global information.The display stp process global command displays global stp information about the specified ID of a MSTP process.The display stp process tc-bpdu statistics command displays interface statistics about sent and received topology change and topology change notification BPDUs on the specified ID of a MSTP process.To determine whether a fault has occurred on interfaces that send and receive TC (Topology Change)/TCN (Topology Change Notification) BPDUs, run display stp process tc-bpdu statistics command to view statistics about sent and received BPDUs. The command output helps you locate the fault.The display stp process topology-change command displays statistics about MSTP topology changes on the specified ID of a MSTP process.On a Layer 2 network running Mstp process, a device clears ARP entries and MAC entries after receiving TC BPDUs. If a device receives too many TC BPDUs, the device will frequently clear ARP entries and MAC entries, causing high CPU usage. As a result, network traffic is unstable.You can run the display stp process topology-change command to display statistics about Mstp process topology changes. If the statistics increase, network flapping occurs.The display stp process active command displays the status of and statistics on spanning trees of all Up interfaces about the specified ID of a MSTP process.The display stp process bridge command displays detailed information about the spanning trees of the root and local bridges about the specified ID of a MSTP process.The display stp process abnormal-interface command displays information about abnormal interfaces running the stp process.\n\nPrerequisites\nA process has been configured using the stp process command."
}