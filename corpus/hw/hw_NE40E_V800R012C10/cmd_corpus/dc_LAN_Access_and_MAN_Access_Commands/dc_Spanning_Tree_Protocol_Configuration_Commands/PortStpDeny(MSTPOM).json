{
    "PageTitle": "stp deny packet vlan",
    "FuncDef": "The stp deny packet vlan command enables the function to deny STP, RSTP, and MSTP BPDUs that carry a specified VLAN ID.\nThe undo stp deny packet vlan command disables the function to deny STP, RSTP, and MSTP BPDUs that carry a specified VLAN ID.\nBy default, the function to deny STP, RSTP, and MSTP BPDUs that carry a specified VLAN ID is not enabled.",
    "CLIs": [
        "stp deny packet vlan { { <vlan-id1> [ to <vlan-id2> ] } &<1-10> }",
        "undo stp deny packet vlan { { <vlan-id1> [ to <vlan-id2> ] } &<1-10> }"
    ],
    "ParentView": [
        "Layer 2 100GE interface view",
        "100GE interface view",
        "Layer 2 10GE interface view",
        "10GE interface view",
        "25GE-L2 view",
        "25GE interface view",
        "400GE-L2 view",
        "400GE interface view",
        "Layer 2 40GE interface view",
        "40GE interface view",
        "Layer 2 50GE interface view",
        "50GE interface view",
        "Layer 2 50|100GE interface view",
        "50|100GE interface view",
        "Layer 2 Eth-Trunk interface view",
        "Eth-Trunk interface view",
        "Layer 2 GE interface view",
        "GE optical interface view",
        "GE electrical interface view",
        "Interface group view"
    ],
    "ParaDef": [
        {
            "Parameters": "to vlan-id2",
            "Info": "Specifies the end VLAN ID carried in the STP, RSTP, or MSTP BPDUs received by an interface.\n<vlanEnd> and <vlanBgn> jointly specify a value range. If the to <vlanEnd> parameter is not specified, only the STP, RSTP, and MSTP that carry <vlanBgn> are discarded.\nThe value is an integer ranging from 1 to 4094. <vlanEnd> must be greater than <vlanBgn>."
        },
        {
            "Parameters": "vlan vlan-id1",
            "Info": "Specifies the start VLAN ID carried in the STP, RSTP, or MSTP BPDUs received by an interface.\nThe value is an integer ranging from 1 to 4094."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] interface GigabitEthernet 1/0/1",
            "[~HUAWEI-GigabitEthernet1/0/1] stp enable",
            "[*HUAWEI-GigabitEthernet1/0/1] stp deny packet vlan 1"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nOn a network running STP, RSTP, or MSTP, if a device transparently transmits unexpected STP, RSTP, or MSTP BPDUs, network flapping may occur. To address this problem, run the stp deny packet command to enable the function to discard the STP, RSTP, and MSTP BPDUs that carry a specified VLAN ID.\nPrerequisites\nTo set the stp deny packet command, run the stp enable command on the interface to enable STP/RSTP/MSTP.\nPrecautions\nA maximum of 16 VLAN IDs can be configured in the same interface view or VSI-LDP-PW view.If both the stp deny packet and stp permit packet commands are configured in the same interface view or VSI-LDP-PW view, the device preferentially executes the stp deny packet command.If the function to deny STP, RSTP, and MSTP BPDUs that carry a specified VLAN ID is incorrectly enabled, a broadcast storm may occur. Therefore, ensure that the VLAN ID is correct before running the stp deny packet command."
}