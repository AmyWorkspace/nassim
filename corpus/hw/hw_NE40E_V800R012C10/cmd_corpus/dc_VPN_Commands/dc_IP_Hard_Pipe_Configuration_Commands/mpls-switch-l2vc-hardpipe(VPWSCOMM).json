{
    "PageTitle": "mpls switch-l2vc encapsulation hard-pipe",
    "FuncDef": "The mpls switch-l2vc encapsulation hard-pipe command enables the hard pipe function for a static MS-PW on an SPE.\nThe undo mpls switch-l2vc encapsulation hard-pipe command disables the hard pipe function for a static MS-PW on an SPE.\nBy default, the hard pipe function is not enabled for static MS-PWs.",
    "CLIs": [
        "mpls switch-l2vc <peer-ip> <vc-id> encapsulation { cesopsn-basic | ethernet | ip-interworking | ip-layer2 | ppp | satop-e1 | satop-e3 | satop-t1 | vlan | hdlc | atm-1to1-vcc | atm-1to1-vpc | atm-aal5-pdu | atm-aal5-sdu | atm-nto1-vcc | atm-nto1-vpc | atm-trans-cell | cep } hard-pipe [ { bandwidth <bandwidth> } [ expand-ratio <expand-ratio> ] ]",
        "undo mpls switch-l2vc <peer-ip> <vc-id> encapsulation { cesopsn-basic | ethernet | ip-interworking | ip-layer2 | ppp | satop-e1 | satop-e3 | satop-t1 | vlan | hdlc | atm-1to1-vcc | atm-1to1-vpc | atm-aal5-pdu | atm-aal5-sdu | atm-nto1-vcc | atm-nto1-vpc | atm-trans-cell | cep } hard-pipe [ { bandwidth <bandwidth> } [ expand-ratio <expand-ratio> ] ]"
    ],
    "ParentView": [
        "System view"
    ],
    "ParaDef": [
        {
            "Parameters": "peer-ip",
            "Info": "Specifies the peer IP address of an MS-PW.\nThe value is in dotted decimal notation."
        },
        {
            "Parameters": "vc-id",
            "Info": "Specifies the VC ID of an MS-PW.\nThe value is an integer ranging from 1 to 4294967295."
        },
        {
            "Parameters": "encapsulation",
            "Info": "Specifies the encapsulation type of an MS-PW.\n-"
        },
        {
            "Parameters": "cesopsn-basic",
            "Info": "Specifies the PW encapsulation type as cesopsn-basic.\n-"
        },
        {
            "Parameters": "ethernet",
            "Info": "This encapsulation type is used when Ethernet packets do not carry VLAN information.\n-"
        },
        {
            "Parameters": "ip-interworking",
            "Info": "Enables heterogeneous media IP interworking between Huawei devices.\n-"
        },
        {
            "Parameters": "ip-layer2",
            "Info": "Enables heterogeneous media IP interworking between a Huawei device and a non-Huawei device.\n-"
        },
        {
            "Parameters": "ppp",
            "Info": "PPP is a link layer protocol that specifies how to encapsulate and transmit network layer packets over P2P links.\n-"
        },
        {
            "Parameters": "satop-e1",
            "Info": "SAToP is insensitive to the E1 frame structure and encapsulates a whole E1 frame into a PW packet.\n-"
        },
        {
            "Parameters": "satop-e3",
            "Info": "SAToP is insensitive to the E3 frame structure and encapsulates a whole E3 frame into a PW packet.\n-"
        },
        {
            "Parameters": "satop-t1",
            "Info": "SAToP is insensitive to the T1 frame structure and encapsulates a whole T1 frame into a PW packet.\n-"
        },
        {
            "Parameters": "vlan",
            "Info": "This encapsulation type is used when Ethernet packets carry VLAN information.\n-"
        },
        {
            "Parameters": "hdlc",
            "Info": "HDLC is a bit-oriented link layer protocol.\n-"
        },
        {
            "Parameters": "atm-1to1-vcc",
            "Info": "One PW carries the AAL5 SDUs of one PVC.\n-"
        },
        {
            "Parameters": "atm-1to1-vpc",
            "Info": "One PW carries the AAL5 SDUs of one PVC.\n-"
        },
        {
            "Parameters": "atm-aal5-pdu",
            "Info": "One PW carries the AAL5 SDUs of one PVC.\n-"
        },
        {
            "Parameters": "atm-aal5-sdu",
            "Info": "One PW carries the AAL5 SDUs of one PVC.\n-"
        },
        {
            "Parameters": "atm-nto1-vcc",
            "Info": "One PW carries the ATM cells of multiple PVCs.\n-"
        },
        {
            "Parameters": "atm-nto1-vpc",
            "Info": "ATM cells are transmitted over PWE3 VCs.\n-"
        },
        {
            "Parameters": "atm-trans-cell",
            "Info": "ATM cells are transmitted over PWE3 VCs.\n-"
        },
        {
            "Parameters": "cep",
            "Info": "This encapsulation type is used for CEP services.\n-"
        },
        {
            "Parameters": "bandwidth bandwidth",
            "Info": "Specifies the bandwidth of an MS-PW.\nThe value is an integer ranging from 16 to 100000000, in kbit/s. The default value is 0."
        },
        {
            "Parameters": "expand-ratio expand-ratio",
            "Info": "Specifies the bandwidth expansion ratio of an MS-PW.\nThe value is an integer ranging from 0 to 100, in kbit/s. The default value is 10.\nThe value is an integer for CES services, it ranges from 0 to 10000; for other types of services, it is in the range of 0 to 100, in kbit/s. The default value is 10 kbit/s."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] interface tunnel 20",
            "[~HUAWEI-Tunnel20] quit",
            "[~HUAWEI] tunnel-policy policy1",
            "[*HUAWEI-tunnel-policy-policy1] tunnel binding destination 1.1.1.9 te Tunnel 20",
            "[*HUAWEI-tunnel-policy-policy1] quit",
            "[~HUAWEI] mpls switch-l2vc 1.1.1.9 100 trans 18 recv 18 tunnel-policy policy1 between 5.5.5.9 200 trans 19 recv 19 tunnel-policy policy1 encapsulation ethernet",
            "[*HUAWEI] mpls switch-l2vc 1.1.1.9 100 encapsulation ethernet hard-pipe bandwidth 60 expand-ratio 20"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nIP hard pipe is a pipe technology that establishes a static PW over a static bidirectional co-routed LSP to simulate an SDH leased line.\nIn an IP hard pipe scenario, if the endpoints of a static MS-PW do not support the hard pipe function, reserve bandwidth for the static MS-PW. After you run the mpls switch-l2vc hard-pipe command to specify bandwidth for a static MS-PW, the MS-PW will carry an SDH leased line service based on the specified bandwidth.\nPrerequisites\nA static MS-PW has been created using the mpls switch-l2vc command.\nConfiguration Impact\nAfter the hard pipe function is configured for an MS-PW, the MS-PW must recurse to a hard-pipe static bidirectional co-routed LSP again. The hard pipe function must be enabled for the two PW segments of an MS-PW separately to implement hard-pipe MS-PW."
}