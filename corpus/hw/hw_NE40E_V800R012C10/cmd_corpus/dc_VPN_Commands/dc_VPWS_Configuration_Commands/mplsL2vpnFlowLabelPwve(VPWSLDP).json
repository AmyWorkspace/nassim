{
    "PageTitle": "mpls l2vpn flow-label (PW-VE interface view)",
    "FuncDef": "The mpls l2vpn flow-label command enables flow-label-based load balancing for PWs on an interface.\nThe undo mpls l2vpn flow-label command disables flow-label-based load balancing of PWs on an interface.\nBy default, flow-label-based load balancing of PWs is disabled on an interface.",
    "CLIs": [
        "mpls l2vpn flow-label { both | send | receive } [ static ]",
        "undo mpls l2vpn flow-label { both | send | receive } [ static ]",
        "undo mpls l2vpn flow-label"
    ],
    "ParentView": [
        "PW-VE interface view"
    ],
    "ParaDef": [
        {
            "Parameters": "both",
            "Info": "Indicates both the send and receive capabilities of flow-label-based load balancing for the local device.\n-"
        },
        {
            "Parameters": "send",
            "Info": "Indicates the send capability of flow-label-based load balancing for the local device.\n-"
        },
        {
            "Parameters": "receive",
            "Info": "Indicates the receive capability of flow-label-based load balancing for the local device.\n-"
        },
        {
            "Parameters": "static",
            "Info": "Statically configures flow-label-based load balancing.\nFor dynamic PWs, if static is not configured, the flow-label-based load balancing capability of the local end is negotiated by the remote end.For static PWs, the flow-label-based load balancing capability is statically configured, irrespective of whether static is configured.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] mpls",
            "[*HUAWEI-mpls] quit",
            "[*HUAWEI] mpls l2vpn",
            "[*HUAWEI-l2vpn] quit",
            "[*HUAWEI] interface GigabitEthernet 1/0/0",
            "[*HUAWEI-GigabitEthernet1/0/0] mpls l2vc 2.2.2.2 100",
            "[*HUAWEI-GigabitEthernet1/0/0] mpls l2vpn flow-label both"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nWhen multiple links exist between P devices, configure flow-label-based load balancing to improve L2VPN traffic forwarding efficiency. After flow-label-based load balancing is enabled on a PE, the PE adds different labels for different L2VPN data flows to distinguish them one from the other. After a P device receives a data packet carrying a flow label, it performs the Hash calculation and selects a forwarding path based on the flow label in the data packet. This processing implements load balancing. To enable flow-label-based load balancing for PWs on an interface, run the mpls l2vpn flow-label command.\nPrerequisites\nMPLS L2VPN has been enabled, and PWs have been created.\nPrecautions\nWhen configuring flow-label-based load balancing, note the following:\nflow-label-based load balancing can be enabled only when any of the following conditions is met:The receive parameter is configured on the local PE, and the send parameter is configured on the remote PE.The send parameter is configured on the local PE, and the receive parameter is configured on the remote PE.Both the send and receive parameters are configured on the local and remote PEs.\nIf the static flow-label-based load balancing configuration does not match on both ends, the device discards packets carrying a flow label, causing packet loss."
}