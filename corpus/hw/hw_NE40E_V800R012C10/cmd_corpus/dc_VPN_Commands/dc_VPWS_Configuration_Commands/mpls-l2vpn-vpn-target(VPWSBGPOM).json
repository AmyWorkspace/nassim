{
    "PageTitle": "vpn-target (MPLS-L2VPN instance view)",
    "FuncDef": "The vpn-target command configures VPN targets for an MPLS L2VPN instance.\nThe undo vpn-target command deletes the VPN targets of an MPLS L2VPN instance.\nBy default, no VPN targets are configured for an MPLS L2VPN instance.",
    "CLIs": [
        "vpn-target { vpn-target } &<1-16> [ both | import-extcommunity | export-extcommunity ]",
        "undo vpn-target { all | { vpn-target } &<1-16> } [ both | import-extcommunity | export-extcommunity ]"
    ],
    "ParentView": [
        "MPLS-L2VPN instance view"
    ],
    "ParaDef": [
        {
            "Parameters": "vpn-target",
            "Info": "Specifies a VPN target.\nA VPN target can be in any of the following formats:\n2-byte AS number:4-byte user-defined number, such as 1:3. The AS number is an integer ranging from 0 to 65535, and the user-defined number is an integer ranging from 0 to 4294967295. The AS and user-defined numbers cannot be both 0s. Specifically, the extended community attribute cannot be 0:0.4-byte IP address:2-byte user-defined number, such as 192.168.122.15:1. The IP address ranges from 0.0.0.0 to 255.255.255.255, and the user-defined number ranges from 0 to 65535.4-byte AS number:2-byte user-defined number, such as 65537:3. The AS number ranges from 65536 to 4294967295, and the user-defined number ranges from 0 to 65535. The AS and user-defined numbers cannot be both 0s. Specifically, the extended community attribute cannot be 0:0.4-byte AS number in dotted notation:2-byte user-defined number, such as 0.0:3 or 0.1:0. The 4-byte AS number in dotted notation is in the format of x.y, where x and y are integers that range from 0 to 65535. The user-defined number also ranges from 0 to 65535. The AS and user-defined numbers cannot be both 0s. Specifically, the extended community attribute cannot be 0.0:0."
        },
        {
            "Parameters": "both",
            "Info": "Indicates both the import and export VPN targets.\n-"
        },
        {
            "Parameters": "import-extcommunity",
            "Info": "Indicates the import VPN target.\n-"
        },
        {
            "Parameters": "export-extcommunity",
            "Info": "Indicates the export VPN target.\n-"
        },
        {
            "Parameters": "all",
            "Info": "Deletes all VPN targets.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] mpls l2vpn",
            "[*HUAWEI-l2vpn] quit",
            "[*HUAWEI] mpls l2vpn vpn1 encapsulation vlan",
            "[*HUAWEI-mpls-l2vpn-vpn1] vpn-target 100:100 import-extcommunity",
            "[*HUAWEI-mpls-l2vpn-vpn1] vpn-target 200:200 export-extcommunity"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] mpls l2vpn",
            "[*HUAWEI-l2vpn] quit",
            "[*HUAWEI] mpls l2vpn vpn1 encapsulation vlan",
            "[*HUAWEI-mpls-l2vpn-vpn1] undo vpn-target 100:100 import-extcommunity",
            "[*HUAWEI-mpls-l2vpn-vpn1] undo vpn-target 200:200 export-extcommunity"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] mpls l2vpn",
            "[*HUAWEI-l2vpn] quit",
            "[*HUAWEI] mpls l2vpn vpn1 encapsulation vlan",
            "[*HUAWEI-mpls-l2vpn-vpn1] undo vpn-target all"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] mpls l2vpn",
            "[*HUAWEI-l2vpn] quit",
            "[*HUAWEI] mpls l2vpn vpn2 encapsulation vlan",
            "[*HUAWEI-mpls-l2vpn-vpn2] vpn-target 16.20:30"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] mpls l2vpn",
            "[*HUAWEI-l2vpn] quit",
            "[*HUAWEI] mpls l2vpn vpn3 encapsulation vlan",
            "[*HUAWEI-mpls-l2vpn-vpn3] vpn-target 65537:30"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nBGP VPWS uses VPN targets to control route exchange among nodes:\nWhen advertising routes to other PEs according to an MPLS L2VPN instance, a PE adds the export VPN target to these routes.When receiving routes from other PEs, a PE uses import VPN targets to determine whether to import these routes to the corresponding MPLS L2VPN instance.\n\nPrerequisites\nAn RD has been configured using the route-distinguisher route-distinguisher command for the MPLS L2VPN instance.\nConfiguration Impact\nTwo PEs can communicate only if the import VPN target of one PE matches the export VPN target of the other PE.\nPrecautions\nIf none of both, export-extcommunity, and import-extcommunity is specified, both is used by default."
}