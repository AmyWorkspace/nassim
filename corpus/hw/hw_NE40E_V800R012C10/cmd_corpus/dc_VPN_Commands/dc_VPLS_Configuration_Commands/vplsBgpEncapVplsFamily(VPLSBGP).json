{
    "PageTitle": "encapsulation vpls-family-compatible",
    "FuncDef": "The encapsulation vpls-family-compatible command configures a Huawei device to use encapsulation type 4 or 5 for BGP VPLS packets, depending on whether the user access mode is VLAN or Ethernet.\nThe undo encapsulation vpls-family-compatible command restores the default configuration.\nBy default, a Huawei device uses the encapsulation type defined in relevant standards for BGP VPLS packets.",
    "CLIs": [
        "encapsulation vpls-family-compatible",
        "undo encapsulation vpls-family-compatible"
    ],
    "ParentView": [
        "VSI-BGP-MH view",
        "VSI-BGP view"
    ],
    "ParaDef": null,
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] mpls",
            "[*HUAWEI-mpls] quit",
            "[*HUAWEI] mpls l2vpn",
            "[*HUAWEI-l2vpn] quit",
            "[*HUAWEI] vsi bgp1 auto",
            "[*HUAWEI-vsi-bgp1] pwsignal bgp",
            "[*HUAWEI-vsi-bgp1-bgp] encapsulation vpls-family-compatible"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nRelevant standards defines encapsulation type 19 for BGP VPLS packets, but the old Huawei device uses encapsulation type 4 or 5 for BGP VPLS packets. To enable a Huawei device to communicate with a old Huawei device on a BGP VPLS network, run the encapsulationvpls-family-compatible command for the new Huawei device to use encapsulation type 4 or 5 for outgoing BGP VPLS packets.\nAfter a Huawei device receives BGP VPLS packets from a old Huawei device, the Huawei device automatically converts encapsulation type 19 to encapsulation type 4 or 5, depending on the user access mode.\nThe user access mode is either VLAN or Ethernet:\nIn VLAN access mode, the frames transmitted between CEs and PEs carry VLAN tags in Ethernet headers. These VLAN tags are service delimiters used by ISPs to differentiate users. This type of VLAN tag is called the P-tag.In Ethernet access mode, the Ethernet headers of frames transmitted between CEs and PEs do not carry service delimiters. The VLAN tags carried in Ethernet headers are the internal VLAN tags of user packets, and these tags are meaningless to PEs. This type of VLAN tag is called the U-tag.\nPrerequisites\nThe VSI-BGP view has been displayed using the pwsignal bgp command."
}