{
    "PageTitle": "tnl-policy (EVPN instance view)",
    "FuncDef": "The tnl-policy command associates an EVPN instance with a tunnel policy.\nThe undo tnl-policy command restores the default configuration.\nBy default, a EVPN instance is not associated with any tunnel policy.",
    "CLIs": [
        "tnl-policy <policy-name>",
        "undo tnl-policy <policy-name>"
    ],
    "ParentView": [
        "B-EVPN instance view",
        "BD EVPN view",
        "EVPN instance view",
        "VPWS-EVPN instance view"
    ],
    "ParaDef": [
        {
            "Parameters": "policy-name",
            "Info": "Specifies a tunnel policy name.\nThe value is a string of 1 to 39 case-sensitive characters, spaces not supported. When double quotation marks are used around the string, spaces are allowed in the string."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] tunnel-policy po1",
            "[*HUAWEI-tunnel-policy-po1] tunnel select-seq cr-lsp load-balance-number 2",
            "[*HUAWEI-tunnel-policy-po1] quit",
            "[*HUAWEI] evpn vpn-instance vrf bd-mode",
            "[*HUAWEI-evpn-instance-vrf] route-distinguisher 1:1",
            "[*HUAWEI-evpn-instance-vrf] tnl-policy po1"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] tunnel-policy po2",
            "[*HUAWEI-tunnel-policy-po2] tunnel select-seq cr-lsp load-balance-number 3",
            "[*HUAWEI-tunnel-policy-po2] quit",
            "[*HUAWEI] evpn vpn-instance bvrf b-evpn",
            "[*HUAWEI-b-evpn-instance-bvrf] route-distinguisher 100:1",
            "[*HUAWEI-b-evpn-instance-bvrf] tnl-policy po2"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nTo enable EVPN PEs to transmit traffic over TE tunnels, run the tnl-policy command to associate the EVPN instance with a tunnel policy.\nPrerequisites\nAn RD has been configured for an EVPN instance using the route-distinguisher command.\nIf the associated tunnel policy does not exist, run the tunnel-policy command to create the tunnel policy.\nPrecautions\nAn EVPN instance cannot use GRE tunnels. If a tunnel policy involves the use of GRE tunnels, this tunnel policy cannot be applied to an EVPN instance."
}