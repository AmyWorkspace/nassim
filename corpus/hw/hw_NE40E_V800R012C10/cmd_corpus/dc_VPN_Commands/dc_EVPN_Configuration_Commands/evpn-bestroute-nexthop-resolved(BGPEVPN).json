{
    "PageTitle": "bestroute nexthop-resolved (BGP-EVPN address family view)",
    "FuncDef": "The bestroute nexthop-resolved ip command configures the labeled routes that recurse to IP addresses to participate in route selection.\nThe bestroute nexthop-resolved tunnel command configures the labeled routes that recurse to LSPs to participate in route selection.\nThe undo bestroute nexthop-resolved command restores the default configuration.\nBy default, the BGP EVPN routes whose next hops recurse to IP addresses participate in route selection.",
    "CLIs": [
        "bestroute nexthop-resolved { ip | tunnel }",
        "undo bestroute nexthop-resolved"
    ],
    "ParentView": [
        "BGP-EVPN address family view"
    ],
    "ParaDef": [
        {
            "Parameters": "ip",
            "Info": "Allows labeled routes that recurse to IP addresses to participate in route selection.\n-"
        },
        {
            "Parameters": "tunnel",
            "Info": "Allows labeled routes that recurse to LSPs to participate in route selection.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] bgp 100",
            "[*HUAWEI-bgp] l2vpn-family evpn",
            "[*HUAWEI-bgp-af-evpn] bestroute nexthop-resolved tunnel"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nBy default, BGP EVPN routes can participate in route selection only when their next hops recurse to IP addresses. Before an ASBR sends a preferred route, ensure that the next hop of the preferred route can recurse to an LSP. However, if load balancing or FRR is configured on an ASBR, non-preferred routes that are used for load balancing or FRR may not recurse to LSPs, causing load balancing or FRR to fail. To resolve this problem, enable only BGP EVPN routes whose next hops recurse to LSPs to participate in route selection.\nConfiguration Impact\nThe bestroute nexthop-resolved ip command is mutually exclusive with the bestroute nexthop-resolved tunnel command.\nThe bestroute nexthop-resolved tunnel command is mutually exclusive with the bestroute nexthop-resolved tunnel inherit-ip-cost command."
}