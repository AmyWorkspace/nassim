{
    "PageTitle": "vrrp vrid track interface",
    "FuncDef": "The vrrp vrid track interface command enables a VRRP backup group to track an interface.\nThe undo vrrp vrid track interface command disables a VRRP backup group from tracking an interface.\n\nBy default, a VRRP backup group does not track an interface.",
    "CLIs": [
        "vrrp vrid <virtual-router-id> track interface { <interface-name> | <interface-type> <interface-number> } [ increased <value-increased> | reduced <value-reduced> ]",
        "undo vrrp vrid <virtual-router-id> track interface [ <interface-name> | <interface-type> <interface-number> ]"
    ],
    "ParentView": [
        "PW-VE sub-interface view",
        "40GE interface view",
        "Port extension interface view",
        "GE electrical interface view",
        "Loopback interface view",
        "Eth-Trunk sub-interface view",
        "50GE sub-interface view",
        "400GE interface view",
        "10GE interface view",
        "GE sub-interface view",
        "VBDIF interface view",
        "VE sub-interface view",
        "25GE sub-interface view",
        "GE interface view",
        "100GE interface view",
        "VLANIF interface view",
        "Global VE sub-interface view",
        "50GE interface view",
        "400GE sub-interface view",
        "GE optical interface view",
        "100ge sub-interface view",
        "25GE interface view",
        "40GE sub-interface view",
        "Eth-Trunk interface view",
        "10GE sub-interface view"
    ],
    "ParaDef": [
        {
            "Parameters": "virtual-router-id",
            "Info": "Specifies the ID of a VRRP backup group.\nThe value is an integer ranging from 1 to 255."
        },
        {
            "Parameters": "interface interface-type interface-number",
            "Info": "Specifies the type and number of the interface whose status is tracked by a VRRP backup group.\nA VRRP backup group can track Layer 2 and Layer 3 interfaces.\n\nIf the tracked interface is a Layer 2 interface, the VRRP backup group tracks the physical status of the Layer 2 interface and changes its own priority based on the tracked physical status.\nIf the tracked interface is a Layer 3 interface, the VRRP backup group tracks the protocol status of the Layer 3 interface and changes its own priority based on the tracked protocol status.\n-"
        },
        {
            "Parameters": "increased value-increased",
            "Info": "Specifies the value by which the VRRP priority increases if the tracked interface becomes Down. This parameter takes effect on both the master and backup devices in a VRRP backup group.\nThe value is an integer ranging from 1 to 255. As 255 is the priority of an IP address owner, the largest priority can be set to 254."
        },
        {
            "Parameters": "reduced value-reduced",
            "Info": "Specifies the value by which the VRRP priority reduces if the tracked interface becomes Down. This parameter takes effect on both the master and backup devices in a VRRP backup group.\nThe value is an integer ranging from 1 to 255. The smallest priority is 1. By default, the VRRP priority reduces by 10 if the tracked interface goes Down."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] interface GigabitEthernet 1/0/1",
            "[~HUAWEI-GigabitEthernet1/0/1] vrrp vrid 1 virtual-ip 10.1.1.1",
            "[*HUAWEI-GigabitEthernet1/0/1] vrrp vrid 1 track interface GigabitEthernet 1/0/2 reduced 20"
        ]
    ],
    "ExtraInfo": "Usage Scenario\n\nThe master device cannot detect status changes of interfaces that are not in a VRRP backup group. If a VRRP-disabled interface connected to a network fails, the master device is unable to detect the fault and still forwards user packets through the failed interface, resulting in service interruptions.\nThe vrrp vrid track interface command can be used to configure a VRRP backup group to track a VRRP-disabled interface. If the device or the network-side interface fails, a VRRP backup group can be notified of the fault and perform a master/backup VRRP switchover. If the tracked interface goes Down, devices in the VRRP backup group increase or decrease VRRP priorities by a specified value and perform a master/backup VRRP switchover. The new master device will take over traffic.\nIf the tracked interface becomes Up, the original priorities of devices in a VRRP backup group will be restored.\n\nPrerequisites\n\nA VRRP backup group has been configured using the vrrp vrid virtual-ip command.\n\nConfiguration Impact\n\nThe parameter increased value-increased or reduced value-reduced in the vrrp vrid track interface command affects the change of device status in a VRRP backup group. The increased or reduced value must ensure that changes in VRRP priorities can trigger a master/backup switchover. Assume that the priorities of the master and backup devices in a VRRP backup group are 120 and 110, respectively. If the parameter reduced 20 is configured on the master device, the priority of the master device becomes 100, a value less than the priority of the backup device. As a result, a master/backup switchover is triggered.\n\nPrecautions\n\nIf a VRRP device is an IP address owner, the association between the VRRP backup group and interface does not take effect.\nMultiple VRRP backup groups can track the same interface. One common VRRP backup group can track a maximum of\nsixteen interfaces simultaneously.\nIf a VRRP group is configured to track multiple interfaces, the priority of the device where the VRRP group resides is subject to the status of all tracked interfaces."
}