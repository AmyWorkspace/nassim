{
    "PageTitle": "vrrp vrid fast-resume",
    "FuncDef": "The vrrp vrid fast-resume command enables rapid VRRP switchback.\nThe undo vrrp vrid fast-resume command disables rapid VRRP switchback.\n\nBy default, rapid VRRP switchback is disabled.",
    "CLIs": [
        "vrrp vrid <virtual-router-id> fast-resume",
        "undo vrrp vrid <virtual-router-id> fast-resume"
    ],
    "ParentView": [
        "PW-VE sub-interface view",
        "40GE interface view",
        "GE electrical interface view",
        "Port extension interface view",
        "Eth-Trunk sub-interface view",
        "50GE sub-interface view",
        "400GE interface view",
        "10GE interface view",
        "GE sub-interface view",
        "VBDIF interface view",
        "VE sub-interface view",
        "25GE sub-interface view",
        "GE interface view",
        "100GE interface view",
        "VLANIF interface view",
        "Global VE sub-interface view",
        "50GE interface view",
        "400GE sub-interface view",
        "GE optical interface view",
        "100ge sub-interface view",
        "25GE interface view",
        "40GE sub-interface view",
        "Eth-Trunk interface view",
        "10GE sub-interface view"
    ],
    "ParaDef": [
        {
            "Parameters": "virtual-router-id",
            "Info": "Specifies the ID of a VRRP backup group.\nThe value is an integer ranging from 1 to 255."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] interface GigabitEthernet 2/0/0",
            "[~HUAWEI-GigabitEthernet2/0/0] admin-vrrp vrid 1",
            "[*HUAWEI-GigabitEthernet2/0/0] vrrp vrid 1 preempt-mode timer delay 0",
            "[*HUAWEI-GigabitEthernet2/0/0] vrrp vrid 1 fast-resume"
        ]
    ],
    "ExtraInfo": "Usage Scenario\n\nWhen downstream links of devices in a VRRP group work in active/standby mode, upstream traffic is transmitted to the external network through the active link and the master device. If a device interface or link fails, the master device lowers the VRRP priority and switches to the Backup state. After the fault is rectified, the priority of the original master device exceeds that of the master device. However, the original master device still needs to receive protocol packets before reclaiming the master state. If the active/standby link switchover speed is faster than that of the master/backup VRRP switchover, the upstream traffic is lost. To solve the problem, run the vrrp vrid fast-resume command to configure the VRRP fast switchback function.\nWith the VRRP fast switchback function enabled, after the original master recovers, the priority of the VRRP group becomes higher than that of the existing master. In this case, the original device does not wait for VRRP protocol packets and directly preempts to be the master.\nThe VRRP fast switchback function takes effect only for mVRRP groups. In addition, the mVRRP groups must monitor the status of interfaces or other features in reduced mode.\n\nPrerequisites\n\nThe following steps have been performed:\n\nRun the admin-vrrp vrid command in the interface view to create an mVRRP group.\nRun the vrrp vrid preempt-mode timer delay 0 command in the interface view to set the preemption delay to 0 seconds if you have set the preemption delay to a non-zero value.\n\n\nConfiguration Impact\n\nIf the original master device recovers, it immediately preempts the Master state without waiting for VRRP Advertisement packets from the current master device. As a result, two master devices coexist during a short period of time.\n\nPrecautions\n\nThe vrrp vrid fast-resume command takes precedence over the vrrp recover-delay command. For example, if you enable rapid VRRP switchback for VRRP backup group 1 and globally set the recovery delay to a non-zero value, the configured recovery delay does not take effect.\nAfter you run the\nvrrp vrid fast-resume command to enable rapid VRRP switchback, this function is disabled if any of the following conditions is true:\n\nThe vrrp vrid preempt-mode timer delay command is run to set the preemption delay to a non-zero value.\nThe vrrp vrid preempt-mode disable command is run to disable VRRP devices from preempting the Master state.\nThe undo admin-vrrp vrid command is run to delete the mVRRP group."
}