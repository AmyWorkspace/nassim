{
    "PageTitle": "vrrp vrid track ip route",
    "FuncDef": "The vrrp vrid track ip route command configures a VRRP backup group to track a specified route.\nThe undo vrrp vrid track ip route command disables a VRRP backup group from tracking a specified route.\n\nBy default, a VRRP backup group tracks no route.",
    "CLIs": [
        "vrrp vrid <virtual-router-id> track ip route <ip-address> { <mask-address> | <mask-length> } vpn-instance <vpn-instance-name> [ reduced <value-reduced> ]",
        "vrrp vrid <virtual-router-id> track ip route <ip-address> { <mask-address> | <mask-length> } [ reduced <value-reduced> ]",
        "undo vrrp vrid <virtual-router-id> track ip route <ip-address> { <mask-address> | <mask-length> } vpn-instance <vpn-instance-name>",
        "undo vrrp vrid <virtual-router-id> track ip route [ <ip-address> { <mask-address> | <mask-length> } ]"
    ],
    "ParentView": [
        "PW-VE sub-interface view",
        "40GE interface view",
        "GE electrical interface view",
        "Port extension interface view",
        "Eth-Trunk sub-interface view",
        "400GE interface view",
        "50GE sub-interface view",
        "10GE interface view",
        "GE sub-interface view",
        "VBDIF interface view",
        "VE sub-interface view",
        "GE interface view",
        "25GE sub-interface view",
        "100GE interface view",
        "VLANIF interface view",
        "Global VE sub-interface view",
        "50GE interface view",
        "400GE sub-interface view",
        "GE optical interface view",
        "25GE interface view",
        "100ge sub-interface view",
        "40GE sub-interface view",
        "Eth-Trunk interface view",
        "10GE sub-interface view"
    ],
    "ParaDef": [
        {
            "Parameters": "virtual-router-id",
            "Info": "Specifies the ID of a VRRP backup group.\nThe value is an integer ranging from 1 to 255."
        },
        {
            "Parameters": "ip-address",
            "Info": "Specifies the destination IP address of a route to be tracked.\nThe value is in dotted decimal notation."
        },
        {
            "Parameters": "mask-address",
            "Info": "Specifies the destination IP address mask of a route to be tracked.\nThe value is in dotted decimal notation."
        },
        {
            "Parameters": "mask-length",
            "Info": "Specifies the length of the destination IP address mask of a route to be tracked.\nThe value is an integer ranging from 0 to 32."
        },
        {
            "Parameters": "vpn-instance vpn-instance-name",
            "Info": "Specifies the name of a VPN instance.\nThe value is a string of 1 to 31 case-sensitive characters, spaces not supported. In addition, the VPN instance name must not be _public_. When double quotation marks are used around the string, spaces are allowed in the string."
        },
        {
            "Parameters": "reduced value-reduced",
            "Info": "Indicates that the master device reduces its priority if the tracked route is withdrawn or becomes inactive.\nThe value is an integer ranging from 1 to 255. The default value is 10."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] interface GigabitEthernet 1/0/1",
            "[~HUAWEI-GigabitEthernet1/0/1] vrrp vrid 1 virtual-ip 10.1.1.1",
            "[*HUAWEI-GigabitEthernet1/0/1] vrrp vrid 1 track ip route 10.2.1.0 24 reduced 20"
        ]
    ],
    "ExtraInfo": "Usage Scenario\n\nTo improve device reliability, two user gateways working in master/backup mode are connected to a network, and VRRP is enabled on these gateways to determine their master/backup status. If a VRRP backup group has been configured and an uplink route to a network becomes unreachable, access-side users still use the VRRP backup group to forward traffic along the uplink route, which causes user traffic loss.\nAssociation between a VRRP backup group and a route can prevent user traffic loss. A VRRP backup group can be configured to track the uplink route to a network. If the route is withdrawn or becomes inactive, the route management (RM) module notifies the VRRP backup group of the change. After receiving the notification, the VRRP backup group changes its master device's VRRP priority and performs a master/backup switchover.\n\nPrerequisites\n\nA VRRP backup group has been configured using the vrrp vrid command.\n\nPrecautions\n\nWhen running the vrrp vrid track ip route command, note the following aspects:\n\nThe route specified using the ip-address { mask-address | mask-length } parameter must be the same as a route in the routing table of a VRRP device. Otherwise, the VRRP backup group considers the route unreachable.\nThe vrrp vrid virtual-router-id1 track admin-vrrp interface interface-type interface-number vrid virtual-router-id2 [ unflowdown ] command is run in an interface view to bind a VRRP backup group to an mVRRP backup group. Then, the VRRP backup group is a service VRRP group. Service VRRP groups do not support route monitoring.\nIf a VRRP device is an IP address owner, the association between a VRRP backup group and a specified route does not take effect."
}