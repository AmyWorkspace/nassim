{
    "PageTitle": "bfd bind peer-ip default-ip vsi",
    "FuncDef": "The bfd bind peer-ip default-ip vsi command creates a BFD multicast session based on a VSI PW.\nBy default, no BFD multicast session based on a VSI PW is created.",
    "CLIs": [
        "bfd <sessname-value> bind peer-ip default-ip vsi <vsi-name> peer <peer-address> [ vc-id <vc-id> ]"
    ],
    "ParentView": [
        "System view"
    ],
    "ParaDef": [
        {
            "Parameters": "sessname-value",
            "Info": "Specifies the name of a BFD session.\nThe value is a string of 1 to 64 characters, spaces not supported. When quotation marks are used around the string, spaces are allowed in the string.\nWhen the name of a BFD session is configured, the uppercase and lowercase letters in the name must be the same as what you enter.BFD session names are case-insensitive. For example, ABC and abc are regarded as the same BFD session. If you have configured ABC as the name of a BFD session, the ABC BFD session view is directly displayed when you configure abc."
        },
        {
            "Parameters": "vsi vsi-name",
            "Info": "Specifies a VSI name.\nThe value is a string of 1 to 31 case-insensitive characters."
        },
        {
            "Parameters": "peer peer-address",
            "Info": "Specifies the peer IP address of the PW in a VSI.\nThe value is in dotted decimal notation."
        },
        {
            "Parameters": "vc-id vc-id",
            "Info": "Specifies the ID of a VC. It is used when both ends with different VSI IDs need to communicate with each other.\nThe parameter vc-id cannot be identical to other configured local VSI IDs or other local VSI IDs specified by negotiate-vc-id. That is, vc-id cannot be an existing one. The ID is an integer ranging from 1 to 4294967295."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] mpls",
            "[*HUAWEI-mpls] quit",
            "[*HUAWEI] mpls l2vpn",
            "[*HUAWEI-l2vpn] quit",
            "[*HUAWEI] vsi v100 static",
            "[*HUAWEI-vsi-v100] pwsignal ldp",
            "[*HUAWEI-vsi-v100-ldp] vsi-id 100",
            "[*HUAWEI-vsi-v100-ldp] peer 3.3.3.3",
            "[*HUAWEI-vsi-v100-ldp] quit",
            "[*HUAWEI-vsi-v100] admin-vsi",
            "[*HUAWEI-vsi-v100] quit",
            "[*HUAWEI] bfd",
            "[*HUAWEI-bfd] quit",
            "[*HUAWEI] bfd bfd1 bind peer-ip default-ip vsi v100 peer 3.3.3.3",
            "[*HUAWEI-bfd-session-bfd1]"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nWhen a MAN accesses a core network in VPLS aggregation mode, a UPE is connected to an NPE over a PE-AGG. The PE-AGG terminates the PW to the UPE and forwards user packets to the NPE over the AC. To improve reliability, deploy two NPEs and configure an mVRRP group on them to determine the master/backup VRRP status.\nYou can associate VRRP with link and peer BFD to implement rapid master/backup VRRP switchovers. After the association is complete, the VRRP status changes if the BFD session status changes.\nYou must configure a link BFD session of the BFD for Default IP VSI type on the UPE and a link BFD session of the BFD for Default IP type on the NPEs.\nThe destination IP address of a packet for the link BFD session of the BFD for Default IP VSI type is the default multicast IP address. The packet is encapsulated with a VC label at the outer layer and is transmitted to the PE-AGG over the mPW. The PE-AGG terminates the mPW, removes the VC label from the packet's outer layer, and forwards the packet to the NPE over the AC. After receiving the packet, the NPE identifies the multicast IP address and terminates the packet.\nPrerequisites\nA management VSI PW has been created.\nBFD has been globally enabled using the bfd command in the system view.\nPrecautions\nA link BFD session of the BFD for Default IP VSI type must be established on an mPW, because only mPWs can process multicast BFD packets.\nThe default IP addresses of BFD packets must be the same on the UPE and NPEs, but the default IP addresses of BFD packets on the PE-AGGs must be different from those on the UPE and NPEs. If the default IP addresses of BFD packets on the PE-AGGs are the same as those on the UPE and NPEs, the BFD packets are not forwarded to the NPEs.\nYou can run the undo bfd session-name command to delete a specified BFD session and its binding information."
}