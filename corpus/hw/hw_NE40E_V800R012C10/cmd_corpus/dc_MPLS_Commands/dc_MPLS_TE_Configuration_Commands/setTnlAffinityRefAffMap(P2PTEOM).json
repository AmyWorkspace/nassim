{
    "PageTitle": "mpls te affinity (P2P Tunnel interface view)",
    "FuncDef": "The mpls te affinity command configures an affinity for an MPLS TE tunnel to be established.\nThe undo mpls te affinity command deletes an affinity for an MPLS TE tunnel to be established.\nBy default, no affinity is configured for an MPLS TE tunnel to be established.",
    "CLIs": [
        "mpls te affinity { primary | secondary | best-effort } { include-all | exclude | include-any } { <bit-name> } &<1-32>",
        "undo mpls te affinity { primary | secondary | best-effort } { include-all | exclude | include-any } { <bit-name> } &<1-32>",
        "undo mpls te affinity { primary | secondary | best-effort }"
    ],
    "ParentView": [
        "Tunnel interface view"
    ],
    "ParaDef": [
        {
            "Parameters": "primary",
            "Info": "Set parameter for primary LSP.\n-"
        },
        {
            "Parameters": "secondary",
            "Info": "Set parameter for secondary.\n-"
        },
        {
            "Parameters": "best-effort",
            "Info": "Set parameter for best-effort LSP.\n-"
        },
        {
            "Parameters": "include-all",
            "Info": "Include all.\n-"
        },
        {
            "Parameters": "exclude",
            "Info": "Exclude.\n-"
        },
        {
            "Parameters": "include-any",
            "Info": "Include any.\n-"
        },
        {
            "Parameters": "bit-name",
            "Info": "Specifies the referenced affinity names.\nThe value is a string of 1 to 31 case-sensitive characters, spaces not supported."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] mpls",
            "[*HUAWEI-mpls] mpls te",
            "[*HUAWEI-mpls] mpls rsvp-te",
            "[*HUAWEI-mpls] quit",
            "[*HUAWEI] path-constraint affinity-mapping",
            "[*HUAWEI-pc-af-map] attribute yellow bit-sequence 3",
            "[*HUAWEI-pc-af-map] quit",
            "[*HUAWEI] interface tunnel 1",
            "[*HUAWEI-Tunnel1] tunnel-protocol mpls te",
            "[*HUAWEI-Tunnel1] mpls te affinity primary include-any yellow"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nAn affinity property is a 32-bit vector representing a tunnel link. You can name each affinity bit. After an affinity is configured for a tunnel, a device compares the affinity with the administrative group attribute during link selection to determine whether a link with specified attributes is selected or not. You can configure affinities for the primary CR-LSP, backup CR-LSP, and best-effort path in a tunnel.\nPrerequisites\nMPLS TE has been configured as a tunnel protocol using the tunnel-protocol mpls te command.\nMappings between names and bit values in an affinity have been configured using the attribute command."
}