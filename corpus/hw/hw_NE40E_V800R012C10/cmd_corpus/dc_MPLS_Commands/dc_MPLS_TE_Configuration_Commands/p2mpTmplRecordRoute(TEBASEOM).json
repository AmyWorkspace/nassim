{
    "PageTitle": "record-route (MPLS TE P2MP template view)",
    "FuncDef": "The record-route command enables the route and label record function in the P2MP tunnel template view.\nThe undo record-route command disables the route and label record function in the P2MP tunnel template view.\nBy default, the route and label record function is disabled in the P2MP tunnel template.",
    "CLIs": [
        "record-route",
        "record-route label",
        "undo record-route"
    ],
    "ParentView": [
        "MPLS TE P2MP template view"
    ],
    "ParaDef": [
        {
            "Parameters": "label",
            "Info": "Enables the label record function.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] mpls",
            "[*HUAWEI-mpls] mpls te",
            "[*HUAWEI-mpls] mpls te p2mp-te",
            "[*HUAWEI-mpls] quit",
            "[*HUAWEI] mpls te p2mp-template Template1",
            "[*HUAWEI-te-p2mp-template-Template1] record-route label"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nBefore you view detailed path information on an automatic P2MP TE tunnel, run the record-route command in the P2MP tunnel template that is referenced to establish the automatic P2MP TE tunnel. This allows RSVP messages to record IP addresses of all hops. If label is configured in the record-route command, label values on all hops are also recorded.\nPrerequisites\nA P2MP tunnel template has been configured using the mpls te p2mp-template command.\nFollow-up Procedure\nAfter the record-route command is run, run the display mpls te p2mp tunnel path command to view routes and labels on all nodes along the automatic P2MP TE tunnel.\nPrecautions\nThe record-route command is not recommended for a large P2MP network. This is because device performance deteriorates when RSVP messages record IP addresses of all hops on the large P2MP network."
}