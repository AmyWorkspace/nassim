{
    "PageTitle": "mldp p2mp topo",
    "FuncDef": "The mldp p2mp topo command creates a primary mLDP P2MP LSP in the class-specific topology.\nThe undo mldp p2mp topo command restores the default configuration.\nBy default, no primary mLDP P2MP LSP is created in the class-specific topology.",
    "CLIs": [
        "mldp p2mp topo <topology-name>",
        "undo mldp p2mp topo <topology-name>"
    ],
    "ParentView": [
        "MPLS-LDP-IPv4 view"
    ],
    "ParaDef": [
        {
            "Parameters": "topology-name",
            "Info": "Specifies the name of a topology instance.\nThe value is a string of 1 to 31 case-sensitive characters, with spaces supported. Generally, \"base\" is reserved for base topology instances and cannot be configured."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] ip topology topo1",
            "[*HUAWEI] commit",
            "[~HUAWEI] mpls",
            "[*HUAWEI] mpls ldp",
            "[*HUAWEI-mpls-ldp] mldp p2mp",
            "Warning: All the related sessions will be deleted if the operation is performed! Continue? [Y/N]:y",
            "[*HUAWEI-mpls-ldp] commit",
            "[~HUAWEI-mpls-ldp] ipv4-family",
            "[~HUAWEI-mpls-ldp-ipv4] mldp p2mp topo topo1"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nWhen multicast traffic of NG MVPN services is properly forwarded, mLDP P2MP dual-root protection can be configured to improve multicast service reliability. If the mLDP LSPs created on the master and backup roots partially overlap, dual-root protection fails, causing traffic loss. To address this problem, run the mldp p2mp topo command to create the primary mLDP P2MP LSP in the class-specific topology.\nPrerequisites\nEnsure that the following steps have been performed:\nA topology instance has been created using the ip topology command in the system view.The mLDP P2MP capability has been enabled using the mldp p2mp command in the MPLS-LDP view."
}