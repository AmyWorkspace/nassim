{
    "PageTitle": "mldp make-before-break",
    "FuncDef": "The mldp make-before-break command enables the mLDP make-before-break (MBB) capability.\nThe undo mldp make-before-break command disables the mLDP MBB capability.\nBy default, the mLDP MBB capability is disabled.",
    "CLIs": [
        "mldp make-before-break",
        "undo mldp make-before-break"
    ],
    "ParentView": [
        "MPLS-LDP view"
    ],
    "ParaDef": null,
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] mpls",
            "[*HUAWEI-mpls] quit",
            "[*HUAWEI] mpls ldp",
            "[*HUAWEI-mpls-ldp] mldp p2mp",
            "[*HUAWEI-mpls-ldp] mldp make-before-break"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nIf the optimal route between a non-root node and a root node on an mLDP P2MP network changes, the non-root node re-selects an upstream node and by default tears down the P2MP LSP. As a result, traffic is dropped before a new P2MP LSP is established. To minimize traffic loss, run the mldp make-before-break command to enable the mLDP MBB capability on each node on the mLDP P2MP network. If the optimal route to the root node changes, the non-root node establishes a new P2MP LSP before tearing down the original P2MP LSP.\nPrerequisites\nmLDP P2MP has been enabled globally using the mldp p2mp command.\nPrecautions\nDeploying the MBB may fail to ensure switching performance if a node to switch traffic is notified by the upstream node of the successful establishment of a new path whereas connectivity the forwarding plane fails. This situation occurs when an overloaded node resides on a path after convergence and this node cannot ensure the consistency between the control and forwarding planes during MBB-compliance protocol interaction."
}