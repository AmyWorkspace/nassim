{
    "PageTitle": "mpls ldp ttl-mode",
    "FuncDef": "The mpls ldp ttl-mode command configures a mode for MPLS LDP to process TTLs in packets.\nThe undo mpls ldp ttl-mode command restores the default mode for MPLS LDP to process TTLs in packets.\nBy default, MPLS LDP processes TTLs in packets in uniform mode.",
    "CLIs": [
        "mpls ldp ttl-mode { pipe | uniform }",
        "undo mpls ldp ttl-mode"
    ],
    "ParentView": [
        "MPLS view"
    ],
    "ParaDef": [
        {
            "Parameters": "pipe",
            "Info": "Enables MPLS LDP to process TTLs in packets in pipe mode.\n-"
        },
        {
            "Parameters": "uniform",
            "Info": "Enables MPLS LDP to process TTLs in packets in uniform mode.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] mpls",
            "[*HUAWEI-mpls] mpls ldp ttl-mode pipe"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nMPLS LDP processes TTLs in MPLS packets in the following two modes:\nUniform Mode\nThe IP TTL value reduces by one each time it passes through a node in an MPLS network. When IP packets enter the MPLS network, the ingress reduces the IP TTL value by one and copies the IP TTL value to the MPLS TTL field. Each transit node only processes the MPLS TTL. The egress reduces the MPLS TTL by one, compares the MPLS TTL with the IP TTL, and obtains the smaller value to map it to the IP TTL.\nPipe Mode\nThe IP TTL value decreases by one only when passing through the ingress and egress. When IP packets enter the MPLS network, the ingress reduces the IP TTL value in packets by one and sets the MPLS TTL to a specific value. Transit nodes only process the MPLS TTL. When the egress receives the packets, it removes the MPLS label carrying the MPLS TTL from each packet and reduces the IP TTL value by one.\nIn multiple-hop PW virtual circuit connectivity verification (VCCV) tracert, all nodes on LSPs must process TTLs in packets in the same mode. A mode inconsistency causes a tracert operation failure.\n\nConfiguration Impact\nIf a node on an MPLS network processes TTLs in MPLS packets in pipe mode, the tracert and tracert lsp command output does not contain information about this node."
}