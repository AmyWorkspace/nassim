{
    "PageTitle": "inbound peer fec (MPLS-LDP-IPv4 view)",
    "FuncDef": "The inbound peer fec command configures an inbound policy, which allows the label switching router (LSR) to receive Label Mapping messages for Interior Gateway Protocol (IGP) routes only from a specified peer.\nThe undo inbound peer fec command restores the default configuration.\nBy default, no inbound policy is configured.",
    "CLIs": [
        "inbound peer { <peer-id> | peer-group <peer-group-name> | all } fec { none | host | ip-prefix <prefix-name> }",
        "undo inbound peer { <peer-id> | peer-group <peer-group-name> | all } fec",
        "undo inbound peer all"
    ],
    "ParentView": [
        "MPLS-LDP-IPv4 view"
    ],
    "ParaDef": [
        {
            "Parameters": "peer-id",
            "Info": "Specifies the ID of an LDP peer. By default, the peer ID is specified by the mpls lsr-id command. If the lsr-id command has been configured, the peer ID is specified by the lsr-id command.\nThe value is in dotted decimal notation."
        },
        {
            "Parameters": "peer-group peer-group-name",
            "Info": "Specifies the name of a peer group. The parameter is specified by the ip ip-prefix command.\nThe name is a string of 1 to 47 case-sensitive characters, with spaces not supported. When double quotation marks are used around the string, spaces are allowed in the string."
        },
        {
            "Parameters": "all",
            "Info": "Indicates all LDP peers.\n-"
        },
        {
            "Parameters": "none",
            "Info": "Forbids all Label Mapping messages. After the parameter none is configured, the specified LSR does not receive Label Mapping messages for IGP routes from its peers.\n-"
        },
        {
            "Parameters": "host",
            "Info": "Allows only Label Mapping messages for host routes. After the parameter host is configured, a specified LSR receives only Label Mapping messages for host routes from its peers.\n-"
        },
        {
            "Parameters": "ip-prefix prefix-name",
            "Info": "Allows only Label Mapping messages for IGP routes that are defined in the IP prefix list. After the parameter ip-prefix is configured, a specified LSR receives Label Mapping messages only for IGP routes that are defined in the IP prefix list by its peers. The parameter is specified by the ip ip-prefix command.\nThe name is a string of 1 to 169 case-sensitive characters, with spaces not supported. When double quotation marks are used around the string, spaces are allowed in the string."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] mpls",
            "[*HUAWEI-mpls] quit",
            "[*HUAWEI] mpls ldp",
            "[*HUAWEI-mpls-ldp] ipv4-family",
            "[*HUAWEI-mpls-ldp-ipv4] inbound peer all fec host"
        ]
    ],
    "ExtraInfo": "Usage Scenario\ny default, an LSR receives Label Mapping messages from all LDP peers to speed up LDP label switched path (LSP) convergence. This leads to a great number of unwanted LSPs, wasting resources. To reduce the number of LSPs and save memory resources, you can configure an outbound or inbound policy to filter out LDP LSPs not matching the policy.\nWhen running the inbound peer fec command specifies the peer ID and Forwarding Equivalence Class (FEC) of the IGP route, configuring the peer to receive only Label Mapping messages for specified IGP routes.\nTo apply a policy associated with the same FEC range to an LDP peer group or all LDP peers receiving Label Mapping messages, you can configure either peer-group or all in the command.\nPrecautions\nIf multiple inbound policies are configured for a specified LDP peer, the earliest configured inbound policy takes effect. For example, the following two inbound policies are configured:\ninbound peer 2.2.2.2 fec host\ninbound peer peer-group group1 fec none\nAs group1 also contains an LDP peer with address of 2.2.2.2, the following inbound policy takes effect:\ninbound peer 2.2.2.2 fec host\nIf two inbound policies are configured in sequence and the peer parameters in the two commands are the same, the second command overrides the first one. For example, the following two outbound policies are configured:\ninbound peer 2.2.2.2 fec host\ninbound peer 2.2.2.2 fec none\nThe second configuration overrides the first one. This means that the following inbound policy takes effect on the LDP peer with address of 2.2.2.2:\ninbound peer 2.2.2.2 fec none\nIf an inbound policy for all peers is configured and another inbound policy for a specific peer or peer group is configured, the previous policy has a higher priority, and the later policy does not take effect. For example:\ninbound peer all fec none\ninbound peer 2.2.2.2 fec host\nThe inbound policy for all peers takes effect:\ninbound peer all fec none"
}