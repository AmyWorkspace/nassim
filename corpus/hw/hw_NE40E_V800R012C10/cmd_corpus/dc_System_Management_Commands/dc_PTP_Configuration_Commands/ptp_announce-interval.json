{
    "PageTitle": "ptp announce-interval",
    "FuncDef": "The ptp announce-interval command sets the interval at which a PTP interface sends Announce packets.\nThe undo ptp announce-interval command restores the default interval.\nThe default interval at which a PTP interface sends Announce packets is 128/1024s.\nIn PTP mode except SMPTE-2059-2, the default value is 7. In SMPTE-2059-2 mode, the default value is 3.",
    "CLIs": [
        "ptp announce-interval <announce-interval>",
        "undo ptp announce-interval"
    ],
    "ParentView": [
        "100GE interface view",
        "10G LAN interface view",
        "25GE interface view",
        "400GE interface view",
        "40GE interface view",
        "50GE interface view",
        "50|100GE interface view",
        "GE optical interface view",
        "GE electrical interface view"
    ],
    "ParaDef": [
        {
            "Parameters": "announce-interval",
            "Info": "Specifies the interval at which Announce packets are sent.\nThe value is an integer. The value range depends on the board type. The mapping between announce-interval values and actual intervals is as follows:\n0 1/1024s1 2/1024s2 4/1024s3 8/1024s4 16/1024s5 32/1024s6 64/1024s7 128/1024s8 256/1024s9 512/1024s10 1s11 2s12 4s13 8s14 16s15 32s16 64s17 128s18 256s19 512s20 1024s"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] interface GigabitEthernet 1/0/0",
            "[~HUAWEI-GigabitEthernet1/0/0] ptp announce-interval 8"
        ]
    ],
    "ExtraInfo": "Usage Scenario\nTwo devices exchange Announce packets to determine the master/slave relationship. The master device sends Sync packets to notify the slave device of time signal parameters and uses a delay measurement mechanism to achieve time signals accuracy.\nPrecautions\nTo set the interval at which a PTP interface sends Announce packets, run the ptp announce-interval command.\nIf devices exchange PTP packets frequently and consume a lot of bandwidth resources, increase the announce-interval value. If time synchronization accuracy is low, reduce the announce-interval value.\nRemote timeout period of receiving Announce packets = Remotely configured receipt-timeout x Locally configured announce-interval\nThe ptp announce receipt-timeout receipt-timeout command sets the maximum number of Announce packets that a PTP interface fails to receive consecutively.\nTo ensure that the peer device can properly receives Announce packets, the interval for sending Announce packets configured on the local interface must be smaller than the timeout period for receiving Announce packets configured on the peer interface. Typically, the interval for sending Announce packets is 1/4 of the timeout period for receiving Announce packets. That is, announce-interval is two less than announce-receipt-timeout."
}