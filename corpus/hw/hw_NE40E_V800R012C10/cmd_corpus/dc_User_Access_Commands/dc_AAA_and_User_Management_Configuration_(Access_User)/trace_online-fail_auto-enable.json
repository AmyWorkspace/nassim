{
    "PageTitle": "trace online-fail auto-enable",
    "FuncDef": "The trace online-fail auto-enable command enables automatic service tracing for user login failures.\nThe undo trace online-fail auto-enable command disables this function.\nBy default, automatic service tracing for user login failures is enabled.",
    "CLIs": [
        "trace online-fail auto-enable",
        "undo trace online-fail auto-enable"
    ],
    "ParentView": [
        "System view"
    ],
    "ParaDef": null,
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] undo trace online-fail auto-enable"
        ]
    ],
    "ExtraInfo": "To enable automatic service tracing, run the trace online-fail auto-enable command. Automatic service tracing is enabled by default but is triggered only when the following conditions are met: - 1.More than 10000 login failure cause records are generated within a SAID statistical period (10 minutes).- 2.The system collects statistics about login failure cause records of users with valid MAC addresses and ranks the login failure causes by the number of records. The system then selects one from the top 3 login failure causes according to the following rules: - If none of the top 3 login failure causes is recorded in historical automatic service tracing entries, the top 1 login failure cause is selected. - If the top 1 login failure cause is recorded in historical automatic service tracing entries, the top 2 login failure cause is selected. - If the top 2 login failure cause is recorded in historical automatic service tracing entries, the top 3 login failure cause is selected. - If all of the top 3 login failure causes are recorded in historical automatic service tracing entries, the top 1 login failure cause is selected. - 3.Automatic service tracing is triggered only when the login failure cause selected in condition 2 meets one of the following conditions:  - The selected login failure cause is not recorded in the last 100 automatic service tracing entries.  - The selected login failure cause is recorded in one of the last 6 automatic service tracing entries, and its number in the current SAID statistical period is more than twice that in the previous period.  - The selected login failure cause is recorded in one or more of the last 100 automatic service tracing entries, and the entry or entries indicate that the selected login failure cause failed to trigger automatic service tracing.After automatic service tracing is triggered, the system creates a service tracing object for a specified user with the selected login failure cause and enables service tracing. The system traces the service object for five minutes and automatically deletes the service object when five minutes elapse. If no other service objects are traced, service tracing (enabled using the trace enable command) is disabled.When the undo trace online-fail auto-enable command is run to disable automatic service tracing:- If the conditions for triggering automatic service tracing are not met and no service object is being traced, automatic service tracing will not be triggered in subsequent SAID statistical periods even if the conditions are met.- If the conditions for triggering automatic service tracing are met and a service object is being traced, the system stops service tracing immediately as if the system has traced the service object for five minutes and automatically deletes the service object. Automatic service tracing will not be triggered in subsequent SAID statistical periods even if the conditions are met.After the trace online-fail auto-enable command is run to enable automatic service tracing for user login failures, automatic service tracing is triggered in subsequent (not the current) SAID statistical periods if the conditions are met."
}