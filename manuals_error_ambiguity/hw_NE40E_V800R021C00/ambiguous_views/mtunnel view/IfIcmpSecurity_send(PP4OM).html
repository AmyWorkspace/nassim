
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="icmp send (interface view)">
<meta name="DC.subject" content="icmp send (interface view)">
<meta name="keywords" content="icmp send (interface view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_IPv4_Basic_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/IcmpSecurity_receive(PP4OM).html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/IcmpSecurity_send(PP4OM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_PP4OM">
<meta name="DC.Creator" content="SUBSYS_ID_PP4OM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="hKF77426">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001221650501">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>icmp send (interface view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001221650501"></a><a name="EN-US_CLIREF_0000001221650501"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">icmp send (interface view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001221650501__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">icmp send</span></b> command enables the interface to send ICMP packets of a specified type.</p>
<p>The <b><span class="cmdname">undo icmp send</span></b> command disables the interface from sending ICMP packets of a specified type.</p>
</p>
<p>By default, the system is enabled to send ICMP packets.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001221650501__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">











<p><b><span class="cmdname">icmp name </span></b>{ <strong><span>echo</span></strong> | <strong><span>echo-reply</span></strong> | <strong><span>net-unreachable</span></strong> | <strong><span>parameter-problem</span></strong> | <strong><span>timestamp-reply</span></strong> | <strong><span>timestamp-request</span></strong> | <strong><span>ttl-exceeded</span></strong> } <strong><span>send</span></strong></p>

<p><b><span class="cmdname">icmp name reassembly-timeout send</span></b></p>

<p><b><span class="cmdname">icmp name port-unreachable send</span></b></p>

<p><b><span class="cmdname">icmp name fragmentneed-dfset send</span></b></p>

<p><b><span class="cmdname">icmp name source-route-failed send</span></b></p>


<p><b><span class="cmdname">icmp type </span></b><i><span class="varname">typevalue</span></i> <strong><span>code</span></strong> <i><span class="varname">codevalue</span></i> <strong><span>send</span></strong></p>

<p><b><span class="cmdname">icmp name </span></b>{ <strong><span>echo</span></strong> | <strong><span>echo-reply</span></strong> | <strong><span>net-unreachable</span></strong> | <strong><span>parameter-problem</span></strong> | <strong><span>timestamp-reply</span></strong> | <strong><span>timestamp-request</span></strong> | <strong><span>ttl-exceeded</span></strong> } <strong><span>send</span></strong> <strong><span>inherent-global</span></strong></p>

<p><b><span class="cmdname">icmp name reassembly-timeout send inherent-global</span></b></p>

<p><b><span class="cmdname">icmp name port-unreachable send inherent-global</span></b></p>

<p><b><span class="cmdname">icmp name fragmentneed-dfset send inherent-global</span></b></p>

<p><b><span class="cmdname">icmp name source-route-failed send inherent-global</span></b></p>


<p><b><span class="cmdname">icmp type </span></b><i><span class="varname">typevalue</span></i> <strong><span>code</span></strong> <i><span class="varname">codevalue</span></i> <strong><span>send</span></strong> <strong><span>inherent-global</span></strong></p>


<p><b><span class="cmdname">icmp all send inherent-global</span></b></p>







<p><b><span class="cmdname">undo icmp name </span></b>{ <strong><span>echo</span></strong> | <strong><span>echo-reply</span></strong> | <strong><span>net-unreachable</span></strong> | <strong><span>parameter-problem</span></strong> | <strong><span>timestamp-reply</span></strong> | <strong><span>timestamp-request</span></strong> | <strong><span>ttl-exceeded</span></strong> } <strong><span>send</span></strong></p>

<p><b><span class="cmdname">undo icmp name reassembly-timeout send</span></b></p>

<p><b><span class="cmdname">undo icmp name port-unreachable send</span></b></p>

<p><b><span class="cmdname">undo icmp name fragmentneed-dfset send</span></b></p>

<p><b><span class="cmdname">undo icmp name source-route-failed send</span></b></p>


<p><b><span class="cmdname">undo icmp type </span></b><i><span class="varname">typevalue</span></i> <strong><span>code</span></strong> <i><span class="varname">codevalue</span></i> <strong><span>send</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001221650501__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>echo</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send ICMP echo request packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>echo-reply</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send ICMP echo reply packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>net-unreachable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send net-unreachable packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>parameter-problem</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send parameter-problem packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>timestamp-reply</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send Timestamp Reply packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>timestamp-request</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send Timestamp Request packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ttl-exceeded</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send ICMP TTL Exceeded packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>name</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP packets with a specified name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>reassembly-timeout</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send reassembly-timeout packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>port-unreachable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send ICMP port-unreachable packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>fragmentneed-dfset</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send fragmentneed-DFset packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source-route-failed</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send source-route-failed packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>type</span></strong> <i><span class="varname">typevalue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the system to send ICMP packets with a specified type.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 255.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>code</span></strong> <i><span class="varname">codevalue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the system to send ICMP packets with a specified code.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 255.</p>
</td>
</tr>


<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>inherent-global</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>restores the ICMP receiving configuration in the interface view to the system.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>all</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>All ICMP types.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001221650501__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100ge sub-interface view, </span><span>100GE interface view, </span><span>10GE sub-interface view, </span><span>10GE interface view, </span>200GE sub-interface view, <span>25GE sub-interface view, </span><span>25GE interface view, </span><span>400GE sub-interface view, </span><span>400GE interface view, </span><span>40GE sub-interface view, </span><span>40GE interface view, </span><span>50GE sub-interface view, </span><span>50GE interface view, </span>Eth-Trunk sub-interface view, <span>Eth-Trunk interface view, </span><span>FlexE interface view, </span>GE optical interface view, GE sub-interface view, GE interface view, GE electrical interface view, <span>GMPLS-UNI interface view, </span><span>Global MP-group interface view, </span><span>Global VE sub-interface view, </span><span>IP-Trunk interface view, </span>LMP interface view, Loopback interface view, <span>MP-group interface view, </span><span>MTI interface view, </span><span>Mtunnel view, </span><span>POS sub-interface view, </span><span>POS interface view, </span><span>PW-VE sub-interface view, </span><span>PW-VE interface view, </span><span>POS-Trunk interface view, </span><span>Remote-AP interface view, </span><span>Trunk serial interface view, </span>Tunnel interface view, <span>VBDIF interface view, </span><span>Vbridge interface view, </span><span>VE sub-interface view, </span><span>VLANIF interface view, </span><span>Serial interface view, </span><span>Port extension interface view, </span>Management interface view, <span>Virtual template view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001221650501__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001221650501__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">ip-stack</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001221650501__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>In normal situations, the system can properly send ICMP packets. In case of heavy network traffic, if hosts or ports are frequently unreachable, routers send a large number of ICMP packets, which causes heavy traffic burden and performance deterioration. In addition, network attackers often use ICMP error packets to spy on the internal structure of the network.<p></p>
To improve network performance and security, run the <b><span class="cmdname">undo icmp send</span></b> command to disable the system from sending ICMP packets of a specified type.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>When the network is in good condition, you can run the <b><span class="cmdname">icmp send</span></b> command to enable the interface to send ICMP packets.<p></p>
In the case of network unreachable and host unreachable, the standard protocol does not require that the routing device must respond with a host unreachable packet. Currently, the router can respond with a network unreachable packet when it receives a packet and cannot find the routing table. In FIB Miss scenarios, the device does not respond to network unreachable packets by default. In ARP Miss scenarios, the device cannot respond to network unreachable packets and triggers ARP learning.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001221650501__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Disable <span>GE</span><span>1/0/1</span> from sending Timestamp Request messages.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>GigabitEthernet</span><span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>GigabitEthernet</span><span>1/0/1</span>] <strong>undo icmp name timestamp-request send</strong>
</pre>
</div>


</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_IPv4_Basic_Configuration_Commands_title.html">IPv4 Basic Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/IcmpSecurity_receive(PP4OM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/IcmpSecurity_send(PP4OM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>