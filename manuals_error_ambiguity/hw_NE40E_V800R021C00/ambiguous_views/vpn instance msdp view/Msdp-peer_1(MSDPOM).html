
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="peer mesh-group">
<meta name="DC.subject" content="peer mesh-group">
<meta name="keywords" content="peer mesh-group">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_MSDP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/Msdp-Peer-Keychain(MSDPOM).html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/Msdp-peer_6(MSDPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_MSDPOM">
<meta name="DC.Creator" content="SUBSYS_ID_MSDPOM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="hKF77426">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001176214764">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>peer mesh-group</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001176214764"></a><a name="EN-US_CLIREF_0000001176214764"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">peer mesh-group</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001176214764__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">peer mesh-group</span></b> command adds a Multicast Source Discovery Protocol (MSDP) peer to a mesh group.</p>
<p>The <b><span class="cmdname">undo peer mesh-group</span></b> command restores the default configuration.</p>
</p>
<p>By default, an MSDP peer does not belong to any mesh group.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001176214764__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">peer </span></b><i><span class="varname">peer-address</span></i> <strong><span>mesh-group</span></strong> <i><span class="varname">name</span></i></p>

<p><b><span class="cmdname">undo peer </span></b><i><span class="varname">peer-address</span></i> <strong><span>mesh-group</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001176214764__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">peer-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the address of an MSDP peer.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a mesh group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 32 case-sensitive characters.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001176214764__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p>VPN instance MSDP view, MSDP view of a public network instance</p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001176214764__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001176214764__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">msdp</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001176214764__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>If multiple MSDP peers exist on a network, source active (SA) messages may be flooded between peers. Especially when many MSDP peers are configured in the same PIM-SM domain, reverse path forwarding (RPF) rules cannot filter out useless SA messages effectively. The MSDP peer needs to perform the RPF check on each received SA message, which brings heavy workload to the system.<p></p>
To reduce the number of SA messages transmitted between MSDP peers and the system workload, run the peer mesh-group command to add MSDP peers to a mesh group.</p>
</p>
<p><strong>Prerequisites</strong></p>
<p><p>The multicast routing function has been enabled using the multicast routing-enable command in the public network instance view or VPN instance view.<p></p>
An MSDP peer relationship has been set up between any two members of a mesh group.</p>
</p>
<p><strong>Configuration Impact</strong></p>
<div class="p"><p>One MSDP peer can join only one mesh group. If an MSDP peer is configured to join different mesh groups, the latest configuration takes effect.<p></p>
When a member of the mesh group receives an SA message, it checks the source of the SA message:</p>

<ul><li>If the SA message is sent by an MSDP peer outside the mesh group, the member performs the RPF check on the SA message. If the SA message passes the check, the member forwards it to other members of the mesh group.</li><li>If the SA message is sent by a member of the mesh group, the member directly accepts the message without performing the RPF check. In addition, it does not forward the message to other members in the mesh group.</li></ul>
</div>
<p><strong>Precautions</strong></p>
<p><p>Before adding an MSDP peer to a mesh group using the peer mesh-group command, you must run the peer connect-interface command to set up MSDP peer relationships between this MSDP peer and all the current members of the mesh group.<p></p>
Commonly, the MSDP peers in the same autonomous system (AS) join the same mesh group and EBGP routes need be configured between inter-AS MSDP peers.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001176214764__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># In the public network instance, add the MSDP peer 10.10.7.6 to the mesh group named Group1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface loopback1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-LoopBack1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>msdp</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-msdp] <strong>peer 10.10.7.6 connect-interface LoopBack 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-msdp] <strong>peer 10.10.7.6 mesh-group Group1</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_MSDP_Configuration_Commands_title.html">MSDP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/Msdp-Peer-Keychain(MSDPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/Msdp-peer_6(MSDPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>