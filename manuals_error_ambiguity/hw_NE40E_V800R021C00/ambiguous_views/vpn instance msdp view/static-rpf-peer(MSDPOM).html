
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="static-rpf-peer">
<meta name="DC.subject" content="static-rpf-peer">
<meta name="keywords" content="static-rpf-peer">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_MSDP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/Msdp-peer_4(MSDPOM).html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/Msdp(MSDPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_MSDPOM">
<meta name="DC.Creator" content="SUBSYS_ID_MSDPOM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="hKF77426">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001176214780">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>static-rpf-peer</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001176214780"></a><a name="EN-US_CLIREF_0000001176214780"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">static-rpf-peer</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001176214780__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">static-rpf-peer</span></b> command configures a Multicast Source Discovery Protocol (MSDP) peer as a static Reverse Path Forwarding (RPF) peer. The source active (SA) messages sent by the static RPF peer are free from the RPF check.</p>
<p>The <b><span class="cmdname">undo static-rpf-peer</span></b> command restores the default configuration.</p>
</p>
<p>By default, no MSDP peer is configured as a static RPF peer.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001176214780__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">static-rpf-peer </span></b><i><span class="varname">peer-address</span></i> <strong><span>rp-policy</span></strong> <i><span class="varname">ip-prefix-name</span></i></p>

<p><b><span class="cmdname">static-rpf-peer </span></b><i><span class="varname">peer-address</span></i></p>

<p><b><span class="cmdname">undo static-rpf-peer </span></b><i><span class="varname">peer-address</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001176214780__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">peer-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the address of a static RPF peer.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The address is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>rp-policy</span></strong> <i><span class="varname">ip-prefix-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the filtering policy based on Rendezvous Point (RP) addresses. The filtering policy is used to filter SA messages based on RP addresses. ip-prefix-name specifies the name of the filtering policy.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The name is a string of 1 to 169 characters.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001176214780__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p>VPN instance MSDP view, MSDP view of a public network instance</p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001176214780__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001176214780__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">msdp</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001176214780__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>To prevent SA messages from being circularly forwarded between MSDP peers, MSDP performs the RPF check on the received SA message. MSDP strictly controls the incoming SA messages. The SA message that does not comply with the RPF rules are discarded.<p></p>
To protect the SA messages transmitted between MSDP peers from being discarded because of RPF rules and reduce redundant traffic, you can specify MSDP peers as static RPF peers. The SA messages received from a static RPF peer need not be checked according to RPF rules.</p>
</p>
<p><strong>Prerequisites</strong></p>
<p><p>The multicast routing-enable command is run in the public network instance view or VPN instance view.<p></p>
MSDP peers have been configured.</p>
</p>
<p><strong>Configuration Impact</strong></p>
<p><p>You can specify multiple remote static RPF peers for the router by using the static-rpf-peer command repeatedly.</p>
</p>
<p><strong>Precautions</strong></p>
<div class="p"><p>The methods of configure multiple static RPF peers for a Router are as follows:</p>

<ul><li>All the peers are configured with rp-policy: When SA messages sent by a static RPF peer in the active state reaches the local router, the local router filters the SA messages according to specified rp-policy specified on the peers, and receives only the SA messages passing the filtering.</li><li>None of the peers is configured with rp-policy: The local router receives all the SA messages from the static RPF peers in the active state.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001176214780__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># In the public network instance, configure 192.168.3.2 as a static RPF peer, with the source RP address range being 192.168.0.0/16.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ip ip-prefix list-df permit 192.168.0.0 16 greater-equal 16 less-equal 32</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>msdp</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-msdp] <strong>peer 192.168.3.2 connect-interface <span>GigabitEthernet</span> <span>1/0/0</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-msdp] <strong>static-rpf-peer 192.168.3.2 rp-policy list-df</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_MSDP_Configuration_Commands_title.html">MSDP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/Msdp-peer_4(MSDPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/Msdp(MSDPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>