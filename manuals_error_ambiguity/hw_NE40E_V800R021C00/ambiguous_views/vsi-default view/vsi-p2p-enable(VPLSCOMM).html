
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="p2p-vsi enable">
<meta name="DC.subject" content="p2p-vsi enable">
<meta name="keywords" content="p2p-vsi enable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_VPLS_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/vpls-ipmsi-root-mplste-p2mp-tpl(VPLSMC).html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/vpls-ldp-static-upe-npe-peer(VPLSLDP).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_VPLSCOMM">
<meta name="DC.Creator" content="SUBSYS_ID_VPLSCOMM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="hKF77426">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001200972206">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>p2p-vsi enable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001200972206"></a><a name="EN-US_CLIREF_0000001200972206"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">p2p-vsi enable</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001200972206__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">p2p-vsi enable</span></b> command configures a local VPLS connection between two CEs connecting to the same PE.</p>
<p>The <b><span class="cmdname">undo p2p-vsi enable</span></b> command deletes a local VPLS connection.</p>
</p>
<p>By default, no local VPLS connection is configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001200972206__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">p2p-vsi enable</span></b></p>

<p><b><span class="cmdname">undo p2p-vsi enable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001200972206__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001200972206__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p>VSI-AUTO view, VSI-DEFAULT view, VSI-STATIC view</p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001200972206__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001200972206__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">l2vpn</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001200972206__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>Local VPLS connections apply to small MPLS networks with simple topologies. Because a local VPLS connection does not require signaling negotiation or control packet exchange, it does not consume many resources. However, it requires manual configuration by network administrators and therefore has poor expansibility and is difficult to maintain.<p></p>
To enable two CEs connecting to the same PE to communicate, run the p2p-vsi enable command to establish a local VPLS connection between the two CEs for them to communicate.</p>
<p><strong>Prerequisites</strong></p>
<div class="p"><ul><li>A VSI has been created and the VSI view displayed using the vsi [ static ] command.</li><li>MAC address learning of the VSI has been disabled using the mac-learning disable command.</li></ul>
</div>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>The p2p-vsi enable command must be run before the l2 binding vsi command is run.</li><li>A local VPLS connection configured using the p2p-vsi enable command does not require any public network tunnel. After a device has the p2p-vsi enable command configured, the device does not support the peer (VSI-LDP view) command any longer.</li><li>mVSIs and PBB VSIs do not support the p2p-vsi enable command.</li><li>After the p2p-vsi enable command is run, the configured broadcast and multicast features do not take effect.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001200972206__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a local VPLS connection.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mpls</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mpls] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mpls l2vpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-l2vpn] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vsi vsi1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi1] <strong>pwsignal ldp</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi1-ldp] <strong>vsi-id 2</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi1-ldp] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi1] <strong>mac-learning disable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi1] <strong>p2p-vsi enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_VPLS_Configuration_Commands_title.html">VPLS Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/vpls-ipmsi-root-mplste-p2mp-tpl(VPLSMC).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/vpls-ldp-static-upe-npe-peer(VPLSLDP).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>