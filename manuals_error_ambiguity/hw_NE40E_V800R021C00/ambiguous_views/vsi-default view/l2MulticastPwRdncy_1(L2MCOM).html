
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="l2-multicast backup-report forward">
<meta name="DC.subject" content="l2-multicast backup-report forward">
<meta name="keywords" content="l2-multicast backup-report forward">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_Layer_2_Multicast_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/l2MulticastPwRdncy(L2MCOM).html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/l2MultiFastChnBd(L2MCOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_L2MCOM">
<meta name="DC.Creator" content="SUBSYS_ID_L2MCOM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="hKF77426">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001176214162">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>l2-multicast backup-report forward</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001176214162"></a><a name="EN-US_CLIREF_0000001176214162"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">l2-multicast backup-report forward</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001176214162__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">l2-multicast backup-report forward</span></b> command configures a backup device to receive IGMP Report/Leave messages along the backup link and forward the messages upstream.</p>
<p>The <b><span class="cmdname">undo l2-multicast backup-report forward</span></b> command cancels the configuration.</p>
</p>
<p>By default, a backup device is disabled from receiving IGMP Report/Leave messages along the backup link and forwarding the messages upstream.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001176214162__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">l2-multicast backup-report forward </span></b>[ <strong><span>source-mac-replace</span></strong> ]</p>

<p><b><span class="cmdname">undo l2-multicast backup-report forward</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001176214162__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source-mac-replace</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables a backup device to replace the source MAC addresses of IGMP Report/Leave messages with its own MAC address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001176214162__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p>VSI-AUTO view, VSI-BD view, VSI-DEFAULT view, VSI-STATIC view</p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001176214162__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001176214162__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">l2mc</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001176214162__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>In VPLS networking, master and backup links can be used to transmit multicast data traffic. If the master link or master device fails, multicast traffic must be rapidly switched to the backup link or backup device. The backup device, however, cannot learn Layer 2 multicast forwarding entries. As a result, services will be interrupted for a long period of time after a master/backup link switchover. In such a situation, you need to configure the backup device to receive IGMP Report/Leave messages along the backup link so that multicast data flows can be immediately forwarded after the master/backup link switchover.</p>
<p><strong>Prerequisites</strong></p>
<p><p>The igmp-snooping enable command has been run in the system view and the VSI view to enable the IGMP snooping function.</p>
</p>
<p><strong>Precautions</strong></p>
<p>If source-mac-replace is specified in the l2-multicast backup-report forward command, the backup device replaces the source MAC address of a received IGMP Report/Leave message with its own MAC address. If this parameter is not specified, the backup device does not replace the source MAC address of a received IGMP Report/Leave message and the source MAC address of the IGMP Report/Leave message is the MAC address of the downstream device that sends the message.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001176214162__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">


<div class="p"># Configure a backup device to receive IGMP Report/Leave messages along the backup link and replace the source MAC addresses of the Report/Leave messages with its own MAC address.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>igmp-snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mpls</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mpls] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mpls l2vpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-l2vpn] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vsi vpna</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vpna] <strong>igmp-snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vpna] <strong>l2-multicast backup-query forward source-mac-replace</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vpna] <strong>igmp-snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vpna] <strong>l2-multicast backup-report forward source-mac-replace</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_Layer_2_Multicast_Commands_title.html">Layer 2 Multicast Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/l2MulticastPwRdncy(L2MCOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/l2MultiFastChnBd(L2MCOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>