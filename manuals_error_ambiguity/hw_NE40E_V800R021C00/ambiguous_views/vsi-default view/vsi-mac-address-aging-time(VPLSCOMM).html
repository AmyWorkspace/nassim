
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="mac-address aging-time">
<meta name="DC.subject" content="mac-address aging-time">
<meta name="keywords" content="mac-address aging-time">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_VPLS_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/vsi-mac-remove-all-from-me(VPLSCOMM).html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/vsi-mac-learning-style(VPLSCOMM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_VPLSCOMM">
<meta name="DC.Creator" content="SUBSYS_ID_VPLSCOMM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="hKF77426">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001200972202">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>mac-address aging-time</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001200972202"></a><a name="EN-US_CLIREF_0000001200972202"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">mac-address aging-time</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001200972202__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">mac-address aging-time</span></b> command configures the aging time of dynamic MAC address entries in a specified VLAN.</p>
<p>The <b><span class="cmdname">undo mac-address aging-time</span></b> command restores the default aging time.</p>
</p>
<p>The default aging time of dynamic MAC address entries is 300 seconds.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001200972202__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">mac-address aging-time </span></b><i><span class="varname">interval</span></i></p>

<p><b><span class="cmdname">mac-address aging-time local </span></b><i><span class="varname">local-seconds</span></i></p>

<p><b><span class="cmdname">mac-address aging-time remote </span></b><i><span class="varname">remote-seconds</span></i></p>

<p><b><span class="cmdname">undo mac-address aging-time</span></b></p>

<p><b><span class="cmdname">undo mac-address aging-time local</span></b></p>

<p><b><span class="cmdname">undo mac-address aging-time remote</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001200972202__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interval</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the aging time of dynamic MAC address entries.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer that can be 0, or ranges from 60 to 1,000,000, in seconds.</p>
<p>If the aging time is set to 0, all the dynamic entries are not aged.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>local</span></strong> <i><span class="varname">local-seconds</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the aging time of local dynamic MAC address entries in a VSI.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer that can be 0, or ranges from 60 to 1,000,000, in seconds.</p>
<p>If the aging time is set to 0, all the dynamic entries are not aged.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>remote</span></strong> <i><span class="varname">remote-seconds</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the aging time of dynamic MAC address entries remotely learned by a VSI.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer that can be 0, or ranges from 60 to 1,000,000, in seconds.</p>
<p>If the aging time is set to 0, all the dynamic entries are not aged.</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001200972202__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p>VSI-AUTO view, VSI-BVSI view, VSI-DEFAULT view, VSI-IVSI-BEVPNINTERWORK view, VSI-IVSI-P2P view, VSI-STATIC view</p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001200972202__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001200972202__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">l2vpn</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001200972202__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>As network topologies change constantly, a device learns more and more MAC addresses. To avoid the explosive growth of MAC address entries, you can use the mac-address aging-time command to set a proper aging time to have the invalid MAC address entries deleted in time.<p></p>
The system starts an aging timer for each dynamic MAC address entry. If the MAC address entry is not updated before the aging time expires, the entry will be deleted. If the MAC address entry is updated before the aging time expires, the aging time of the MAC address entry will be recalculated. The shorter the aging time is, the more sensitive a device is to the network changes.<p></p>
The aging time of dynamic MAC address entries should be set based on the network condition and device performance.</p>

<ul><li>The aging time of dynamic MAC address entries in a stable network can be set longer. The aging time of dynamic MAC address entries in a constantly changing network can be set shorter.</li><li>The capacity of the MAC address table on a low-end device is set smaller than that of the MAC address table on a high-end device. The aging time of MAC address entries on the low-end device can be set shorter to speed up entry aging and save space of the MAC address table.</li></ul>
<p><strong>Precautions</strong></p>
<p>After the system resets, dynamic MAC address entries are lost, whereas static MAC address entries and blackhole MAC address entries are neither aged nor lost.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001200972202__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the aging time of dynamic MAC address entries in a VSI named vsi1 to 0 seconds.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mpls</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mpls] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mpls l2vpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-l2vpn] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vsi vsi1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi1] <strong>mac-address aging-time 0</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_VPLS_Configuration_Commands_title.html">VPLS Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/vsi-mac-remove-all-from-me(VPLSCOMM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/vsi-mac-learning-style(VPLSCOMM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>