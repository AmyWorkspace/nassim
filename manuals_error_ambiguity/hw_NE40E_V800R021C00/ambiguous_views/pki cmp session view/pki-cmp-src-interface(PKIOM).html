
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="cmp source interface">
<meta name="DC.subject" content="cmp source interface">
<meta name="keywords" content="cmp source interface">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_PKI_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/pki-cmp-req-server-url(PKIOM).html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/pki-entity-common-name(PKIOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_PKIOM">
<meta name="DC.Creator" content="SUBSYS_ID_PKIOM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="hKF77426">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001176375212">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>cmp source interface</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001176375212"></a><a name="EN-US_CLIREF_0000001176375212"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">cmp source interface</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001176375212__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">cmp source interface</span></b> command configures the source interface of CMPv2 packets. The IP address of the configured source interface is used as the source IP address of the packets sent from the device to the CMPv2 server.</p>
<p>The <b><span class="cmdname">undo cmp source interface</span></b> command deletes the source interface configured for CMPv2 packets.</p>
</p>
<p>By default, the source IP address of CMPv2 packets is obtained based on the destination IP address in the routing table.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001176375212__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">cmp source interface </span></b>{ <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> }</p>

<p><b><span class="cmdname">undo cmp source interface </span></b>[ <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001176375212__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the type and number of an interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001176375212__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p>PKI CMP session view, VS PKI CMP session view</p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001176375212__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001176375212__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">pki</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001176375212__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When a device exchanges packets with the CMPv2 server to apply for certificates, the IP address of the outbound interface for the reachable route to the device is used as the source IP address of the packets. If a different route is used, the outbound interface may change, causing the following problems:</p>

<ul><li>The source IP address of CMPv2 packets changes, requiring the device and PKI system to implement CMP renegotiation.</li><li>If there is a firewall between the device and PKI system, the source IP address of CMPv2 packets cannot be specified on the firewall, increasing insecurity risks.<p></p>
To resolve the preceding problems, run the cmp source interface command to specify a source interface for CMPv2 packets. After a source interface is specified for CMPv2 packets, the IP address of this interface is used as the source IP address of the packets sent from the device to the CMPv2 server.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001176375212__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Specify the interface loopback 1 as the source interface of CMP session 1 packets.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface LoopBack 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-LoopBack1] <strong>ip address 10.1.1.1 32</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-LoopBack1] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-LoopBack1] <strong>quit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>pki domain domain1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-pki-domain-domain1] <strong>pki cmp session session1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-pki-domain-domain1-pki-cmp-session-session1] <strong>cmp source interface loopback 1</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_PKI_Configuration_Commands_title.html">PKI Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/pki-cmp-req-server-url(PKIOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/pki-entity-common-name(PKIOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>