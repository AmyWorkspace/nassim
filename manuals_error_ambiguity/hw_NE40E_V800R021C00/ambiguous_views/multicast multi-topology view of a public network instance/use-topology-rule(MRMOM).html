
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="apply topology">
<meta name="DC.subject" content="apply topology">
<meta name="keywords" content="apply topology">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_IPv4_Multicast_Route_Management_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/trunk_multicast_load-balance_trunk-member_backup.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/display-debugging-psnpg(BRASMCOM_ne).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_MRMOM">
<meta name="DC.Creator" content="SUBSYS_ID_MRMOM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="cWX1082228">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001221894127">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>apply topology</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001221894127"></a><a name="EN-US_CLIREF_0000001221894127"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">apply topology</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001221894127__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">apply topology</span></b> command enables multicast services to run in a unicast topology instance.</p>
<p>The <b><span class="cmdname">undo apply topology</span></b> command disables multicast services from running in a unicast topology instance.</p>
</p>
<p>By default, multicast services do not run in a specified unicast topology instance.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001221894127__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">apply topology </span></b><i><span class="varname">topology-name</span></i></p>

<p><b><span class="cmdname">undo apply topology </span></b><i><span class="varname">topology-name</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001221894127__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">topology-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a unicast topology instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of case-insensitive characters.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001221894127__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p>IPv6 multicast multi-topology view, Multicast multi-topology view of a public network instance</p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001221894127__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001221894127__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">mcast-base</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001221894127__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>With multicast multi-topologies, multicast services can run in a specified topology, which isolates multicast services from unicast services. In addition, when searching for routes, the system searches routes only in the unicast routing table, the static multicast routing table, and the Multicast Border Gateway Protocol (MBGP) routing table specified by the multicast topology. This eliminates the conflict between multicast services and unidirectional Traffic Engineering (TE) tunnel services.<p></p>
After multicast multi-topology is configured, multicast services can run in a multicast topology instance, unicast topology instance.<p></p>
Currently, multicast multi-topologies are applicable to only the public network instance. Using a multicast topology for multicast services is applicable to intra-domain and inter-domain scenarios whereas using a topology instance for multicast services is applicable to only the intra-domain scenario.</p>
<p><strong>Prerequisites</strong></p>
<p><p>An topology instance has been created.<p></p>
A multicast topology instance has been created and multicast multi-topologies have been enabled.</p>
</p>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>You can deploy only one unicast topology instance for multicast services on a network.</li><li>Once a unicast topology instance is configured for multicast services on a network, you can no longer deploy a multicast topology instance for multicast services.</li><li>Unicast topology instances support direct routes, unicast static routes, and IS-IS routes.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001221894127__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># In the multicast multi-topology view of the public network instance, configure the unicast topology named red for multicast services.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ip topology multicast</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ip topology red</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>multicast rpf multi-topology</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-multicast-rpf-topology] <strong>apply topology red</strong>
</pre>
</div>

<div class="p"># Configure the unicast topology named red for running IPv6 multicast services in the IPv6 multicast multi-topology view.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast ipv6 routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ipv6 topology multicast</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ipv6 topology red</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>multicast ipv6 rpf multi-topology</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-multicast-rpf-topology] <strong>apply topology red</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_IPv4_Multicast_Route_Management_Commands_title.html">IPv4 Multicast Route Management Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/trunk_multicast_load-balance_trunk-member_backup.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/display-debugging-psnpg(BRASMCOM_ne).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>