
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="dhcp snooping nni server enable">
<meta name="DC.subject" content="dhcp snooping nni server enable">
<meta name="keywords" content="dhcp snooping nni server enable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_DHCP_Snooping_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/VlanDhcpSnpMaxUserNum(DHCPSNPOM).html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/WhiteListEnable(DHCPSNPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_DHCPSNPOM">
<meta name="DC.Creator" content="SUBSYS_ID_DHCPSNPOM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="hKF77426">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001176056692">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>dhcp snooping nni server enable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001176056692"></a><a name="EN-US_CLIREF_0000001176056692"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">dhcp snooping nni server enable</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001176056692__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">dhcp snooping nni server enable</span></b> command enables NNIs to send DHCP reply messages to the host in a VSI scenario.</p>
<p>The <b><span class="cmdname">undo dhcp snooping nni server enable</span></b> command disables NNIs from sending DHCP reply messages to the host in a VSI scenario.</p>
</p>
<p>By default, NNIs are not enabled to send DHCP reply messages to the host in a VSI scenario.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001176056692__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">dhcp snooping nni server enable</span></b></p>

<p><b><span class="cmdname">undo dhcp snooping nni server enable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001176056692__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001176056692__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p>VSI-AUTO view, VSI-BD view, VSI-BVSI view, VSI-DEFAULT view, VSI-IVSI-MP2MP view, VSI-IVSI-P2P view, VSI-STATIC view</p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001176056692__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001176056692__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">dhcp</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001176056692__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>In a VSI scenario, if DHCP snooping needs to be configured for an AC interface when the DHCP server is deployed on the network side, you can run the dhcp snooping nni server enable command to enable NNIs to send DHCP reply messages to the host. After the command is run, binding entries can be generated, and users can go online.</p>
<p><strong>Prerequisites</strong></p>
<p><p>DHCP snooping has been enabled globally using the dhcp snooping enable command.</p>
</p>
<p><strong>Follow-up Procedure</strong></p>
<p><p>Enable DHCP snooping on an AC interface using the dhcp snooping enable command.</p>
</p>
<p><strong>Precautions</strong></p>
<div class="p"><p>In a VSI scenario, if dhcp snooping enable and dhcp snooping trusted commands are run on an NNI, and the dhcp snooping nni server enable command is run in the VSI view, the configurations on the NNI take effect. If multiple VSIs share the same NNI, the dhcp snooping nni server enable command takes effect on all VSIs, which may provoke the following problems:</p>

<ul><li>VSIs cannot be identified when the NNI sends DHCP reply messages to the host. As a result, DHCP snooping does not take effect, but users can go online.</li><li>The NNI sends DHCP reply messages to the host even when DHCP snooping is not enabled on some of the VSIs, which increases device load.</li><li>If a whitelist has been applied when dhcp snooping nni server is enabled, ensure that whitelist rules have been configured for all valid DHCP servers in the whitelist.</li><li>When the dhcp snooping nni server enable command is configured in a VSI where a whitelist has been applied, the following message is displayed: Info: A whitelist has been applied. Configure complete whitelist rules for valid DHCP servers.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001176056692__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable the NNI to send DHCP reply messages to the host in the view of VSI 1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mpls</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mpls] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mpls l2vpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-l2vpn] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>dhcp snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vsi vsi1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi1] <strong>dhcp snooping nni server enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_DHCP_Snooping_Configuration_Commands_title.html">DHCP Snooping Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/VlanDhcpSnpMaxUserNum(DHCPSNPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/WhiteListEnable(DHCPSNPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>