
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="auto-frr lsp-trigger (MPLS-LDP-IPv4 view)">
<meta name="DC.subject" content="auto-frr lsp-trigger (MPLS-LDP-IPv4 view)">
<meta name="keywords" content="auto-frr lsp-trigger (MPLS-LDP-IPv4 view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_MPLS_LDP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/ConfigAutoFrr(LDPP2POM).html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/ConfigBackOffTimer(LDPRESOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_LDPP2POM">
<meta name="DC.Creator" content="SUBSYS_ID_LDPP2POM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="hKF77426">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001200971832">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>auto-frr lsp-trigger (MPLS-LDP-IPv4 view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001200971832"></a><a name="EN-US_CLIREF_0000001200971832"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">auto-frr lsp-trigger (MPLS-LDP-IPv4 view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001200971832__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">auto-frr lsp-trigger</span></b> command configures a policy for establishing backup LDP label switched paths (LSPs) over backup routes.</p>
<p>The <b><span class="cmdname">undo auto-frr lsp-trigger</span></b> command restores the default policy.</p>
</p>
<p>By default, LDP uses backup routes with 32-bit addresses to establish backup LSPs.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001200971832__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">auto-frr lsp-trigger </span></b>{ <strong><span>none</span></strong> | <strong><span>host</span></strong> | <strong><span>all</span></strong> | <strong><span>ip-prefix</span></strong> <i><span class="varname">ip-prefix-name</span></i> }</p>

<p><b><span class="cmdname">undo auto-frr lsp-trigger</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001200971832__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>none</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Uses none of the backup routes to establish backup LDP LSPs.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>host</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Uses backup routes with 32-bit addresses to establish backup LDP LSPs.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>all</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Uses all backup routes to establish backup LDP LSPs.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ip-prefix</span></strong> <i><span class="varname">ip-prefix-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Uses backup routes with a specified IP address prefix to establish backup LDP LSPs.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The name is a string of 1 to 169 case-sensitive characters, with spaces not supported. When double quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001200971832__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p>MPLS-LDP-IPv4 view, MPLS-LDP-VPN-IPv4 view</p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001200971832__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001200971832__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">mpls-ldp</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001200971832__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>LDP Auto fast reroute (FRR) depends on Interior Gateway Protocol (IGP) Auto FRR or static route FRR. LDP Auto FRR will be automatically enabled after IGP Auto FRR is enabled using the frr (IS-IS) command in the IS-IS view or the frr (OSPF) command in the OSPF view, or after static route FRR is enabled using the ip route-static frr command. To configure or change a policy for triggering LDP LSP establishment, run the auto-frr lsp-trigger command.</p>
</p>
<p><strong>Prerequisites</strong></p>
<p><p>MPLS LDP has been enabled globally using the mpls ldp command in the system view.<p></p>
If ip-prefix is to be used, an IP prefix list must have been created using the ip ip-prefix command.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>If both the auto-frr lsp-trigger command and the lsp-trigger command are run, the established backup LSPs are controlled by the intersection part of the policy for triggering LDP LSP establishment and the policy for triggering backup LDP LSP establishment. For example, if the policies are set to "none" and "all", the "none" policy takes effect.<p></p>
The auto-frr lsp-trigger command takes effect in either the MPLS-LDP view or MPLS LDP IPv4 view. If the command is configured in both views, only the latter configuration takes effect.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001200971832__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure LDP to use none of the backup routes to establish backup LSPs.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mpls</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mpls] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mpls ldp</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mpls-ldp] <strong>ipv4-family</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mpls-ldp-ipv4] <strong>auto-frr lsp-trigger none</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_MPLS_LDP_Configuration_Commands_title.html">MPLS LDP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/ConfigAutoFrr(LDPP2POM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/ConfigBackOffTimer(LDPRESOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>