
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="igmp-snooping enable (VSI view)">
<meta name="DC.subject" content="igmp-snooping enable (VSI view)">
<meta name="keywords" content="igmp-snooping enable (VSI view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_Layer_2_Multicast_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/igmp-snooping-inst-enable(L2MCOM).html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/igmp-snooping-sys-enable_1(L2MCOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_L2MCOM">
<meta name="DC.Creator" content="SUBSYS_ID_L2MCOM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="hKF77426">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001176372646">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>igmp-snooping enable (VSI view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001176372646"></a><a name="EN-US_CLIREF_0000001176372646"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">igmp-snooping enable (VSI view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001176372646__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">igmp-snooping enable</span></b> command enables IGMP snooping.</p>
<p>The <b><span class="cmdname">undo igmp-snooping enable</span></b> command disables IGMP snooping.</p>
</p>
<p>By default, IGMP snooping is disabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001176372646__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">igmp-snooping enable</span></b></p>

<p><b><span class="cmdname">undo igmp-snooping enable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001176372646__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001176372646__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p>VSI-AUTO view, VSI-BD view, VSI-DEFAULT view, VSI-STATIC view</p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001176372646__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001176372646__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">l2mc</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001176372646__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>IGMP snooping runs on a Layer 2 device that is deployed between a Layer 3 device and user hosts. It maintains multicast forwarding entries by listening to multicast protocol packets transmitted between the upstream device and hosts, thereby controlling multicast data packet forwarding. Enabling IGMP snooping is the prerequisite for implementing Layer 2 multicast. The igmp-snooping enable command can be used to enable IGMP snooping.<p></p>
The differences between the command configuration in the system view and that in the VLAN/VSI/BD view are listed as follows:</p>

<ul><li>After the igmp-snooping enable or undo igmp-snooping enable command is run in the system view, IGMP snooping will be enabled or disabled globally. Running the undo igmp snooping enable command deletes all Layer 2 multicast commands on a device. The running Layer 2 multicast services are then terminated. To restore Layer 2 multicast services on the device, you must reconfigure the deleted multicast commands.</li><li>After the igmp-snooping enable or undo igmp-snooping enable command is run in the VLAN/VSI/BD view, IGMP snooping will be enabled or disabled in a specified VLAN/VSI/BD. IGMP snooping can be enabled in a VLAN/VSI/BD only after IGMP snooping is enabled globally. By default, IGMP snooping is still disabled in a VLAN/VSI/BD though IGMP snooping is enabled in the system view.</li></ul>
<p><strong>Precautions</strong></p>
<p><p>If a VSI is bound to a BD, the igmp-snooping enable command fails to be run in theVSI.<p></p>
If the command is run for a VSI associated with a main interface, only untagged packets can be transmitted on the interface, and tagged packets are discarded.<p></p>
If a VSI is bound to a sub-interface configured with the <b><span class="cmdname">pw-tag</span></b> command, the igmp-snooping enable command fails to be run in theVSI.<p></p>
If a VSI is bound to a L2VE interface configured with QinQ stacking, the igmp-snooping enable command fails to be run in theVSI. If the igmp-snooping enable command is run in a VSI, the VSI cannot be bound to a L2VE interface configured with QinQ stacking.<p></p>
If a VSI is bound to a L2VE sub-interface configured with QinQ mapping, the igmp-snooping enable command fails to be run in theVSI. If the igmp-snooping enable command is run in a VSI, the VSI cannot be bound to a L2VE sub-interface configured with QinQ mapping.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001176372646__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable IGMP snooping in VSI v1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mpls</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mpls] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mpls l2vpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-l2vpn] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>igmp-snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vsi v1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-v1] <strong>pwsignal ldp</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-v1-ldp] <strong>vsi-id 123</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-v1-ldp] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-v1] <strong>igmp-snooping enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_Layer_2_Multicast_Commands_title.html">Layer 2 Multicast Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/igmp-snooping-inst-enable(L2MCOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/igmp-snooping-sys-enable_1(L2MCOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>