
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="igmp-snooping static-router-port (VSI view)">
<meta name="DC.subject" content="igmp-snooping static-router-port (VSI view)">
<meta name="keywords" content="igmp-snooping static-router-port (VSI view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_Layer_2_Multicast_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/igmp-snooping-static-rtpt-bdac(L2MCOM).html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/igmp-snooping-static-rtport(L2MCOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_L2MCOM">
<meta name="DC.Creator" content="SUBSYS_ID_L2MCOM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="hKF77426">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001176054190">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>igmp-snooping static-router-port (VSI view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001176054190"></a><a name="EN-US_CLIREF_0000001176054190"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">igmp-snooping static-router-port (VSI view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001176054190__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">igmp-snooping static-router-port</span></b> command configures a static router port.</p>
<p>The <b><span class="cmdname">undo igmp-snooping static-router-port</span></b> command cancels the configuration.</p>
</p>
<p>By default, a dynamic router port is used.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001176054190__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">igmp-snooping static-router-port remote-peer </span></b><i><span class="varname">ip-address</span></i> [ <strong><span>negotiation-vc-id</span></strong> <i><span class="varname">vc-id</span></i> ]</p>


<p><b><span class="cmdname">igmp-snooping static-router-port remote-peer </span></b><i><span class="varname">ip-address</span></i> <strong><span>bgp-ad</span></strong></p>

<p><b><span class="cmdname">undo igmp-snooping static-router-port remote-peer </span></b><i><span class="varname">ip-address</span></i> [ <strong><span>negotiation-vc-id</span></strong> <i><span class="varname">vc-id</span></i> ]</p>


<p><b><span class="cmdname">undo igmp-snooping static-router-port remote-peer </span></b><i><span class="varname">ip-address</span></i> <strong><span>bgp-ad</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001176054190__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>negotiation-vc-id</span></strong> <i><span class="varname">vc-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the unique identifier of a VC.<p>negotiation-vc-id.</p>
<p>vc-id and.</p>
<p>remote-peer.</p>
<p>ip-address work together to identify a PW. By default,</p>
<p>vc-id is the VSI ID.</p>
</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 4294967295.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>remote-peer</span></strong> <i><span class="varname">ip-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IP address of a remote peer.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>bgp-ad</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the VSI PW to use BGP-AD as a signalling negotiation protocol.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001176054190__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p>VSI-AUTO view, VSI-BD view, VSI-DEFAULT view, VSI-STATIC view</p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001176054190__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001176054190__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">l2mc</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001176054190__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If user hosts need to receive multicast data packets from a port for a long period of time, the igmp-snooping static-router-port command can be used to configure the port as a static router port.<p></p>
Static router ports can be configured on different positions on a network to enable user hosts to regularly receive data for specific multicast groups or source-specific multicast groups. The commands listed in the following table can be run in any order. Run one or more commands as required to configure static router ports. For details, see Table 1.</p>
<p><strong>Prerequisites</strong></p>
<p><p>IGMP snooping has been configured globally and in a VLAN/VSI/BD.</p>
</p>
<p><strong>Configuration Impact</strong></p>
<p><p>A static router port does not age. To delete a static router port, you must run the undo igmp-snooping static-router-port command.<p></p>
If the igmp-snooping static-router-port command is run more than once, all configurations take effect.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001176054190__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">


<div class="p"># When LDP is used as a signaling negotiation protocol, configure a PW interface as a router port in a VSI named vsi0.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mpls</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mpls] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mpls l2vpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-l2vpn] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vsi vsi0</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi0] <strong>pwsignal ldp</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi0-ldp] <strong>vsi-id 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi0-ldp] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi0] <strong>igmp-snooping static-router-port remote-peer 3.3.3.3</strong>
</pre>
</div>

<div class="p"># When BGP-AD is used as a signaling negotiation protocol, configure a PW interface as a router port in a VSI named VSIvsi0.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>vsi vsi0</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi0] <strong>bgp-ad</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi0-bgpad] <strong>vpls-id 1:1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi0-bgpad] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi0] <strong>inclusive-provider-tunnel</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi0-inclusive] <strong>leaf</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi0-inclusive-leaf] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi0-inclusive] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi0] <strong>igmp-snooping static-router-port remote-peer 3.3.3.3 bgp-ad</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_Layer_2_Multicast_Commands_title.html">Layer 2 Multicast Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/igmp-snooping-static-rtpt-bdac(L2MCOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/igmp-snooping-static-rtport(L2MCOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>