
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="mld-snooping ssm-mapping (VSI view)">
<meta name="DC.subject" content="mld-snooping ssm-mapping (VSI view)">
<meta name="keywords" content="mld-snooping ssm-mapping (VSI view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_Layer_2_Multicast_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/mld-snooping-ssm-mapping-vlan(L2MCOM).html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/mld-snooping-vsi-enable_11(L2MCOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_L2MCOM">
<meta name="DC.Creator" content="SUBSYS_ID_L2MCOM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="cWX1082228">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001176372780">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>mld-snooping ssm-mapping (VSI view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001176372780"></a><a name="EN-US_CLIREF_0000001176372780"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">mld-snooping ssm-mapping (VSI view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001176372780__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">mld-snooping ssm-mapping</span></b> command configures the mapping between an any-source multicast group address in the source-specific multicast (SSM) range and a multicast source address.</p>
<p>The <b><span class="cmdname">undo mld-snooping ssm-mapping</span></b> command deletes a configured mapping.</p>
</p>
<p>By default, no mapping is configured between an any-source multicast group address in the SSM range and a multicast source address.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001176372780__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">mld-snooping ssm-mapping </span></b><i><span class="varname">group-address</span></i> <i><span class="varname">mask-length</span></i> <i><span class="varname">source-address</span></i></p>

<p><b><span class="cmdname">undo mld-snooping ssm-mapping </span></b><i><span class="varname">group-address</span></i> <i><span class="varname">mask-length</span></i> <i><span class="varname">source-address</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001176372780__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">group-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an IPv6 multicast group address in the SSM range.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X. And the value must be within the group address range defined in the SSM policy.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">mask-length</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the mask length of an IPv6 multicast group address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 16 to 128.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">source-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an IPv6 multicast source address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001176372780__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p>VSI-AUTO view, VSI-BD view, VSI-DEFAULT view, VSI-STATIC view</p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001176372780__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001176372780__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">l2mc</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001176372780__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>The SSM mapping mechanism is used to convert MLDv1 Report messages into messages with (S, G) information. This mechanism enables hosts that do not support MLDv2 to enjoy SSM services. After a mapping is configured between a multicast group G and multicast source addresses such as S1 and S2, the device checks the group addresses of received MLDv1 Report messages. If the group addresses are in the SSM group address range, the device converts the messages into one or multiple MLDv2 IS_IN (S1, S2......) messages with the group address being G.</p>
<p><strong>Precautions</strong></p>
<p><p>SSM mapping has been enabled using the mld-snooping ssm-mapping enable command.<p></p>
If an SSM mapping policy is configured using the mld-snooping ssm-mapping enable [ policy &lt;POLICY-NAME&gt;] command, the mld-snooping ssm-mapping command cannot be run to configure SSM source/group address mapping entries.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001176372780__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># In VSI vsi1, configure a mapping between the multicast group address FF33::1 and source address 2::2.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mpls</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mpls] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mpls l2vpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-l2vpn] <strong>quit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mld-snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vsi vsi1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi1] <strong>pwsignal ldp</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi1-ldp] <strong>vsi-id 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi1-ldp] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi1] <strong>mld-snooping ssm-mapping FF33::1 64 2::2</strong>
</pre>
</div>

<div class="p"># In VLAN10, configure a mapping between the multicast group address FF32::1 and the source address 1::1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mld-snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vlan 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vlan10] <strong>mld-snooping ssm-mapping FF32::1 64 1::1</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_Layer_2_Multicast_Commands_title.html">Layer 2 Multicast Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/mld-snooping-ssm-mapping-vlan(L2MCOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/mld-snooping-vsi-enable_11(L2MCOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>