
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="mld-snooping querier-election (VSI view)">
<meta name="DC.subject" content="mld-snooping querier-election (VSI view)">
<meta name="keywords" content="mld-snooping querier-election (VSI view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_Layer_2_Multicast_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/mld-snooping-inst-enable_21(L2MCOM).html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/mld-snooping-inst-enable_7(L2MCOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_L2MCOM">
<meta name="DC.Creator" content="SUBSYS_ID_L2MCOM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="hKF77426">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001176054254">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>mld-snooping querier-election (VSI view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001176054254"></a><a name="EN-US_CLIREF_0000001176054254"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">mld-snooping querier-election (VSI view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001176054254__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">mld-snooping querier-election</span></b> command enables the querier election function.</p>
<p>The <b><span class="cmdname">undo mld-snooping querier-election</span></b> command disables the querier election function.</p>
</p>
<p>By default, querier election is disabled for a VLAN/VSI.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001176054254__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">mld-snooping querier-election</span></b></p>

<p><b><span class="cmdname">undo mld-snooping querier-election</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001176054254__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001176054254__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p>VSI-AUTO view, VSI-BD view, VSI-DEFAULT view, VSI-STATIC view</p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001176054254__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001176054254__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">l2mc</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001176054254__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If queriers are enabled on multiple devices in the same VLAN/VSI, run the mld-snooping querier-election command to elect a device that sends MLD Query messages with the minimum source IP address as the querier, thus freeing the upstream device from sending Query messages to users. To set source IP addresses for MLD Query messages, run the mld-snooping send-query source-address command. By default, the source IP addresses of MLD Query messages are FF80::.</p>
<p><strong>Prerequisites</strong></p>
<p><p>The querier function has been enabled for a VLAN/VSI using the mld-snooping querier enable command. Otherwise, the querier election function does not take effect.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001176054254__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable the querier election function for VLAN 10.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mld-snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vlan 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vlan10] <strong>mld-snooping querier-election</strong>
</pre>
</div>

<div class="p"># Enable the querier election function for VSI vsi0.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mpls</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mpls] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mpls l2vpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-l2vpn] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vsi vsi0</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi0] <strong>pwsignal ldp</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi0-ldp] <strong>vsi-id 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi0-ldp] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-vsi0] <strong>mld-snooping querier-election</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_Layer_2_Multicast_Commands_title.html">Layer 2 Multicast Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/mld-snooping-inst-enable_21(L2MCOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/mld-snooping-inst-enable_7(L2MCOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>