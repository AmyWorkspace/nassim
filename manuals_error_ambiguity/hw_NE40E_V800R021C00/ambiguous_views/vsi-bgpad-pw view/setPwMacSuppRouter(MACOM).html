
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="{ unknown-unicast-suppression | broadcast-suppression | multicast-suppression | unicast-suppression } cir (VSI-BGP-PW view)">
<meta name="DC.subject" content="{ unknown-unicast-suppression | broadcast-suppression | multicast-suppression | unicast-suppression } cir (VSI-BGP-PW view)">
<meta name="keywords" content="{ unknown-unicast-suppression | broadcast-suppression | multicast-suppression | unicast-suppression } cir (VSI-BGP-PW view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_Layer_2_Traffic_Suppression_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/setSubIfMacSuppRouter(MACOM).html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/setVsiMacSuppRouter(MACOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_MACOM">
<meta name="DC.Creator" content="SUBSYS_ID_MACOM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="cWX1082228">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001176216630">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>{ unknown-unicast-suppression | broadcast-suppression | multicast-suppression | unicast-suppression } cir (VSI-BGP-PW view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001176216630"></a><a name="EN-US_CLIREF_0000001176216630"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">{ unknown-unicast-suppression | broadcast-suppression | multicast-suppression | unicast-suppression } cir (VSI-BGP-PW view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001176216630__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">broadcast-suppression</span></b> command configures the maximum volume of broadcast traffic that a VSI PW forwards.</p>
<p>The <b><span class="cmdname">undo broadcast-suppression</span></b> command restores the default configuration.</p>
<p>The <b><span class="cmdname">multicast-suppression</span></b> command configures the maximum volume of multicast traffic that a VSI PW forwards.</p>
<p>The <b><span class="cmdname">undo multicast-suppression</span></b> command restores the default configuration.</p>
<p>The <b><span class="cmdname">unknown-unicast-suppression</span></b> command configures the maximum volume of unknown unicast traffic that a VSI PW forwards.</p>
<p>The <b><span class="cmdname">undo unknown-unicast-suppression</span></b> command restores the default configuration.</p>
<p>The <b><span class="cmdname">unicast-suppression</span></b> command configures the maximum volume of unicast traffic that a VSI PW forwards.</p>
</p>
<p>By default, unknown unicast, broadcast, unicast, and multicast traffic transmitted over a VSI PW are not suppressed.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001176216630__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname"></span></b>{ <strong><span>unknown-unicast-suppression</span></strong> | <strong><span>broadcast-suppression</span></strong> | <strong><span>multicast-suppression</span></strong> } <strong><span>cir</span></strong> <i><span class="varname">cirVal</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbsVal</span></i> ]</p>

<p><b><span class="cmdname">unicast-suppression cir </span></b><i><span class="varname">cirVal</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbsVal</span></i> ]</p>

<p><b><span class="cmdname">undo </span></b>{ <strong><span>unknown-unicast-suppression</span></strong> | <strong><span>broadcast-suppression</span></strong> | <strong><span>multicast-suppression</span></strong> } [ <strong><span>cir</span></strong> <i><span class="varname">cirVal</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbsVal</span></i> ] ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001176216630__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cir</span></strong> <i><span class="varname">cirVal</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the committed information rate (CIR), namely, maximum rate at which multicast traffic is forwarded.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 100 to 4294967295, in kbit/s.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cbs</span></strong> <i><span class="varname">cbsVal</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the Committed Burst Size (CBS), which is the depth of the first token bucket.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is an integer ranging from 100 to 4294967295, in bytes.</p>
<p>The default value is determined by cir-value:</p>
<ul><li>If cir-value is less than 100000 kbit/s, the default value of cbs-value equals cir-value x (1500/8), in bytes.</li><li>If cir-value is greater than or equal to 100000 kbit/s, the default value of cbs-value equals 100000 x (1500/8), in bytes.</li></ul>
</div>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001176216630__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p>VSI-BGP-PW view, vsi-bgpad-pw view, VSI-LDP-PW view</p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001176216630__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001176216630__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">mac</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001176216630__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If unknown unicast, broadcast, unicast, or multicast traffic mounts on a network, the traffic consumes a great amount of network bandwidth, deteriorating network performance.<p></p>
To prevent an unknown unicast, broadcast, unicast, or multicast traffic storm, run the { unknown-unicast-suppression | broadcast-suppression | unicast-suppression | multicast-suppression } cir command to restrict the rate of VSI unknown unicast, broadcast, unicast, or multicast traffic sent from PW to PW or from PW to AC. If the unknown unicast, broadcast, unicast, or multicast traffic volume exceeds the cirVal, the system discards the excessive unknown unicast, broadcast, unicast, or multicast traffic.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001176216630__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the CIR to 100 kbit/s and CBS to 18800 bytes for unknown unicast traffic over PW 1 configured with LDP in a VSI.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mpls</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mpls] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mpls l2vpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-l2vpn] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vsi 1 static</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-1] <strong>pwsignal ldp</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-1-ldp] <strong>vsi-id 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-1-ldp] <strong>peer 1.1.1.1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-1-ldp] <strong>peer 1.1.1.1 pw pw1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-1-ldp-pw-pw1] <strong>unknown-unicast-suppression cir 100 cbs 18800</strong>
</pre>
</div>

<div class="p"># Set the CIR to 100 kbit/s and CBS to 18800 bytes for multicast traffic over PW 1 configured with LDP in a VSI.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mpls</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mpls] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mpls l2vpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-l2vpn] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vsi 1 static</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-1] <strong>pwsignal ldp</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-1-ldp] <strong>vsi-id 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-1-ldp] <strong>peer 1.1.1.1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-1-ldp] <strong>peer 1.1.1.1 pw pw1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-1-ldp-pw-pw1] <strong>multicast-suppression cir 100 cbs 18800</strong>
</pre>
</div>

<div class="p"># Set the CIR to 100 kbit/s and CBS to 18800 bytes for broadcast traffic over PW 1 configured with LDP in a VSI.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mpls</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mpls] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mpls l2vpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-l2vpn] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vsi 1 static</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-1] <strong>pwsignal ldp</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-1-ldp] <strong>vsi-id 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-1-ldp] <strong>peer 1.1.1.1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-1-ldp] <strong>peer 1.1.1.1 pw pw1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vsi-1-ldp-pw-pw1] <strong>broadcast-suppression cir 100 cbs 18800</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_Layer_2_Traffic_Suppression_Commands_title.html">Layer 2 Traffic Suppression Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/setSubIfMacSuppRouter(MACOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/setVsiMacSuppRouter(MACOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>