
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="peer (VPN instance anycast-RP view/Public network instance Anycast-RP view)">
<meta name="DC.subject" content="peer (VPN instance anycast-RP view/Public network instance Anycast-RP view)">
<meta name="keywords" content="peer (VPN instance anycast-RP view/Public network instance Anycast-RP view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_IPv4_PIM_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/pim-rpf-vector-hop(PIMOM).html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/pim-ipv4(PIMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_PIMOM">
<meta name="DC.Creator" content="SUBSYS_ID_PIMOM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="cWX1082228">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001176054654">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>peer (VPN instance anycast-RP view/Public network instance Anycast-RP view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001176054654"></a><a name="EN-US_CLIREF_0000001176054654"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">peer (VPN instance anycast-RP view/Public network instance Anycast-RP view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001176054654__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">peer</span></b> command configures an anycast-rendezvous point (Anycast-RP) peer address.</p>
<p>The <b><span class="cmdname">undo peer</span></b> command deletes an Anycast-RP peer address.</p>
</p>
<p>By default, no Anycast-RP peer address is configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001176054654__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">peer </span></b><i><span class="varname">peer-address</span></i> <strong><span>fwd-msdp-sa</span></strong> [ <i><span class="varname">acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> ]</p>

<p><b><span class="cmdname">peer </span></b><i><span class="varname">peer-address</span></i></p>

<p><b><span class="cmdname">undo peer </span></b><i><span class="varname">peer-address</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001176054654__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">peer-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an Anycast-RP peer address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>fwd-msdp-sa</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables a local RP to send to Anycast-RP peers the Register messages that are encapsulated using source/group information extracted from received Multicast Source Discovery Protocol (MSDP) source active (SA) messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">acl-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the range of multicast groups to which an MSDP SA message can be forwarded. AclNum specifies an ACL number.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 2000 to 3999.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the range of multicast groups to which an MSDP SA message can be forwarded. AclName specifies an ACL name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 64 case-sensitive characters without spaces. The value must start with a letter (a to z or A to Z, case sensitive).</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001176054654__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p>VPN instance anycast-RP view, Public network instance Anycast-RP view</p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001176054654__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001176054654__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">pim</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001176054654__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>If PIM Anycast-RP is configured, after an RP receives a Register message from a source designated router (DR), the RP checks the source address of the Register message. If the Register message is sent by the source DR, the RP forwards the Register message to Anycast-RP peers; if the Register message is sent by an Anycast RP peer, the Register message is not forwarded.<p></p>
When forwarding a Register message, the RP needs to replace the source address of the Register message with the local address of the Anycast RP and replace the destination address of the Register message with the address of the Anycast RP peer. In such a manner, Anycast RP peers can learn source/group information from each other.  This command is used to configure an anycast RP peer address to replace the destination address of the Register message.<p></p>
To obtain information about the multicast source and group outside the PIM domain, use either of the following methods:</p>

<ul><li>MSDP peer relationships are set up between members of the anycast RP set and external devices.</li><li>RPs in an anycast RP set are classified into two types: RPs that have set up MSDP peer relationships with other devices and RPs that do not set up MSDP peer relationships with other devices. When RPs that have set up MSDP peer relationships with other devices receive MSDP SA messages, they convert the messages into Register messages and send the Register messages to the RPs that have not set up MSDP peer relationships.</li></ul>
</div>
<p><strong>Precautions</strong></p>
<p><p>You can specify a maximum of 16 Anycast-RP peers for each Anycast-RP.<p></p>
In a PIM-SM domain, an Anycast-RP peer relationship must be established between every two devices deployed with Anycast-RP to implement full connections.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001176054654__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># In the public network instance, specify 2.2.2.2 as the Anycast-RP peer address for the Anycast-RP address 3.3.3.3 , and enable the local RP to forward MSDP SA messages to its peers.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>pim</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-pim] <strong>anycast-rp 3.3.3.3</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-pim-anycast-rp-3.3.3.3] <strong>peer 2.2.2.2 fwd-msdp-sa</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_IPv4_PIM_Configuration_Commands_title.html">IPv4 PIM Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/pim-rpf-vector-hop(PIMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/pim-ipv4(PIMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>