
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="operation-type (PW-FPS view)">
<meta name="DC.subject" content="operation-type (PW-FPS view)">
<meta name="keywords" content="operation-type (PW-FPS view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/dc_VPWS_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/vsi-mtu(VPLSCOMM).html">
<meta name="DC.Relation" scheme="URI" content="../../command/8090/pw-template-payload-compression(VPWSCOMM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R21C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20220226">
<meta name="Owner" content="SUBSYS_ID_VPWSCOMM">
<meta name="DC.Creator" content="SUBSYS_ID_VPWSCOMM">
<meta name="Platform" content="VRP-V800R021C00">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00584284">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001246212101">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/browseVersion.js"></script>
<title>operation-type (PW-FPS view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001246212101"></a><a name="EN-US_CLIREF_0000001246212101"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">operation-type (PW-FPS view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001246212101__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">operation-type</span></b> command configures the switchback mode for a PW APS instance.</p>
<p>The <b><span class="cmdname">undo operation-type</span></b> command restores the default switchback mode for a PW APS instance.</p>
</p>
<p>By default, a PW APS instance is in revertive mode.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001246212101__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">operation-type </span></b>{ <strong><span>non-revertive</span></strong> | <strong><span>revertive</span></strong> }</p>

<p><b><span class="cmdname">undo operation-type</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001246212101__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>non-revertive</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that a PW APS instance is in non-revertive mode.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>revertive</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that a PW APS instance is in revertive mode.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001246212101__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p>PW-APS view, PW-FPS view</p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001246212101__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>

<div class="clitasknameandoper"><a name="EN-US_CLIREF_0000001246212101__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Task Name and Operations</h2>
<div class="clitasknameandoperbody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.1">Task Name</th>
<th valign="bottom" align="left" id="mcps1.3.6.1.1.2">Operations</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.6.1-type">l2vpn</td>
<td valign="top" headers="mcps1.3.6.1-value">write</td>
</tr>

</table></div>

</div></div>

<div class="clidesc"><a name="EN-US_CLIREF_0000001246212101__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>By default, a PW APS instance is in revertive mode. When the fault on the working path is rectified, traffic is switched back to the working path. To maintain service topology stability by reducing the number of switching times, run the<p></p>
<b><span class="cmdname">operation-type</span></b> command to configure the switchback mode for a PW APS instance to non-revertive:</p>

<ul><li>In non-revertive mode, if traffic travels along the protection path, traffic will not be switched to the working path even if the working path is normal and no switching command is run.</li><li>In revertive mode, if traffic travels along the protection path, traffic will be switched back to the working path when the working path recovers (provided that no switching command is run).</li></ul>
<p><strong>Prerequisites</strong></p>
<p><p>A PW APS instance has been created using the <b><span class="cmdname">pw-aps</span></b> command.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001246212101__1.3.8"></a><a name="1.3.8"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure the switchback mode for a PW APS instance as non-revertive.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mpls</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mpls] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mpls l2vpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-l2vpn] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>pw-aps 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-pw-aps-1] <strong>operation-type non-revertive</strong>
</pre>
</div>

<div class="p"># Configure the switchback mode for a PW APS instance as non-revertive in single-ended PW APS mode.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mpls</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mpls] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mpls l2vpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-l2vpn] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>pw-aps 1 frr</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-pw-aps-1] <strong>operation-type non-revertive</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../command/8090/dc_VPWS_Configuration_Commands_title.html">VPWS Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../command/8090/vsi-mtu(VPLSCOMM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../command/8090/pw-template-payload-compression(VPWSCOMM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>