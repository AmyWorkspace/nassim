<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><title>7.29.&#xa0;LDP Command Reference</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="../css/reset.css"/>
<link rel="stylesheet" type="text/css" href="../css/nokiaBase.css"/>
<script src="../jquery/jquery-1.4.min.js" type="text/javascript" charset="utf-8">//  // </script>
<script type="text/javascript" src="../jquery/script.js">//  // </script>
<script type="text/javascript" src="../scripts/content.js"></script>
<script type="text/javascript" src="../scripts/keyboard.js"></script>
<script type="text/javascript" src="../scripts/feedback.js"></script>
</head><body onload="changeName('com.sr.mpls-ldp_cli');highlightSearchTerms()"><div class="Sections"><div class="S" id="d2e10"><h1 class="ttlS">7.29.&#xa0;LDP Command Reference</h1><div class="Ss" id="d2e14"><h2 class="ttlSs">7.29.1.&#xa0;Command Hierarchies</h2><div class="divList"><ol class="Bullet"><li><div class="Item"><a href="#addamr5iexw81so9g" class="RefNum">LDP Commands</a></div></li>
</ol>
</div><div class="Sss" id="addamr5iexw81so9g"><h3 class="ttlSss">7.29.1.1.&#xa0;LDP Commands</h3><div class="CLICLI"><div class="Level0">config</div><div class="Level1">&#x2014; router</div><div class="Level2">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfko" class="RefCommand">ldp</a></div><div class="Level3">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfl0" class="RefCommand">aggregate-prefix-match</a></div><div class="Level4">&#x2014; <a href="#addamr5iexw82sfl4" class="RefCommand">prefix-exclude</a> <span class="FmtEmphasis" style="font-weight:normal;">policy-name <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span></span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span>...<span class="FmtNone" style="font-weight:normal;font-style:normal;">(</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">up to 5 max</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">)</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level4">&#x2014; no <a href="#addamr5iexw82sfl4" class="RefCommand">prefix-exclude</a></div><div class="Level4">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfkw" class="RefCommand">shutdown</a></div><div class="Level3">&#x2014; <a href="#addamr5iexw82sfl8" class="RefCommand">class-forwarding</a> <span class="FmtBold" style="font-style:normal;">cbf-mode </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span><span class="FmtBold" style="font-style:normal;">lsr</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> <span class="FmtBold" style="font-style:normal;">ler </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> <span class="FmtBold" style="font-style:normal;">lsr-and-ler</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level3">&#x2014; no <a href="#addamr5iexw82sfl8" class="RefCommand">class-forwarding</a> </div><div class="Level3">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#BABBIDGG" class="RefCommand">consider-system-ip-in-gep</a></div><div class="Level3">&#x2014; <a href="#addamr5iexw82sflc" class="RefCommand">egress-statistics</a></div><div class="Level4">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sflg" class="RefCommand">fec-prefix</a><span class="FmtEmphasis" style="font-weight:normal;"> ip-prefix<span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>/mask<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></span></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sflk" class="RefCommand">accounting-policy</a> <span class="FmtEmphasis" style="font-weight:normal;">policy-id</span></div><div class="Level5">&#x2014; no <a href="#addamr5iexw82sflk" class="RefCommand">accounting-policy</a></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sflo" class="RefCommand">collect-stats</a></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfkw" class="RefCommand">shutdown</a></div><div class="Level3">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="mpls_cli.html#hedrewet5ii73rbl0xk" class="RefCommand">entropy-label-capability</a></div><div class="Level3">&#x2014; <a href="#addamr5iexw82sfls" class="RefCommand">export</a> <span class="FmtEmphasis" style="font-weight:normal;">policy-name</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span>...<span class="FmtNone" style="font-weight:normal;font-style:normal;">(</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">up to 5 max</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">)</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level3">&#x2014; no <a href="#addamr5iexw82sfls" class="RefCommand">export</a></div><div class="Level3">&#x2014; <a href="#addamr5iexw82sfm0" class="RefCommand">export-tunnel-table</a> <span class="FmtEmphasis" style="font-weight:normal;">policy-name</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">...(up to 5 max)]</span></div><div class="Level3">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfm0" class="RefCommand">export-tunnel-table</a> <span class="FmtEmphasis" style="font-weight:normal;">policy-name</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">...(up to 5 max)]</span></div><div class="Level3">&#x2014; <a href="#addamr5iexw82sflw" class="RefCommand">fast-reroute</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>backup-sr-tunnel<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level3">&#x2014; <span class="FmtBold" style="font-style:normal;">no</span> <a href="#addamr5iexw82sflw" class="RefCommand">fast-reroute</a></div><div class="Level3">&#x2014; <a href="#addamr5iexw82sfm8" class="RefCommand">fec-originate</a> <span class="FmtEmphasis" style="font-weight:normal;">ip-prefix/mask</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">advertised-label</span> <span class="FmtEmphasis" style="font-weight:normal;">in-label</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">swap-label</span> <span class="FmtEmphasis" style="font-weight:normal;">out-label</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> interface <span class="FmtEmphasis" style="font-weight:normal;">interface-name</span></div><div class="Level3">&#x2014; <a href="#addamr5iexw82sfm8" class="RefCommand">fec-originate</a> <span class="FmtEmphasis" style="font-weight:normal;">ip-prefix/mask</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">advertised-label</span> <span class="FmtEmphasis" style="font-weight:normal;">in-label</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <span class="FmtBold" style="font-style:normal;">next-hop</span> <span class="FmtEmphasis" style="font-weight:normal;">ip-address</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">swap-label</span> <span class="FmtEmphasis" style="font-weight:normal;">out-label</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level3">&#x2014; <a href="#addamr5iexw82sfm8" class="RefCommand">fec-originate</a> <span class="FmtEmphasis" style="font-weight:normal;">ip-prefix/mask</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">advertised-label</span> <span class="FmtEmphasis" style="font-weight:normal;">in-label</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <span class="FmtBold" style="font-style:normal;">next-hop</span> <span class="FmtEmphasis" style="font-weight:normal;">ip-address</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">swap-label</span> <span class="FmtEmphasis" style="font-weight:normal;">out-label</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> interface <span class="FmtEmphasis" style="font-weight:normal;">interface-name</span></div><div class="Level3">&#x2014; <a href="#addamr5iexw82sfm8" class="RefCommand">fec-originate</a> <span class="FmtEmphasis" style="font-weight:normal;">ip-prefix/mask</span><span class="FmtBold" style="font-style:normal;"> </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">advertised-label</span> <span class="FmtEmphasis" style="font-weight:normal;">in-label</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <span class="FmtBold" style="font-style:normal;">pop</span></div><div class="Level3">&#x2014; no <a href="#addamr5iexw82sfm8" class="RefCommand">fec-originate</a> <span class="FmtEmphasis" style="font-weight:normal;">ip-prefix/mask</span><span class="FmtBold" style="font-style:normal;"> </span>interface <span class="FmtEmphasis" style="font-weight:normal;">interface-name</span></div><div class="Level3">&#x2014; no <a href="#addamr5iexw82sfm8" class="RefCommand">fec-originate</a> <span class="FmtEmphasis" style="font-weight:normal;">ip-prefix/mask</span><span class="FmtBold" style="font-style:normal;"> next-hop </span><span class="FmtEmphasis" style="font-weight:normal;">ip-address </span></div><div class="Level3">&#x2014; no <a href="#addamr5iexw82sfm8" class="RefCommand">fec-originate</a> <span class="FmtEmphasis" style="font-weight:normal;">ip-prefix/mask</span><span class="FmtBold" style="font-style:normal;"> next-hop </span><span class="FmtEmphasis" style="font-weight:normal;">ip-address </span>interface <span class="FmtEmphasis" style="font-weight:normal;">interface-name</span></div><div class="Level3">&#x2014; no <a href="#addamr5iexw82sfm8" class="RefCommand">fec-originate</a> <span class="FmtEmphasis" style="font-weight:normal;">ip-prefix/mask</span><span class="FmtBold" style="font-style:normal;"> pop</span></div><div class="Level3">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#BABIJFBG" class="RefCommand">generate-basic-fec-only</a></div><div class="Level3">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfmg" class="RefCommand">graceful-restart</a> </div><div class="Level4">&#x2014; <a href="#addamr5iexw82sfmo" class="RefCommand">maximum-recovery-time</a> <span class="FmtEmphasis" style="font-weight:normal;">interval</span></div><div class="Level4">&#x2014; no <a href="#addamr5iexw82sfmo" class="RefCommand">maximum-recovery-time</a></div><div class="Level4">&#x2014; <a href="#addamr5iexw82sfms" class="RefCommand">neighbor-liveness-time</a> <span class="FmtEmphasis" style="font-weight:normal;">interval</span></div><div class="Level4">&#x2014; no <a href="#addamr5iexw82sfms" class="RefCommand">neighbor-liveness-time</a></div><div class="Level3">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfmk" class="RefCommand">implicit-null-label</a> </div><div class="Level3">&#x2014; <a href="#addamr5iexw82sfmw" class="RefCommand">import</a> <span class="FmtEmphasis" style="font-weight:normal;">policy-name</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span>...<span class="FmtNone" style="font-weight:normal;font-style:normal;">(</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">up to 5 max</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">)</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level3">&#x2014; <span class="FmtBold" style="font-style:normal;">no </span><a href="#addamr5iexw82sfmw" class="RefCommand">import</a></div><div class="Level3">&#x2014; <a href="#BABBEBCG" class="RefCommand">import-tunnel-table</a> <span class="FmtEmphasis" style="font-weight:normal;">policy-name</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span>...<span class="FmtNone" style="font-weight:normal;font-style:normal;">(</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">up to 5 max</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">)</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level3">&#x2014; no <a href="#BABBEBCG" class="RefCommand">import-tunnel-table</a></div><div class="Level3">&#x2014; <a href="#addamr5iexw82sfnw" class="RefCommand">interface-parameters</a></div><div class="Level3">&#x2014; <span class="FmtBold" style="font-style:normal;">no </span><a href="#addamr5iexw82sfmw" class="RefCommand">import</a></div><div class="Level4">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfog" class="RefCommand">interface</a> <span class="FmtEmphasis" style="font-weight:normal;">ip-int-name</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>dual-stack<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level5">&#x2014; <a href="#addamr1zfgistsyl" class="RefCommand">bfd-enable</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>ipv4<span class="FmtNone" style="font-weight:normal;font-style:normal;">][</span>ipv6<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level5">&#x2014; no <a href="#addamr1zfgistsyl" class="RefCommand">bfd-enable</a></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr1zfgistsyj" class="RefCommand">ipv4</a></div><div class="Level6">&#x2014; <a href="#addamrjual80a1l9" class="RefCommand">fec-type-capability</a></div><div class="Level7">&#x2014; <a href="#addamrjual80a1lb" class="RefCommand">p2mp-ipv4</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level7">&#x2014; <a href="#addamrjual80a1lc" class="RefCommand">p2mp-ipv6</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level7">&#x2014; <a href="#addamrjual80a1le" class="RefCommand">prefix-ipv4</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level7">&#x2014; <a href="#addamrjual80a1lf" class="RefCommand">prefix-ipv6</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level6">&#x2014; <a href="#addamr5iexw82sfo8" class="RefCommand">hello</a> <span class="FmtEmphasis" style="font-weight:normal;">timeout factor</span></div><div class="Level6">&#x2014; <span class="FmtBold" style="font-style:normal;">no </span><a href="#addamr5iexw82sfo8" class="RefCommand">hello</a></div><div class="Level6">&#x2014; <a href="#addamr5iexw82sfnc" class="RefCommand">keepalive</a> <span class="FmtEmphasis" style="font-weight:normal;">timeout factor</span></div><div class="Level6">&#x2014; <span class="FmtBold" style="font-style:normal;">no </span><a href="#addamr5iexw82sfnc" class="RefCommand">keepalive</a></div><div class="Level6">&#x2014; <a href="#addamr5iexw82sfnk" class="RefCommand">local-lsr-id</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span><span class="FmtBold" style="font-style:normal;">system</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> <span class="FmtBold" style="font-style:normal;">interface <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> interface-name <span class="FmtEmphasis" style="font-weight:normal;">interface-name</span></span><span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level6">&#x2014; <span class="FmtBold" style="font-style:normal;">no </span><a href="#addamr5iexw82sfnk" class="RefCommand">local-lsr-id</a></div><div class="Level6">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfkw" class="RefCommand">shutdown</a></div><div class="Level6">&#x2014; <a href="#addamr1zfgistsyn" class="RefCommand">transport-address</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span><span class="FmtBold" style="font-style:normal;">system</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> <span class="FmtBold" style="font-style:normal;">interface</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level6">&#x2014; no <a href="#addamr1zfgistsyn" class="RefCommand">transport-address</a></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr1zfgistsyk" class="RefCommand">ipv6</a></div><div class="Level6">&#x2014; <a href="#addamrjual80a1l9" class="RefCommand">fec-type-capability</a></div><div class="Level7">&#x2014; <a href="#addamrjual80a1lb" class="RefCommand">p2mp-ipv4</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level7">&#x2014; <a href="#addamrjual80a1lc" class="RefCommand">p2mp-ipv6</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level7">&#x2014; <a href="#addamrjual80a1le" class="RefCommand">prefix-ipv4</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level7">&#x2014; <a href="#addamrjual80a1lf" class="RefCommand">prefix-ipv6</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level6">&#x2014; <a href="#addamr5iexw82sfo8" class="RefCommand">hello</a> <span class="FmtEmphasis" style="font-weight:normal;">timeout factor</span></div><div class="Level6">&#x2014; <span class="FmtBold" style="font-style:normal;">no </span><a href="#addamr5iexw82sfo8" class="RefCommand">hello</a></div><div class="Level6">&#x2014; <a href="#addamr5iexw82sfnc" class="RefCommand">keepalive</a> <span class="FmtEmphasis" style="font-weight:normal;">timeout factor</span></div><div class="Level6">&#x2014; <span class="FmtBold" style="font-style:normal;">no </span><a href="#addamr5iexw82sfnc" class="RefCommand">keepalive</a></div><div class="Level6">&#x2014; <a href="#addamr5iexw82sfnk" class="RefCommand">local-lsr-id</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span><span class="FmtBold" style="font-style:normal;">system</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> <span class="FmtBold" style="font-style:normal;">interface</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>32bit-format<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level6">&#x2014; <a href="#addamr5iexw82sfnk" class="RefCommand">local-lsr-id</a> <span class="FmtEmphasis" style="font-weight:normal;"><span class="FmtBold" style="font-style:normal;">interface-name</span> interface-name</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> [</span>32bit-format<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level6">&#x2014; <span class="FmtBold" style="font-style:normal;">no </span><a href="#addamr5iexw82sfnk" class="RefCommand">local-lsr-id</a></div><div class="Level6">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfkw" class="RefCommand">shutdown</a></div><div class="Level6">&#x2014; <a href="#addamr1zfgistsyn" class="RefCommand">transport-address</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span><span class="FmtBold" style="font-style:normal;">system</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> <span class="FmtBold" style="font-style:normal;">interface</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level6">&#x2014; no <a href="#addamr1zfgistsyn" class="RefCommand">transport-address</a></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfkw" class="RefCommand">shutdown</a></div><div class="Level4">&#x2014;  <a href="#addamr5iexw82sfo0" class="RefCommand">ipv4</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfo8" class="RefCommand">hello</a> <span class="FmtEmphasis" style="font-weight:normal;">timeout factor</span></div><div class="Level5">&#x2014; <span class="FmtBold" style="font-style:normal;">no </span><a href="#addamr5iexw82sfo8" class="RefCommand">hello</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfnc" class="RefCommand">keepalive</a> <span class="FmtEmphasis" style="font-weight:normal;">timeout factor</span></div><div class="Level5">&#x2014; <span class="FmtBold" style="font-style:normal;">no </span><a href="#addamr5iexw82sfnc" class="RefCommand">keepalive</a></div><div class="Level5">&#x2014; <a href="#addamr1zfgistsyn" class="RefCommand">transport-address</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span><span class="FmtBold" style="font-style:normal;">system </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> <span class="FmtBold" style="font-style:normal;">interface</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span> </div><div class="Level5">&#x2014; <span class="FmtBold" style="font-style:normal;">no </span><a href="#addamr1zfgistsyn" class="RefCommand">transport-address</a></div><div class="Level4">&#x2014;  <a href="#addamr5iexw82sfo4" class="RefCommand">ipv6</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfo8" class="RefCommand">hello</a> <span class="FmtEmphasis" style="font-weight:normal;">timeout factor</span></div><div class="Level5">&#x2014; <span class="FmtBold" style="font-style:normal;">no </span><a href="#addamr5iexw82sfo8" class="RefCommand">hello</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfnc" class="RefCommand">keepalive</a> <span class="FmtEmphasis" style="font-weight:normal;">timeout factor</span></div><div class="Level5">&#x2014; <span class="FmtBold" style="font-style:normal;">no </span><a href="#addamr5iexw82sfnc" class="RefCommand">keepalive</a></div><div class="Level5">&#x2014; <a href="#addamr1zfgistsyn" class="RefCommand">transport-address</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span><span class="FmtBold" style="font-style:normal;">system </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> <span class="FmtBold" style="font-style:normal;">interface</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span> </div><div class="Level5">&#x2014; <span class="FmtBold" style="font-style:normal;">no </span><a href="#addamr1zfgistsyn" class="RefCommand">transport-address</a></div><div class="Level3">&#x2014; <a href="#addamr5iexw82sfn0" class="RefCommand">label-withdrawal-delay</a> <span class="FmtEmphasis" style="font-weight:normal;">seconds</span></div><div class="Level3">&#x2014; no <a href="#addamr5iexw82sfn0" class="RefCommand">label-withdrawal-delay</a></div><div class="Level3">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span><a href="#BGBIAFEJ" class="RefCommand">legacy-ipv4-lsr-interop</a></div><div class="Level3">&#x2014; <a href="#BABBDCCE" class="RefCommand">lsp-bfd</a> <span class="FmtEmphasis" style="font-weight:normal;">prefix-list-name</span></div><div class="Level3">&#x2014; no <a href="#BABBDCCE" class="RefCommand">lsp-bfd</a> <span class="FmtEmphasis" style="font-weight:normal;">prefix-list-name</span></div><div class="Level4">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#BABGIHDH" class="RefCommand">bfd-enable</a></div><div class="Level4">&#x2014; <a href="#BABBFJDI" class="RefCommand">bfd-template</a> <span class="FmtEmphasis" style="font-weight:normal;">bfd-template-name</span></div><div class="Level4">&#x2014; no <a href="#BABBFJDI" class="RefCommand">bfd-template</a></div><div class="Level4">&#x2014; <a href="#BABGHECI" class="RefCommand">failure-action</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>down <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> failover<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> </div><div class="Level4">&#x2014; no <a href="#BABGHECI" class="RefCommand">failure-action</a></div><div class="Level4">&#x2014; <a href="#BABIBBGJ" class="RefCommand">lsp-ping-interval</a> <span class="FmtEmphasis" style="font-weight:normal;">seconds</span></div><div class="Level4">&#x2014; no <a href="#BABIBBGJ" class="RefCommand">lsp-ping-interval</a></div><div class="Level4">&#x2014; <a href="#BABHAFGA" class="RefCommand">priority</a> <span class="FmtEmphasis" style="font-weight:normal;">priority-level</span></div><div class="Level4">&#x2014; no <a href="#BABHAFGA" class="RefCommand">priority</a></div><div class="Level4">&#x2014; <a href="#BABICEFD" class="RefCommand">source-address</a> <span class="FmtEmphasis" style="font-weight:normal;">ip-address</span></div><div class="Level4">&#x2014; no <a href="#BABICEFD" class="RefCommand">source-address</a></div><div class="Level3">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span><a href="#BABJIFIH" class="RefCommand">mcast-upstream-asbr-frr</a></div><div class="Level3">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span><a href="#addamr5iexw82sfn4" class="RefCommand">mcast-upstream-frr</a></div><div class="Level3">&#x2014; <a href="#addamrjual80a1ks" class="RefCommand">mp-mbb-time</a> <span class="FmtEmphasis" style="font-weight:normal;">interval</span></div><div class="Level3">&#x2014; no <a href="#addamrjual80a1ks" class="RefCommand">mp-mbb-time</a></div><div class="Level3">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span><a href="#addamrjual80a1lm" class="RefCommand">prefer-tunnel-in-tunnel</a></div><div class="Level3">&#x2014; <a href="#BABBIBBI" class="RefCommand">resolve-root-using</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>ucast-rtm <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> mcast-rtm<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level3">&#x2014; <a href="#addamrjual80a1ku" class="RefCommand">session-parameters</a></div><div class="Level4">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamrjual80a1kv" class="RefCommand">peer</a> <span class="FmtEmphasis" style="font-weight:normal;">ip-address</span></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamrjual80a1kx" class="RefCommand">adv-adj-addr-only</a></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#BABFEIHE" class="RefCommand">adv-local-lsr-id</a></div><div class="Level5">&#x2014; <a href="#BABFCIIE" class="RefCommand">community</a> <span class="FmtEmphasis" style="font-weight:normal;">community-name </span></div><div class="Level5">&#x2014; no <a href="#BABFCIIE" class="RefCommand">community</a></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span><a href="#addamrjual80a1ky" class="RefCommand">dod-label-distribution</a></div><div class="Level5">&#x2014; <a href="#addamrjual80a1l0" class="RefCommand">export-addresses</a> <span class="FmtEmphasis" style="font-weight:normal;">policy-name </span><span class="FmtEmphasis" style="font-weight:normal;"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span></span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span>...<span class="FmtNone" style="font-weight:normal;font-style:normal;">(</span>up to 5 max<span class="FmtNone" style="font-weight:normal;font-style:normal;">)</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level5">&#x2014; no <a href="#addamrjual80a1l0" class="RefCommand">export-addresses</a></div><div class="Level5">&#x2014; <a href="#addamrjual80a1l2" class="RefCommand">export-prefixes</a> <span class="FmtEmphasis" style="font-weight:normal;">policy-name </span><span class="FmtEmphasis" style="font-weight:normal;"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span></span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span>...<span class="FmtNone" style="font-weight:normal;font-style:normal;">(</span>up to 5 max<span class="FmtNone" style="font-weight:normal;font-style:normal;">)</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level5">&#x2014; no <a href="#addamrjual80a1l2" class="RefCommand">export-prefixes</a></div><div class="Level5">&#x2014; <a href="#addamrjual80a1l4" class="RefCommand">fec-limit</a> <span class="FmtEmphasis" style="font-weight:normal;">limit </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>log-only<span class="FmtNone" style="font-weight:normal;font-style:normal;">] [</span>threshold <span class="FmtEmphasis" style="font-weight:normal;">percentage</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level5">&#x2014; <span class="FmtBold" style="font-style:normal;">no</span> <a href="#addamrjual80a1l4" class="RefCommand">fec-limit</a></div><div class="Level5">&#x2014; <a href="#addamrjual80a1l9" class="RefCommand">fec-type-capability</a></div><div class="Level6">&#x2014; <a href="#addamrjual80a1la" class="RefCommand">p2mp</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span><span class="FmtBold" style="font-style:normal;">enable </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> <span class="FmtBold" style="font-style:normal;">disable</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level6">&#x2014; <a href="#addamrjual80a1le" class="RefCommand">prefix-ipv4</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span><span class="FmtBold" style="font-style:normal;">enable </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> <span class="FmtBold" style="font-style:normal;">disable</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level6">&#x2014; <a href="#addamrjual80a1lf" class="RefCommand">prefix-ipv6</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span><span class="FmtBold" style="font-style:normal;">enable </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> <span class="FmtBold" style="font-style:normal;">disable</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamrjual80a1l8" class="RefCommand">fec129-cisco-interop</a></div><div class="Level5">&#x2014; <a href="#addamrjual80a1lg" class="RefCommand">import-prefixes</a> <span class="FmtEmphasis" style="font-weight:normal;">policy-name </span><span class="FmtEmphasis" style="font-weight:normal;"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span></span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span>...<span class="FmtNone" style="font-weight:normal;font-style:normal;">(</span>up to 5 max<span class="FmtNone" style="font-weight:normal;font-style:normal;">)</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level5">&#x2014; <span class="FmtBold" style="font-style:normal;">no </span><a href="#addamrjual80a1lg" class="RefCommand">import-prefixes</a></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamrjual80a1lj" class="RefCommand">pe-id-mac-flush-interop</a></div><div class="Level3">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamrjual80a1lp" class="RefCommand">shortcut-local-ttl-propagate</a></div><div class="Level3">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamrjual80a1ln" class="RefCommand">shortcut-transit-ttl-propagate</a></div><div class="Level3">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfkw" class="RefCommand">shutdown</a></div><div class="Level3">&#x2014; <a href="#addamrjual80a1lr" class="RefCommand">targeted-session</a> </div><div class="Level4">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamrjual80a1lu" class="RefCommand">disable-targeted-session</a></div><div class="Level4">&#x2014; <a href="#addamrjual80a1m2" class="RefCommand">export-prefixes</a> <span class="FmtEmphasis" style="font-weight:normal;">policy-name</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span>...<span class="FmtNone" style="font-weight:normal;font-style:normal;">(</span>up to 5 max<span class="FmtNone" style="font-weight:normal;font-style:normal;">)</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level4">&#x2014; no <a href="#addamrjual80a1m2" class="RefCommand">export-prefixes</a></div><div class="Level4">&#x2014; <a href="#addamrjual80a1m4" class="RefCommand">import-prefixes</a> <span class="FmtEmphasis" style="font-weight:normal;">policy-name</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span>...<span class="FmtNone" style="font-weight:normal;font-style:normal;">(</span>up to 5 max<span class="FmtNone" style="font-weight:normal;font-style:normal;">)</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level4">&#x2014; no <a href="#addamrjual80a1m4" class="RefCommand">import-prefixes</a></div><div class="Level4">&#x2014; <a href="#addamrjual80a1m6" class="RefCommand">ipv4</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfo8" class="RefCommand">hello</a> <span class="FmtEmphasis" style="font-weight:normal;">timeout factor</span></div><div class="Level5">&#x2014; no <a href="#addamr5iexw82sfo8" class="RefCommand">hello</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfoc" class="RefCommand">hello-reduction</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable <span class="FmtEmphasis" style="font-weight:normal;">factor <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> </span>disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level5">&#x2014; no <a href="#addamr5iexw82sfoc" class="RefCommand">hello-reduction</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfnc" class="RefCommand">keepalive</a> <span class="FmtEmphasis" style="font-weight:normal;">timeout factor</span> </div><div class="Level5">&#x2014; no <a href="#addamr5iexw82sfnc" class="RefCommand">keepalive</a></div><div class="Level4">&#x2014; <a href="#addamrjual80a1m7" class="RefCommand">ipv6</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfo8" class="RefCommand">hello</a> <span class="FmtEmphasis" style="font-weight:normal;">timeout factor</span></div><div class="Level5">&#x2014; no <a href="#addamr5iexw82sfo8" class="RefCommand">hello</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfoc" class="RefCommand">hello-reduction</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable <span class="FmtEmphasis" style="font-weight:normal;">factor <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> </span>disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level5">&#x2014; no <a href="#addamr5iexw82sfoc" class="RefCommand">hello-reduction</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfnc" class="RefCommand">keepalive</a> <span class="FmtEmphasis" style="font-weight:normal;">timeout factor</span> </div><div class="Level5">&#x2014; no <a href="#addamr5iexw82sfnc" class="RefCommand">keepalive</a></div><div class="Level4">&#x2014; <a href="#addamrjual80a1lv" class="RefCommand">peer</a> <span class="FmtEmphasis" style="font-weight:normal;">ip-address</span></div><div class="Level4">&#x2014; no <a href="#addamrjual80a1lv" class="RefCommand">peer</a> <span class="FmtEmphasis" style="font-weight:normal;">ip-address</span></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamrjual80a1ls" class="RefCommand">bfd-enable</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfo8" class="RefCommand">hello</a> <span class="FmtEmphasis" style="font-weight:normal;">timeout factor</span></div><div class="Level5">&#x2014; no <a href="#addamr5iexw82sfo8" class="RefCommand">hello</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfoc" class="RefCommand">hello-reduction</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable <span class="FmtEmphasis" style="font-weight:normal;">factor <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> </span>disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level5">&#x2014; no <a href="#addamr5iexw82sfoc" class="RefCommand">hello-reduction</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfnc" class="RefCommand">keepalive</a> <span class="FmtEmphasis" style="font-weight:normal;">timeout factor</span> </div><div class="Level5">&#x2014; no <a href="#addamr5iexw82sfnc" class="RefCommand">keepalive</a></div><div class="Level5">&#x2014; <a href="#BABBDGAE" class="RefCommand">local-lsr-id</a> <span class="FmtEmphasis" style="font-weight:normal;">interface-name</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>32bit-format<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level5">&#x2014; no <a href="#BABBDGAE" class="RefCommand">local-lsr-id</a></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfkw" class="RefCommand">shutdown</a></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfno" class="RefCommand">tunneling</a></div><div class="Level6">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfns" class="RefCommand">lsp</a></div><div class="Level4">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamrjual80a1m1" class="RefCommand">peer-template</a><span class="FmtEmphasis"> </span><span class="FmtEmphasis" style="font-weight:normal;">template-name</span></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#BABFEIHE" class="RefCommand">adv-local-lsr-id</a></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamrjual80a1ls" class="RefCommand">bfd-enable</a></div><div class="Level5">&#x2014; <a href="#BABFCIIE" class="RefCommand">community</a> <span class="FmtEmphasis" style="font-weight:normal;">community-name </span></div><div class="Level5">&#x2014; no <a href="#BABFCIIE" class="RefCommand">community</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfo8" class="RefCommand">hello</a> <span class="FmtEmphasis" style="font-weight:normal;">timeout factor</span></div><div class="Level5">&#x2014; no <a href="#addamr5iexw82sfo8" class="RefCommand">hello</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfoc" class="RefCommand">hello-reduction</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable <span class="FmtEmphasis" style="font-weight:normal;">factor <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> </span>disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Level5">&#x2014; no <a href="#addamr5iexw82sfoc" class="RefCommand">hello-reduction</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfnc" class="RefCommand">keepalive</a> <span class="FmtEmphasis" style="font-weight:normal;">timeout factor</span> </div><div class="Level5">&#x2014; no <a href="#addamr5iexw82sfnc" class="RefCommand">keepalive</a></div><div class="Level5">&#x2014; <a href="#addamr5iexw82sfnk" class="RefCommand">local-lsr-id</a> <span class="FmtEmphasis" style="font-weight:normal;">interface-name</span></div><div class="Level5">&#x2014; no <a href="#addamr5iexw82sfnk" class="RefCommand">local-lsr-id</a></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfkw" class="RefCommand">shutdown</a></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfno" class="RefCommand">tunneling</a></div><div class="Level4">&#x2014; <a href="#addamrjual80a1lx" class="RefCommand">peer-template-map</a><span class="FmtEmphasis" style="font-weight:normal;"> template-name </span>policy <span class="FmtEmphasis" style="font-weight:normal;">peer-prefix-policy1 </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtEmphasis" style="font-weight:normal;">peer-prefix-policy2... up to 5</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level4">&#x2014; no <a href="#addamrjual80a1lx" class="RefCommand">peer-template-map</a> <span class="FmtEmphasis" style="font-weight:normal;">template-name </span></div><div class="Level3">&#x2014; <a href="#addamrjual80a1m8" class="RefCommand">tcp-session-parameters</a></div><div class="Level4">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamrjual80a1m9" class="RefCommand">peer-transport</a> <span class="FmtEmphasis" style="font-weight:normal;">ip-address</span></div><div class="Level5">&#x2014; <a href="#addamrjual80a1ma" class="RefCommand">auth-keychain</a> <span class="FmtEmphasis" style="font-weight:normal;">name</span></div><div class="Level5">&#x2014; no <a href="#addamrjual80a1ma" class="RefCommand">auth-keychain</a></div><div class="Level5">&#x2014; <a href="#addamrjual80a1mc" class="RefCommand">authentication-key</a> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtEmphasis" style="font-weight:normal;">authentication-key </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> <span class="FmtEmphasis" style="font-weight:normal;">hash-key</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>hash <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> hash2<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Level5">&#x2014; no <a href="#addamrjual80a1mc" class="RefCommand">authentication-key</a></div><div class="Level5">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamrjual80a1me" class="RefCommand">path-mtu-discovery</a></div><div class="Level5">&#x2014; <a href="#addamrjual80a1mg" class="RefCommand">ttl-security</a> <span class="FmtEmphasis" style="font-weight:normal;">min-ttl-value </span></div><div class="Level5">&#x2014; <span class="FmtBold" style="font-style:normal;">no </span><a href="#addamrjual80a1mg" class="RefCommand">ttl-security</a></div><div class="Level3">&#x2014; <a href="#addamr5iexw82sfn8" class="RefCommand">tunnel-down-damp-time</a> <span class="FmtEmphasis" style="font-weight:normal;">seconds</span></div><div class="Level3">&#x2014; no <a href="#addamr5iexw82sfn8" class="RefCommand">tunnel-down-damp-time</a></div><div class="Level3">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#BABCBIFE" class="RefCommand">weighted-ecmp</a> </div><div class="Level2">&#x2014; <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <a href="#addamr5iexw82sfks" class="RefCommand">ldp-shortcut</a></div></div></div></div><div class="Ss" id="d2e1860"><h2 class="ttlSs">7.29.2.&#xa0;Command Descriptions</h2><div class="divList"><ol class="Bullet"><li><div class="Item"><a href="#CIAEDFDI" class="RefNum">LDP Commands</a></div></li>
<li><div class="Item"><a href="#CIAEDFDI" class="RefNum">LDP Commands</a></div></li>
<li><div class="Item"><a href="#CIAHCGCI" class="RefNum">Interface Parameters Commands</a></div></li>
<li><div class="Item"><a href="#CIAJBFJF" class="RefNum">Session Parameters Commands</a></div></li>
<li><div class="Item"><a href="#CIAHGIEA" class="RefNum">Targeted Session Commands</a></div></li>
<li><div class="Item"><a href="#CIAIJAID" class="RefNum">TCP Session Parameters Commands</a></div></li>
</ol>
</div><div class="Sss" id="d2e1889"><h3 class="ttlSss">7.29.2.1.&#xa0;Generic Commands</h3><div class="Command"><h3 class="ttlCommand">shutdown</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>shutdown</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv4</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv6</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;peer</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;peer-template</div><div class="Context">config&gt;router&gt;ldp&gt;egr-stats&gt;fec-prefix</div><div class="Context">config&gt;router&gt;ldp&gt;aggregate-prefix-match</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command administratively disables an entity. When disabled, an entity does not change, reset, or remove any configuration settings or statistics. </P><P class="P">The operational state of the entity is disabled as well as the operational state of any entities contained within. Many objects must be shut down before they may be deleted. For an LDP interface, the <span class="FmtBold" style="font-style:normal;">shutdown</span> command exists under the main interface context and under each of the interface IPv4 and IPv6 contexts.</P><div class="divList"><ol class="Bullet"><li><div class="Item"><span class="FmtBold" style="font-style:normal;">shutdown</span> under the <span class="FmtBold" style="font-style:normal;">interface</span> context brings down both IPv4 and IPv6 Hello adjacencies and stops Hello transmission in both contexts. </div></li>
<li><div class="Item"><span class="FmtBold" style="font-style:normal;">shutdown</span> under the <span class="FmtBold" style="font-style:normal;">interface</span> IPv4 or IPv6 contexts brings down the Hello adjacency and stops Hello transmission in that context only. </div></li>
</ol>
</div><P class="P">The user can also delete the entire IPv4 or IPv6 context under the interface with the <span class="FmtBold" style="font-style:normal;">no ipv4</span> or <span class="FmtBold" style="font-style:normal;">no ipv6</span> command which in addition to bringing down the Hello adjacency will delete the configuration</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no </span>form of this command administratively enables an entity.</P><P class="P">Unlike other commands and parameters where the default state is not indicated in the configuration file, the <span class="FmtBold" style="font-style:normal;">shutdown </span>and <span class="FmtBold" style="font-style:normal;">no shutdown</span> states are always indicated in system generated configuration files.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no shutdown</P></div></div></div></div><div class="Sss" id="CIAEDFDI"><h3 class="ttlSss">7.29.2.2.&#xa0;LDP Commands</h3><div class="Command" id="addamr5iexw82sfko"><h3 class="ttlCommand">ldp</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> ldp</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command creates the context to configure an LDP parameters. LDP is not enabled by default and must be explicitly enabled (<span class="FmtBold" style="font-style:normal;">no shutdown</span>).</P><P class="P">To suspend the LDP protocol, use the <span class="FmtBold" style="font-style:normal;">shutdown</span> command. Configuration parameters are not affected. </P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span><span class="FmtBold" style="font-style:normal;"> </span>form of the command deletes the LDP protocol instance, removing all associated configuration parameters. The LDP instance must first be disabled with the <span class="FmtBold" style="font-style:normal;">shutdown</span> command before being deleted.</P></div></div></div><div class="Command" id="addamr5iexw82sfkw"><h3 class="ttlCommand">shutdown</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>shutdown</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv4</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv6</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;peer</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;peer-template</div><div class="Context">config&gt;router&gt;ldp&gt;egr-stats&gt;fec-prefix</div><div class="Context">config&gt;router&gt;ldp&gt;aggregate-prefix-match</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command administratively disables an entity. When disabled, an entity does not change, reset, or remove any configuration settings or statistics. </P><P class="P">The operational state of the entity is disabled as well as the operational state of any entities contained within. Many objects must be shut down before they may be deleted. For an LDP interface, the <span class="FmtBold" style="font-style:normal;">shutdown</span> command exists under the main interface context and under each of the interface IPv4 and IPv6 contexts.</P><div class="divList"><ol class="Bullet"><li><div class="Item"><span class="FmtBold" style="font-style:normal;">shutdown</span> under the <span class="FmtBold" style="font-style:normal;">interface</span> context brings down both IPv4 and IPv6 Hello adjacencies and stops Hello transmission in both contexts. </div></li>
<li><div class="Item"><span class="FmtBold" style="font-style:normal;">shutdown</span> under the <span class="FmtBold" style="font-style:normal;">interface</span> IPv4 or IPv6 contexts brings down the Hello adjacency and stops Hello transmission in that context only. </div></li>
</ol>
</div><P class="P">The user can also delete the entire IPv4 or IPv6 context under the interface with the <span class="FmtBold" style="font-style:normal;">no ipv4</span> or <span class="FmtBold" style="font-style:normal;">no ipv6</span> command which in addition to bringing down the Hello adjacency will delete the configuration</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no </span>form of this command administratively enables an entity.</P><P class="P">Unlike other commands and parameters where the default state is not indicated in the configuration file, the <span class="FmtBold" style="font-style:normal;">shutdown </span>and <span class="FmtBold" style="font-style:normal;">no shutdown</span> states are always indicated in system generated configuration files.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no shutdown</P></div></div></div><div class="Command" id="addamr5iexw82sfl0"><h3 class="ttlCommand">aggregate-prefix-match</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>aggregate-prefix-match</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp </div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>The command enables the use by LDP of the aggregate prefix match procedures.</P><P class="P">When this option is enabled, LDP performs the following procedures for all prefixes. When an LSR receives a FEC-label binding from an LDP neighbor for a given specific FEC1 element, it will install the binding in the LDP FIB if:</P><div class="divList"><ol class="Bullet"><li><div class="Item">It is able to perform a successful longest IP match of the FEC prefix with an entry in the routing table, and</div></li>
<li><div class="Item">The advertising LDP neighbor is the next-hop to reach the FEC prefix.</div></li>
</ol>
</div><P class="P">When such a FEC-label binding has been installed in the LDP FIB, then LDP programs an NHLFE entry in the egress data path to forward packets to FEC1. It also advertises a new FEC-label binding for FEC1 to all its LDP neighbors.</P><P class="P">When a new prefix appears in the routing table, LDP inspects the LDP FIB to determine if this prefix is a better match (a more specific match) for any of the installed FEC elements. For any FEC for which this is true, LDP may have to update the NHLFE entry for this FEC.</P><P class="P">When a prefix is removed from the routing table, LDP inspects the LDP FIB for all FEC elements which matched this prefix to determine if another match exists in the routing table. If so, it updates the NHLFE entry accordingly. If not, it sends a label withdraw message to its LDP neighbors to remove the binding.</P><P class="P">When the next hop for a routing prefix changes, LDP updates the LDP FIB entry for the FEC elements which matched this prefix. It also updates the NHLFE entry for these FEC elements accordingly.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of this command disables the use by LDP of the aggregate prefix procedures and deletes the configuration. LDP resumes performing exact prefix match for FEC elements.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no aggregate-prefix-match</P></div></div></div><div class="Command" id="addamr5iexw82sfl4"><h3 class="ttlCommand">prefix-exclude</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">prefix-exclude<span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> [</span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">...(up to 5 max)]</span></div><div class="Syntax">no prefix-exclude</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;aggregate-prefix-match</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command specifies the policy name containing the prefixes to be excluded from the aggregate prefix match procedures. In this case, LDP will perform an exact match of a specific FEC element prefix as opposed to a longest match of one or more LDP FEC element prefixes, against this prefix when it receives a FEC-label binding or when a change to this prefix occurs in the routing table.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of this command removes all policies from the configuration.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no prefix-exclude</P></div></div></div><div class="Command" id="addamr5iexw82sfl8"><h3 class="ttlCommand">class-forwarding</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">class-forwarding <span class="FmtBold" style="font-style:normal;">cbf-mode </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span><span class="FmtBold" style="font-style:normal;">lsr</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> <span class="FmtBold" style="font-style:normal;">ler </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> <span class="FmtBold" style="font-style:normal;">lsr-and-ler</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Syntax">no class-forwarding</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables class-based forwarding for packets that belong to one of the eight forwarding classes (be, l2, af,  l1, h2, ef, h1, and nc). For the LER role, class-based forwarding is performed in conjunction with ECMP. At LER, this function applies to packets whose prefixes resolve to an LDP FEC. This LDP FEC resolves to a set of IGP shortcuts (RSVP-TE LSPs). At LSR, this function applies to labeled LDP packets whose FEC resolves to an IGP shortcut. See <a href="ldp.html#addamr5iexw7xvckc" class="RefNum">Class-Based Forwarding of LDP Prefix Packets over IGP Shortcuts</a> for detailed information on this capability.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of this command disables class-based forwarding.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no class-forwarding</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamKeyword">cbf-mode lsr&#x2014; </span><div class="divP">Enables class-forwarding at LSR and disables any previously enabled mode.</div></div><div class="Parameter"><span class="ParamKeyword">cbf-mode ler&#x2014; </span><div class="divP">Enables class-forwarding at LER and disables any previously enabled mode.</div></div><div class="Parameter"><span class="ParamKeyword">cbf-mode lsr-and-ler&#x2014; </span><div class="divP">Enables class-forwarding at both LSR and LER, and disables any previously enabled mode. </div></div></div></div><div class="Command" id="BABBIDGG"><h3 class="ttlCommand">consider-system-ip-in-gep</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> consider-system-ip-in-gep</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>When this command is enabled, the system interprets the presence or absence of the system IP and its associated action in the applied Global Export Policies in the same way as for other interfaces' IP addresses. In that case:</P><div class="divList"><ol class="Bullet"><li><div class="Item">if the system IP is not present, its FEC will not be exported or it will be withdrawn if it has been exported</div></li>
<li><div class="Item">if the system IP is present with "accept", its FEC will be exported</div></li>
<li><div class="Item">if the system IP is present with "deny", its FEC will not be exported or it will be withdrawn if it had been exported</div></li>
</ol>
</div><P class="P">Enabling or disabling this command leads to the applied Global Export Policies being reevaluated.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> version of this command causes the system to not interpret the presence or absence of the system IP in applied Global Export Policies, and the FEC for the system IP is exported (default behavior). </P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no consider-system-ip-in-gep</P></div></div></div><div class="Command" id="addamr5iexw82sflc"><h3 class="ttlCommand">egress-statistics</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">egress-statistics</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command provides the context for the user to enter the LDP FEC prefix for the purpose of enabling egress data path statistics at the ingress LER for this FEC.</P></div></div></div><div class="Command" id="addamr5iexw82sflg"><h3 class="ttlCommand">fec-prefix</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> fec-prefix<span class="FmtEmphasis" style="font-weight:normal;"> ip-prefix<span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>/mask<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;egr-stats</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures statistics in the egress data path at the ingress LER or LSR for an LDP FEC. The user must execute the <span class="FmtBold" style="font-style:normal;">no shutdown</span> command for this command to effectively enable statistics. The egress data path counters will be updated for both originating and transit packets. Originating packets may be service packets or IP user and control packets forwarded over the LDP LSP when used as an IGP shortcut. Transit packets of the FEC which are label switched on this node.</P><P class="P">When ECMP is enabled and multiple paths exist for a FEC, the same set of counters are updated for each packet forwarded over any of the NHLFEs associated with this FEC and for as long as this FEC is active.</P><P class="P">The statistics can be enabled on prefix FECs imported from both LDP neighbors and T-LDP neighbors (LDP over RSVP). LDP sets up egress statistics collection for the LDP tunnels whose FECs match the exact prefix specified in this command. Service FECs, that is, FEC 128 and FEC 129, are not valid. LDP FEC egress statistics are collected at the Penultimate-Popping Hop (PHP) node for a LDP FEC using an implicit null egress label.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of this command disables the statistics in the egress data path and removes the accounting policy association from the LDP FEC.</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">ip-prefix&#x2014; </span><div class="divP">Specifies the IP address representing the FEC.</div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="tableDiv"><table class="Table"><tr><td><P>IPv4 prefix:</P></td><td><P> <span class="FmtEmphasis" style="font-weight:normal;">a.b.c.d</span></P></td><td><P><span class="FmtEmphasis" style="font-weight:normal;">a</span>, <span class="FmtEmphasis" style="font-weight:normal;">b</span>, <span class="FmtEmphasis" style="font-weight:normal;">c</span>, <span class="FmtEmphasis" style="font-weight:normal;">d</span> - 0 to 255; decimal</P></td></tr>
<tr><td><P>IPv6 prefix:</P></td><td><P><span class="FmtEmphasis" style="font-weight:normal;">x:x:x:x:x:x:x:x</span>   
(eight 16-bit pieces)</P></td><td><P><span class="FmtEmphasis" style="font-weight:normal;">x</span> - 0 to FFFF; hexadecimal</P></td></tr>
<tr><td><P/></td><td><P><span class="FmtEmphasis" style="font-weight:normal;">x:x:x:x:x:x:d.d.d.d</span></P></td><td><P/></td></tr>
</table></div><p class="spacer">&#xa0;</p></div></div><div class="Parameter"><span class="ParamUser">mask&#x2014; </span><div class="divP">Specifies the mask of the IP address.</div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub">IPv4: 0 to 32</div><div class="divCommandSub">IPv6: 0 to 128</div><p class="spacer">&#xa0;</p></div></div></div></div><div class="Command" id="addamr5iexw82sflk"><h3 class="ttlCommand">accounting-policy</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">accounting-policy <span class="FmtEmphasis" style="font-weight:normal;">acct-policy-id</span></div><div class="Syntax">no accounting-policy</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;egr-stats</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command associates an accounting policy to the MPLS instance.</P><P class="P">An accounting policy must be defined before it can be associated else an error message is generated.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no </span>form of this command removes the accounting policy association.</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">acct-policy-id&#x2014; </span><div class="divP">Enter the accounting <span class="FmtEmphasis" style="font-weight:normal;">policy-id</span> as configured in the <span class="FmtBold" style="font-style:normal;">config&gt;log&gt;accounting-policy </span>context.</div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub">1 to 99</div><p class="spacer">&#xa0;</p></div></div></div></div><div class="Command" id="addamr5iexw82sflo"><h3 class="ttlCommand">collect-stats</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtBold" style="font-style:normal;">no</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span><span class="FmtBold" style="font-style:normal;"> collect-stats</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;egr-stats</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables accounting and statistical data collection. When applying accounting policies the data, by default, is collected in the appropriate records and written to the designated billing file. </P><P class="P">When the <span class="FmtBold" style="font-style:normal;">no collect-stats</span> command is issued the statistics are still accumulated by the forwarding engine. However, the CPU will not obtain the results and write them to the billing file. If a subsequent <span class="FmtBold" style="font-style:normal;">collect-stats</span> command is issued then the counters written to the billing file include all the traffic while the <span class="FmtBold" style="font-style:normal;">no collect-stats</span> command was in effect. </P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>collect-stats</P></div></div></div><div class="Command" id="addamr5iexw82sfls"><h3 class="ttlCommand">export</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">export <span class="FmtEmphasis" style="font-weight:normal;">policy-name</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtEmphasis" style="font-weight:normal;">policy-name &#x2026;</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">up to 5 max]</span></div><div class="Syntax">no export</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command specifies the export route policies used to determine which routes are exported to LDP. Policies are configured in the <span class="FmtBold" style="font-style:normal;">config&gt;router&gt;policy-options</span> context.</P><P class="P">If no export policy is specified, non-LDP routes will not be exported from the routing table manager to LDP. LDP-learned routes will be exported to LDP neighbors. Present implementation of export policy (outbound filtering) can be used &#x201c;only&#x201d; to add FECs for label propagation. The export policy does not control propagation of FECs that an LSR receives from its neighbors.</P><P class="P">If multiple policy names are specified, the policies are evaluated in the order they are specified. The first policy that matches is applied. If multiple export commands are issued, the last command entered will override the previous command. A maximum of 5 policy names can be specified. </P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command removes all policies from the configuration.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no export &#x2014; No export route policies specified.</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">policy-name&#x2014; </span><div class="divP">The export route policy name. Allowed values are any string up to 32 characters long composed of printable, 7-bit ASCII characters. If the string contains special characters (#, $, spaces, and so on), the entire string must be enclosed within double quotes.</div><P class="P">The specified name(s) must already be defined.</P></div></div></div><div class="Command" id="addamr5iexw82sflw"><h3 class="ttlCommand">fast-reroute</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">fast-reroute <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>backup-sr-tunnel<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> </div><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> fast-reroute</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables LDP Fast-Reroute (FRR) procedures. When enabled, LDP uses both the primary next-hop and LFA next-hop, when available, for resolving the next-hop of an LDP FEC against the corresponding prefix in the routing table. This will result in LDP programming a primary NHLFE and a backup NHLFE into the forwarding engine for each next-hop of a FEC prefix for the purpose of forwarding packets over the LDP FEC.</P><P class="P">When any of the following events occurs, LDP instructs in the fast path the forwarding engines to enable the backup NHLFE for each FEC next-hop impacted by this event:</P><div class="divList"><ol class="Bullet"><li><div class="Item">An LDP interface goes operationally down, or is admin shutdown. </div></li>
<li><div class="Item">An LDP session to a peer went down as the result of the Hello or Keep-Alive timer expiring.</div></li>
<li><div class="Item">The TCP connection used by a link LDP session to a peer went down, due say to next-hop tracking of the LDP transport address in RTM, which brings down the LDP session.</div></li>
<li><div class="Item">A BFD session, enabled on a T-LDP session to a peer, times-out and as a result the link LDP session to the same peer and which uses the same TCP connection as the T-LDP session goes also down. </div></li>
<li><div class="Item">A BFD session enabled on the LDP interface to a directly connected peer, times out and brings down the link LDP session to this peer. </div></li>
</ol>
</div><P class="P">The <span class="FmtBold" style="font-style:normal;">tunnel-down-dump-time</span> option or the <span class="FmtBold" style="font-style:normal;">label-withdrawal-delay</span> option, when enabled, does not cause the corresponding timer to be activated for a FEC as long as a backup NHLFE is still available.</P><P class="P">Because LDP can detect the loss of a neighbor/next-hop independently, it is possible that it switches to the LFA next-hop while IGP is still using the primary next-hop. Also, when the interface for the previous primary next-hop is restored, IGP may re-converge before LDP completed the FEC exchange with it neighbor over that interface. This may cause LDP to de-program the LFA next-hop from the FEC and blackhole traffic. In order to avoid this situation, it is recommended to enable IGP-LDP synchronization on the LDP interface.</P><P class="P">When the SPF computation determines there is more than one primary next-hop for a prefix, it will not program any LFA next-hop in RTM. Thus, the LDP FEC will resolve to the multiple primary next-hops that provide the required protection.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">backup-sr-tunnel</span> option enables the use of SR tunnel, as a remote LFA backup tunnel next-hop by an LDP FEC.</P><P class="P">As a pre-requisite, the user must enable the stitching of LDP and SR in the LDP-to-SR direction. That is because the LSR must perform the stitching of the LDP ILM to SR tunnel when the primary LDP next-hop of the FEC fails. Thus LDP must listen to SR tunnels programmed by the IGP in TTM but the mapping server feature is not required.</P><P class="P">Assuming the following:</P><div class="divList"><ol class="Bullet"><li><div class="Item">the <span class="FmtBold" style="font-style:normal;">backup-sr-tunnel</span> option is enabled in LDP</div></li>
<li><div class="Item">the {<span class="FmtBold" style="font-style:normal;">loopfree-alternate remote-lfa</span>} option is enabled in the IGP instance</div></li>
<li><div class="Item">LDP was able to resolve the primary next-hop of the LDP FEC in RTM</div></li>
</ol>
</div><P class="P">If the IGP LFA SPF does not find a regular LFA backup next-hop for a prefix of an LDP FEC, it will run the remote LFA algorithm. If IGP finds a remote LFA tunnel next-hop, LDP programs the primary next-hop of the FEC using a LDP NHLFE and programs the LFA backup next-hop using a LDP NHLFE pointing to the SR tunnel endpoint. Note that the LDP packet is not &#x201c;tunneled&#x201d; over the SR tunnel. The LDP label is actually stitched to the segment routing label stack. LDP points both the LDP ILM and the LTN to the backup LDP NHLFE which itself uses the SR tunnel endpoint.</P><P class="P">The behavior of the feature is thus similar to the LDP-to-SR stitching feature, except the behavior is augmented to allow the stitching of an LDP ILM/LTN to a SR tunnel also when the primary LDP next-hop of the FEC fails. </P><P class="P">If the LDP FEC primary next-hop failed and LDP has pre-programmed a remote LFA next-hop with a LDP backup NHLFE pointing to SR tunnel, the LDP ILM/LTN switches to it. Note that if for some reason the failure impacted only the LDP tunnel primary next-hop but not the SR tunnel primary next-hop, the LDP backup NHLFE will effectively point to the primary next-hop of the SR tunnel and traffic of the LDP ILM/LTN will follow this path instead of the remote LFA next-hop of the SR tunnel until the latter is activated.</P><P class="P">This feature is limited to IPv4 /32 prefixes in both LDP and SR. </P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command disables the exporting of BGP tunnels and SR tunnels to LDP.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of this command disables LDP FRR.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no fast-reroute</P></div></div></div><div class="Command" id="addamr5iexw82sfm0"><h3 class="ttlCommand">export-tunnel-table</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">export-tunnel-table <span class="FmtEmphasis" style="font-weight:normal;">policy-name</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> [</span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">...(up to 5 max)]</span></div><div class="Syntax">no export-tunnel-table </div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables exporting of BGP label route and SR tunnels from the TTM into LDP for the purpose of stitching a LDP FEC to a BGP tunnel or to a SR tunnel for the same destination prefix.</P><P class="P">The user enables the stitching of routes between LDP and BGP by configuring separately tunnel table route export policies in both protocols and enabling the advertising of RFC 3107, <span class="FmtEmphasis">Carrying Label Information in BGP-4</span>, formatted labeled routes for prefixes learned from LDP FECs.</P><P class="P">The route export policy in BGP instructs BGP to listen to LDP route entries in the CPM Tunnel Table. If a /32 LDP FEC prefix matches an entry in the export policy, BGP originates a BGP labeled route, stitches it to the LDP FEC, and re-distributes the BGP labeled route to its iBGP neighbors.</P><P class="P">The user adds LDP FEC prefixes with the statement &#x2018;<span class="FmtBold" style="font-style:normal;">from protocol ldp</span>&#x2019; in the configuration of the existing BGP export policy at the global level, the peer-group level, or at the peer level using the commands:</P><div class="divList"><ol class="Bullet"><li><div class="Item"><span class="FmtBold" style="font-style:normal;">config&gt;router&gt;bgp&gt;export </span><span class="FmtEmphasis">policy-name</span></div></li>
<li><div class="Item"><span class="FmtBold" style="font-style:normal;">config&gt;router&gt;bgp&gt;group&gt;export</span> <span class="FmtEmphasis">policy-name</span></div></li>
<li><div class="Item"><span class="FmtBold" style="font-style:normal;">config&gt;router&gt;bgp&gt;group&gt;neighbor&gt;export </span><span class="FmtEmphasis">policy-name</span></div></li>
</ol>
</div><P class="P">To indicate to BGP to evaluate the entries with the <span class="FmtBold" style="font-style:normal;">from protocol ldp</span> statement in the export policy when applied to a specific BGP neighbor, use commands:<span class="FmtBold" style="font-style:normal;"> </span></P><div class="divList"><ol class="Bullet"><li><div class="Item"><span class="FmtBold" style="font-style:normal;">config&gt;router&gt;bgp&gt;group&gt;neighbor&gt;family label-ipv4</span> and </div></li>
<li><div class="Item"><span class="FmtBold" style="font-style:normal;">config&gt;router&gt;bgp&gt;group&gt;neighbor&gt;advertise-ldp-prefix</span></div></li>
</ol>
</div><P class="P">Without the latter, only core IPv4 routes learned from RTM are advertised as BGP labeled routes to the neighbor. No stitching of LDP FEC to the BGP labeled route will be performed for this neighbor even if the same prefix was learned from LDP.</P><P class="P">The tunnel table route export policy in LDP instructs LDP to listen to BGP route entries in the CPM Tunnel Table. If a /32 BGP labeled route matches a prefix entry in the export policy, LDP originates an LDP FEC for the prefix, stitches it to the BGP labeled route, and re-distributes the LDP FEC to its iBGP neighbors.</P><P class="P">The user can add BGP labeled route prefixes with the statement <span class="FmtBold" style="font-style:normal;">from protocol bgp</span> in the configuration of the LDP tunnel table export policy. The <span class="FmtBold" style="font-style:normal;">from protocol</span> statement has an effect only when the protocol value is <span class="FmtBold" style="font-style:normal;">ldp</span>. Policy entries with protocol values of <span class="FmtBold" style="font-style:normal;">rsvp</span>, <span class="FmtBold" style="font-style:normal;">bgp</span>, or any value other than <span class="FmtBold" style="font-style:normal;">ldp</span> are ignored at the time the policy is applied to LDP.</P><P class="P">In the LDP-to-SR data path direction, LDP listens to SR tunnel entries in the TTM. The user can restrict the export to LDP of SR tunnels from a specific prefix list. The user can also restrict the export to a specific IGP instance by optionally specifying the instance ID in the &#x201c;from protocol&#x201d; statement. The statement has an effect only when the protocol value is <span class="FmtBold" style="font-style:normal;">isis</span> or <span class="FmtBold" style="font-style:normal;">bgp</span>. Policy entries with any other protocol value are ignored at the time the policy is applied. If the user configures multiple <span class="FmtBold" style="font-style:normal;">from protocol </span>statements in the same policy or does not include the <span class="FmtBold" style="font-style:normal;">from protocol </span>statement but adds a default action of accept, then LDP will follow the TTM selection rules to select a tunnel to which it will stitch the LDP ILM:</P><div class="divList"><ol class="Numbers"><li><div class="Item">	LDP selects the tunnel from the lowest TTM preference protocol. </div></li>
<li><div class="Item">	If two or more of IS-IS or OSPF protocol instances and BGP protocol have the same preference, then LDP selects the protocol using the default TTM protocol preference.</div></li>
<li><div class="Item">	Within the same IGP protocol, LDP selects the lowest instance ID.</div></li>
</ol>
</div><P class="P">Whenever an LDP FEC primary next-hop cannot be resolved using an RTM route and a SR tunnel of type SR-ISIS to the same destination prefix matches a prefix entry in the export policy, LDP programs an LDP ILM and stitches it to the SR node-SID tunnel endpoint. LDP also originates an FEC for the prefix and re-distributes it to its LDP peers. When an LDP FEC is stitched to a SR tunnel, packets forwarded will benefit from the protection of the LFA/remote LFA backup next-hop of the SR tunnel.</P><P class="P">When resolving a FEC, LDP will prefer resolution in RTM over that in TTM when both resolutions are possible. In other words the swapping of the LDP ILM to a LDP NHLFE is preferred over stitching it to a SR tunnel endpoint.</P><P class="P">It is recommended to enable the bfd-enable option on the interfaces in LDP, IGP instance, and BGP contexts to speed up the failure detection and the activation of the SR LFA/remote-LFA backup next-hop or the BGP backup depending of the stitching operation.</P><P class="P">This feature is limited to IPv4 /32 prefixes in LDP, BGP and SR.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command disables the exporting of BGP tunnels and SR tunnels to LDP.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no export-tunnel-table &#x2014; no tunnel table export route policy is specified.</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">policy-name&#x2014; </span><div class="divP">The export-tunnel-table route policy name. Allowed values are any string up to 32 characters long composed of printable, 7-bit ASCII characters excluding double quotes. If the string contains spaces, use double quotes to delimit the start and end of the string. The specified name(s) must already be defined.</div></div></div></div><div class="Command" id="addamr5iexw82sfm8"><h3 class="ttlCommand">fec-originate</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">fec-originate<span class="FmtEmphasis"> </span><span class="FmtEmphasis" style="font-weight:normal;">ip-prefix/mask</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> [</span>advertised-label<span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtEmphasis" style="font-weight:normal;">in-label</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">] [</span>swap-label<span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtEmphasis" style="font-weight:normal;">out-label</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>interface interface-name</div><div class="Syntax">fec-originate<span class="FmtEmphasis"> </span><span class="FmtEmphasis" style="font-weight:normal;">ip-prefix/mask</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> [</span>advertised-label<span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtEmphasis" style="font-weight:normal;">in-label</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>next-hop<span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtEmphasis" style="font-weight:normal;">ip-address</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> [</span>swap-label<span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtEmphasis" style="font-weight:normal;">out-label</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Syntax">fec-originate<span class="FmtEmphasis"> </span><span class="FmtEmphasis" style="font-weight:normal;">ip-prefix/mask</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> [</span>advertised-label<span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtEmphasis" style="font-weight:normal;">in-label</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>next-hop<span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtEmphasis" style="font-weight:normal;">ip-address</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> [</span>swap-label<span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtEmphasis" style="font-weight:normal;">out-label</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>interface interface-name</div><div class="Syntax">fec-originate<span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtEmphasis" style="font-weight:normal;">ip-prefix/mask</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> [</span>advertised-label<span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtEmphasis" style="font-weight:normal;">in-label</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>pop</div><div class="Syntax">no fec-originate <span class="FmtEmphasis" style="font-weight:normal;">ip-prefix/mask</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span>interface interface-name</div><div class="Syntax">no fec-originate <span class="FmtEmphasis" style="font-weight:normal;">ip-prefix/mask</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span>next-hop<span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtEmphasis" style="font-weight:normal;">ip-address</span></div><div class="Syntax">no fec-originate <span class="FmtEmphasis" style="font-weight:normal;">ip-prefix/mask</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span>next-hop<span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtEmphasis" style="font-weight:normal;">ip-address </span>interface interface-name</div><div class="Syntax">no fec-originate <span class="FmtEmphasis" style="font-weight:normal;">ip-prefix/mask</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span>pop</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command defines a way to originate a FEC (with a swap action) for which the LSR is not egress, or to originate a FEC (with a pop action) for which the LSR is egress. </P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">ip-prefix/mask&#x2014; </span><div class="divP">Specify information for the specified IP prefix and mask length. </div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub"/><div class="tableDiv"><table class="Parameters"><tr><td><P>&lt;ip-address/mask&gt; </P></td><td><P>ipv4-prefix    - a.b.c.d </P></td><td><P/></td></tr>
<tr><td><P/></td><td><P>ipv4-prefix-le - [0..32]</P></td><td><P/></td></tr>
<tr><td><P/></td><td><P>ipv6-prefix </P></td><td><P>x:x:x:x:x:x:x:x (eight 16-bit pieces)</P></td></tr>
<tr><td><P/></td><td><P/></td><td><P>x:x:x:x:x:x:d.d.d.d</P></td></tr>
<tr><td><P/></td><td><P/></td><td><P>x - [0..FFFF]H</P></td></tr>
<tr><td><P/></td><td><P/></td><td><P>d - [0..255]D</P></td></tr>
<tr><td><P/></td><td><P/></td><td><P>ipv6-prefix-le - [0..128]</P></td></tr>
</table></div><p class="spacer">&#xa0;</p></div></div><div class="Parameter"><span class="ParamKeyword">next-hop&#x2014; </span><div class="divP">Specify the IP address of the next hop of the prefix.</div></div><div class="Parameter"><span class="ParamKeyword">advertised-label&#x2014; </span><div class="divP">Specify the label advertised to the upstream peer. If not configured, then the label advertised should be from the label pool. If the configured static label is not available then the IP prefix is not advertised.</div></div><div class="Parameter"><span class="ParamUser">out-label&#x2014; </span><div class="divP">Specify the LSR to swap the label. If configured, then the LSR should swap the label with the configured swap-label. If not configured, then the default action is pop if the next-hop parameter is not defined. </div><P class="P">The next-hop, advertised-label, swap-label parameters are all optional. If next-hop is configured but no swap label specified, it will be a swap with label 3, such as, pop and forward to the next-hop. If the next-hop and swap-label are configured, then it is a regular swap. If no parameters are specified, a pop and route is performed. </P><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub">16 to 1048575</div><p class="spacer">&#xa0;</p></div></div><div class="Parameter"><span class="ParamUser">in-label&#x2014; </span><div class="divP">Specifies the number of labels to send to the peer associated with this FEC. </div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub">32 to 1023</div><p class="spacer">&#xa0;</p></div></div><div class="Parameter"><span class="ParamKeyword">pop&#x2014; </span><div class="divP">Specifies to pop the label and transmit without the label.</div></div><div class="Parameter"><span class="ParamKeyword">interface <span class="FmtEmphasis" style="font-weight:normal;">interface-name</span>&#x2014; </span><div class="divP">Specifies the name of the interface the label for the originated FEC is swapped to. For an unnumbered interface, this parameter is mandatory since there is no address for the next-hop. For a numbered interface, it is optional. </div></div></div></div><div class="Command" id="BABIJFBG"><h3 class="ttlCommand">generate-basic-fec-only</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> generate-basic-fec-only</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables mLDP to generate a basic FEC despite the actual root node being resolved using BGP. This functionality is useful if a connected router does not support the mLDP recursive FEC type.</P><P class="P">This command only operates with recursive opaque type 7 FECs and non-recursive type 1 FECs.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command causes mLDP to generate a recursive FEC if the actual root node is resolved using BGP.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no generate-basic-fec-only</P></div></div></div><div class="Command" id="addamr5iexw82sfmg"><h3 class="ttlCommand">graceful-restart</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> graceful-restart</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables graceful restart helper.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command disables graceful restart. </P><P class="P">Graceful restart helper configuration changes, enable/disable, or change of a parameter will cause the LDP session to bounce.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no graceful-restart (disabled) &#x2014; Graceful-restart must be explicitly enabled.</P></div></div></div><div class="Command" id="addamr5iexw82sfmk"><h3 class="ttlCommand">implicit-null-label</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>implicit-null-label</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the use of the implicit null label. Use this command to signal the implicit null option for all LDP FECs for which this node is the egress LER.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of this command disables the signaling of the implicit null label.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no implicit-null-label</P></div></div></div><div class="Command" id="addamr5iexw82sfmo"><h3 class="ttlCommand">maximum-recovery-time</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">maximum-recovery-time <span class="FmtEmphasis" style="font-weight:normal;">interval</span></div><div class="Syntax">no maximum-recovery-time</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;graceful-restart</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures the local maximum recovery time.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command returns the default value.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no maximum-recovery-time (which equals a value of 120 seconds)</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">interval&#x2014; </span><div class="divP">Specifies the length of time in seconds. </div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub">15 to 1800</div><p class="spacer">&#xa0;</p></div></div></div></div><div class="Command" id="addamr5iexw82sfms"><h3 class="ttlCommand">neighbor-liveness-time</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">neighbor-liveness-time <span class="FmtEmphasis" style="font-weight:normal;">interval</span></div><div class="Syntax">no neighbor-liveness-time</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;graceful-restart</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures the neighbor liveness time.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command returns the default value.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no neighbor-liveness (which equals a value of 120 seconds)</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">interval&#x2014; </span><div class="divP">Specifies the length of time in seconds. </div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub">5 to 300</div><p class="spacer">&#xa0;</p></div></div></div></div><div class="Command" id="addamr5iexw82sfmw"><h3 class="ttlCommand">import</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">import <span class="FmtEmphasis" style="font-weight:normal;">policy-name</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtEmphasis" style="font-weight:normal;">policy-name &#x2026;</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">up to 5 max]</span></div><div class="Syntax">no import</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures import route policies to determine which label bindings (FECs) are accepted from LDP neighbors. Policies are configured in the <span class="FmtBold" style="font-style:normal;">config&gt;router&gt;policy-options</span> context.</P><P class="P">If no import policy is specified, LDP accepts all label bindings from configured LDP neighbors. Import policies can be used to limit or modify the routes accepted and their corresponding parameters and metrics.</P><P class="P">If multiple policy names are specified, the policies are evaluated in the order they are specified. The first policy that matches is applied. If multiple import commands are issued, the last command entered will override the previous command. A maximum of five policy names can be specified. </P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command removes all policies from the configuration.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no import &#x2014; No import route policies specified.</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">policy-name&#x2014; </span><div class="divP">The import route policy name. Allowed values are any string up to 32 characters long composed of printable, 7-bit ASCII characters. If the string contains special characters (#, $, spaces, and so on), the entire string must be enclosed within double quotes.</div><P class="P">The specified name(s) must already be defined.</P></div></div></div><div class="Command" id="BABBEBCG"><h3 class="ttlCommand">import-tunnel-table</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">import-tunnel-table <span class="FmtEmphasis" style="font-weight:normal;">policy-name</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtEmphasis" style="font-weight:normal;">policy-name &#x2026;</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">up to 5 max]</span></div><div class="Syntax">no import-tunnel-table</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command controls the import, in the tunnel table, of LDP tunnels to non-host prefixes. This command is only intended for importing tunnels; it cannot be used for preventing the import of any specific prefix and only non-host prefixes will be considered when evaluating this policy in this context. The LDP tunnels to these non-host prefixes must be created before they can be imported.</P><P class="P">This command does not affect the automatic import of LDP tunnels to host prefixes.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> version of this command removes all of the import policies and, by consequence, any tunnels to non-host prefixes from the tunnel table. If a non-host prefix tunnel is currently being used for forwarding, disabling this command may be service-impacting.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no import-tunnel-table</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">policy-name&#x2014; </span><div class="divP">The import route policy name. Allowed values are any string up to 32 characters long composed of printable, 7-bit ASCII characters. If the string contains special characters (#, $, spaces, and so on), the entire string must be enclosed within double quotes.</div><P class="P">The specified policy names must already be defined.</P></div></div></div><div class="Command" id="addamr5iexw82sfn0"><h3 class="ttlCommand">label-withdrawal-delay</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">label-withdrawal-delay <span class="FmtEmphasis" style="font-weight:normal;">seconds</span></div><div class="Syntax">no label-withdrawal-delay</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command specifies configures the time interval (in s), LDP will delay for the withdrawal of FEC-label binding it distributed to its neighbors when FEC is de-activated. When the timer expires, LDP then sends a label withdrawal for the FEC to all its neighbors. This is applicable only to LDP IPv4 prefix FECs and is not applicable to pseudowires (service FECs). </P><P class="P">When there is an upper layer (user of LDP) which depends of LDP control plane for failover detection then label withdrawal delay and tunnel-down-damp-time options must be set to 0. </P><P class="P">An example is PW redundancy where the primary PW doesn&#x2019;t have its own fast failover detection mechanism and the node depends on LDP tunnel down event to activate the standby PW. </P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no label-withdrawal-delay</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">seconds&#x2014; </span><div class="divP">Specifies the time that LDP delays the withdrawal of FEC-label binding it distributed to its neighbors when FEC is de-activated. </div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub">3 to 120</div><p class="spacer">&#xa0;</p></div></div></div></div><div class="Command" id="BGBIAFEJ"><h3 class="ttlCommand">legacy-ipv4-lsr-interop</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> legacy-ipv4-lsr-interop</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command provides for a global LDP knob to allow interoperability with legacy IPv4 LSR implementations which do not comply with the processing of Hello TLVs with the U-bit set. Specifically, this feature disables the following Hello TLVs:</P><div class="divList"><ol class="Numbers"><li><div class="Item">The Nokia proprietary Interface Info TLV (0x3E05) in the Hello message sent to the peer. This also results in the non-generation of the Nokia proprietary Hello Adjacency Status TLV (0x3E06) since the Interface Info TLV is not sent.</div><div class="Item">This is performed in SR OS releases 12 and higher.</div></li>
<li><div class="Item">The RFC 7552 standard dual-stack capability TLV (0x701) and the Nokia proprietary Adjacency capability TLV (0x3E07) in SR OS releases 13 and higher.</div></li>
</ol>
</div></div></div></div><div class="Command" id="BABBDCCE"><h3 class="ttlCommand">lsp-bfd</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">lsp-bfd <span class="FmtEmphasis" style="font-weight:normal;">prefix-list-name</span></div><div class="Syntax">no lsp-bfd <span class="FmtEmphasis" style="font-weight:normal;">prefix-list-name</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enters the context to configure LSP BFD for a set of LDP LSPs with FECs matching those defined in the specified prefix list.</P><P class="P">Up to 16 LSP BFD instances can be configured for LDP.</P><P class="P">If a prefix corresponding to an LDP FEC appears in more than one prefix list, then the system will apply the LSP BFD configuration to the LSP only once. A prefix list may contain a longest match corresponding to one or more LDP FECs, in which case the BFD configuration is applied to all of those LDP LSPs.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command removes LSP BFD. Specifying a prefix list name will remove LSP BFD for all LDP FECs that match the specified prefix list, except those LDP FECs that also match another LSP BFD prefix list.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no lsp-bfd</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">prefix-list-name&#x2014; </span><div class="divP">Specifies the name of the prefix list configured using the <span class="FmtBold" style="font-style:normal;">config</span>&gt;<span class="FmtBold" style="font-style:normal;">router</span>&gt;<span class="FmtBold" style="font-style:normal;">policy-options</span>&gt;<span class="FmtBold" style="font-style:normal;">prefix-list</span> <span class="FmtEmphasis" style="font-weight:normal;">name</span> command, up to 32 characters maximum. The prefix list name can be specified by the <span class="FmtBold" style="font-style:normal;">lsp-bfd</span> command prior to the prefix list being defined in the <span class="FmtBold" style="font-style:normal;">config</span>&gt;<span class="FmtBold" style="font-style:normal;">router</span>&gt;<span class="FmtBold" style="font-style:normal;">policy-options</span> context.</div></div></div></div><div class="Command" id="BABGIHDH"><h3 class="ttlCommand">bfd-enable</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> bfd-enable</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;lsp-bfd</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables BFD on LDP LSPs with FECs that match the prefix list specified using the <span class="FmtBold" style="font-style:normal;">lsp-bfd</span> command. A named BFD template must be configured and applied prior to enabling BFD.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> version of the command disables BFD.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no bfd-enable</P></div></div></div><div class="Command" id="BABBFJDI"><h3 class="ttlCommand">bfd-template</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">bfd-template <span class="FmtEmphasis" style="font-weight:normal;">bfd-template-name</span></div><div class="Syntax">no bfd-template</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;lsp-bfd</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command applies the specified BFD template to the BFD sessions for LDP LSPs with FECs that match the prefix list. The specified BFD template must exist prior to its application to LSP BFD.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command removes the application of the BFD template.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no bfd-template</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">bfd-template-name&#x2014; </span><div class="divP">The name of the BFD template configured using the <span class="FmtBold" style="font-style:normal;">config</span>&gt;<span class="FmtBold" style="font-style:normal;">router</span>&gt;<span class="FmtBold" style="font-style:normal;">bfd</span>&gt;<span class="FmtBold" style="font-style:normal;">bfd-template</span> command, up to 32 characters maximum.</div></div></div></div><div class="Command" id="BABGHECI"><h3 class="ttlCommand">failure-action</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">failure-action <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>down <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> failover<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Syntax">no failure-action</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;lsp-bfd</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures the action to take when LSP BFD fails on an LDP LSP.</P><P class="P">The system will generate an SNMP trap if BFD goes down on an LSP, regardless of whether a failure action is configured.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command removes the failure action.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no failure-action</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamKeyword">down&#x2014; </span><div class="divP">The LSP will be marked as unusable in the TTM. If it appears as a shortcut in RTM, then the route will be removed.</div></div><div class="Parameter"><span class="ParamKeyword">failover&#x2014; </span><div class="divP">The active path of an RSVP LSP will switch to the secondary path or next-preference available secondary path. This option is only available for RSVP LSPs. It is not applicable in the LSP template. </div></div></div></div><div class="Command" id="BABIBBGJ"><h3 class="ttlCommand">lsp-ping-interval</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">lsp-ping-interval <span class="FmtEmphasis" style="font-weight:normal;">seconds</span></div><div class="Syntax">no lsp-ping-interval</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;lsp-bfd</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures the interval between periodic LSP ping messages for LSPs on which <span class="FmtBold" style="font-style:normal;">bfd-enable</span> is configured. The LSP ping messages are used to bootstrap and maintain the LSP BFD session.</P><P class="P">Configuring an interval of 0&#xa0;s will disable periodic LSP ping. An LSP ping message containing a bootstrap TLV will only be sent when the BFD session is first initialized.</P><P class="P">In scaled environments, LSP BFD sessions should use longer intervals to reduce congestion and common resource loading. Unless required, the interval should not be set lower than 300&#xa0;s.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command restores the default interval.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>lsp-ping-interval 60</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">seconds&#x2014; </span><div class="divP">The interval between periodic LSP ping messages, in seconds.</div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub">0, 60 to 300</div><p class="spacer">&#xa0;</p></div></div></div></div><div class="Command" id="BABHAFGA"><h3 class="ttlCommand">priority</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">priority <span class="FmtEmphasis" style="font-weight:normal;">priority-level</span></div><div class="Syntax">no priority</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;lsp-bfd</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures a priority value that is used to order prefix list processing if multiple prefix lists are configured.</P><P class="P">The no form of the command restores the default priority value.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>priority 1</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">priority-level&#x2014; </span><div class="divP">The priority value of the prefix list.</div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub">1 to 16</div><p class="spacer">&#xa0;</p></div></div></div></div><div class="Command" id="BABICEFD"><h3 class="ttlCommand">source-address</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">source-address <span class="FmtEmphasis" style="font-weight:normal;">ip-address</span></div><div class="Syntax">no source-address</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;lsp-bfd</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures the source address of periodic LSP ping packets and BFD control packets for LSP BFD sessions that are associated with LDP prefixes in the prefix list. The system IP address is used by default. If the system IP address is not routable from the far-end node of the BFD session, then an alternate routable IP address that is local to the source node should be used.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no source-address</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">ip-address&#x2014; </span><div class="divP">A routable IPv4 or IPv6 address that is local to the node.</div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub"><span class="FmtEmphasis" style="font-weight:normal;">ipv4-address</span> &#x2014; a.b.c.d</div><div class="divCommandSub"><span class="FmtEmphasis" style="font-weight:normal;">ipv6-address</span> &#x2014; x:x:x:x:x:x:x:x (eight 16-bit pieces)</div><div class="divCommandSub">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;x:x:x:x:x:x:d.d.d.d</div><div class="divCommandSub">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;x &#x2014; 0 to FFFF in hexadecimal</div><div class="divCommandSub">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;d &#x2014; 0 to 255 in decimal</div><p class="spacer">&#xa0;</p></div><div class="ParamDefault"><div class="ParamDefaultHeader">Default&#x2014; </div><div class="divCommandSub">system IP address</div></div></div></div></div><div class="Command" id="BABJIFIH"><h3 class="ttlCommand">mcast-upstream-asbr-frr</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> mcast-upstream-asbr-frr</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables ASBR MoFRR.</P><P class="P">When ASBR MoFRR is enabled, the local leaf will perform MoFRR for multiple ASBRs; for example, if there are two ASBRs, the local leaf will select one ASBR as the primary and another ASBR as the backup.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command disables ASBR MoFRR.</P><P class="P">If the <span class="FmtBold" style="font-style:normal;">mcast-upstream-frr</span> command is enabled, disabling ASBR MoFRR will only allow IGP MoFRR in the local AS; for example, a single ASBR will be selected and two separate, disjointed paths will be selected as the primary and backup LSPs from the local leaf to ASBR.</P><P class="P">If the <span class="FmtBold" style="font-style:normal;">mcast-upstream-frr</span> command is disabled, disabling ASBR MoFRR will disable MoFRR entirely.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no mcast-upstream-asbr-frr</P></div></div></div><div class="Command" id="addamr5iexw82sfn4"><h3 class="ttlCommand">mcast-upstream-frr</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> mcast-upstream-frr</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the mLDP fast upstream switchover feature.</P><P class="P">When this command is enabled and LDP is resolving a mLDP FEC received from a downstream LSR, it checks if an ECMP next-hop or a LFA next-hop exist to the root LSR node. If LDP finds one, it programs a primary ILM on the interface corresponding to the primary next-hop and a backup ILM on the interface corresponding to the ECMP or LFA next-hop. LDP then sends the corresponding labels to both upstream LSR nodes. In normal operation, the primary ILM accepts packets while the backup ILM drops them. If the interface or the upstream LSR of the primary ILM goes down causing the LDP session to go down, the backup ILM will then start accepting packets.</P><P class="P">In order to make use of the ECMP next-hop, the user must configure the <span class="FmtBold" style="font-style:normal;">ecmp</span> value in the system to at least 2 using the following command:</P><P class="P"><span class="FmtBold" style="font-style:normal;">config&gt;router&gt;ecmp</span></P><P class="P">In order to make use of the LFA next-hop, the user must enable LFA using the following commands:</P><P class="P"><span class="FmtBold" style="font-style:normal;">config&gt;router&gt;isis&gt;loopfree-alternate</span></P><P class="P"><span class="FmtBold" style="font-style:normal;">config&gt;router&gt;ospf&gt;loopfree-alternate</span></P><P class="P">Enabling IP FRR or LDP FRR features is not strictly required since LDP only needs to know where the alternate next-hop to the root LSR is to be able to send the Label Mapping message to program the backup ILM at the initial signaling of the tree. Thus enabling the LFA option is sufficient. If however, unicast IP and LDP prefixes need to be protected, then these features and the mLDP fast upstream switchover can be enabled concurrently.</P><P class="P">The mLDP FRR fast switchover relies on the fast detection of loss of **LDP session** to the upstream peer to which the primary ILM label had been advertised. We strongly recommended to perform the following:</P><div class="divList"><ol class="Bullet"><li><div class="Item">Enable BFD on all LDP interfaces to upstream LSR nodes. When BFD detects the loss of the last adjacency to the upstream LSR, it will bring down immediately the LDP session which will cause the IOM to activate the backup ILM.</div></li>
<li><div class="Item">If there is a concurrent TLDP adjacency to the same upstream LSR node, enable BFD on the T-LDP peer in addition to enabling it on the interface.</div></li>
<li><div class="Item">Enable the <span class="FmtBold" style="font-style:normal;">ldp-sync-timer</span> option on all interfaces to the upstream LSR nodes. If an LDP session to the upstream LSR to which the primary ILM is resolved goes down for any other reason than a failure of the interface or of the upstream LSR, routing and LDP will go out of sync. This means the backup ILM will remain activated until the next time SPF is rerun by IGP. By enabling IGP-LDP synchronization feature, the advertised link metric will be changed to max value as soon as the LDP session goes down. This in turn will trigger an SPF and LDP will likely download a new set of primary and backup ILMs.</div></li>
</ol>
</div><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of this command disables the fast upstream switchover for mLDP FECs.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no mcast-upstream-frr</P></div></div></div><div class="Command" id="addamrjual80a1ks"><h3 class="ttlCommand">mp-mbb-time</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> mp-mbb-time</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures the maximum time a P2MP transit/bud node must wait before switching over to the new path if the new node does not send MBB TLV to inform of the availability of data plane. </P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of command reverts to the default value.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no mp-mbb-time (which equals a value of 3 seconds)</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">interval&#x2014; </span><div class="divP">seconds.</div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub">1 to 10 seconds</div><p class="spacer">&#xa0;</p></div></div></div></div><div class="Command" id="addamrjual80a1lm"><h3 class="ttlCommand">prefer-tunnel-in-tunnel</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> prefer-tunnel-in-tunnel</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command specifies to use tunnel-in-tunnel over a simple LDP tunnel. Specifically, the user packets for LDP FECs learned over this targeted LDP session can be sent inside an RSVP LSP which terminates on the same egress router as the destination of the targeted LDP session. The user can specify an explicit list of RSVP LSP tunnels under the Targeted LDP session or LDP will perform a lookup in the Tunnel Table Manager (TTM) for the best RSVP LSP. In the former case, only the specified LSPs will be considered to tunnel LDP user packets. In the latter case, all LSPs available to the TTM and which terminate on the same egress router as this target ed LDP session will be considered. In both cases, the metric specified under the LSP configuration is used to control this selection.</P><P class="P">The lookup in the TTM will prefer a LDP tunnel over an LDP-over-RSVP tunnel if both are available. Also, the tunneling operates on the dataplane only. Control packets of this targeted LDP session are sent over the IGP path.</P></div></div></div><div class="Command" id="BABBIBBI"><h3 class="ttlCommand">resolve-root-using</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">resolve-root-using <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>ucast-rtm <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> mcast-rtm<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>By default, MLDP resolves the FEC using the unicast RTM. When this command is set to <span class="FmtBold" style="font-style:normal;">mcast-rtm</span>, MLDP will resolve the FEC using the multicast route table. The multicast route table does not include any IGP shortcuts, unlike the unicast RTM. MLDP cannot resolve a FEC using an IGP shortcut, so if IGP shortcuts are used for unicast, enable multicast MLDP lookups.</P><P class="P">If this command is set to <span class="FmtBold" style="font-style:normal;">mcast-rtm</span>:</P><div class="divList"><ol class="Bullet"><li><div class="Item">For FEC resolution using IGP, static or local, the ROOT in this FEC is resolved using the multicast RTM.</div></li>
<li><div class="Item">A FEC being resolved using BGP is recursive, so the FEC next-hop (ASBR/ABR) is resolved using the multicast RTM first and, if this fails, it is resolved using the unicast RTM. This next-hop needs to be recursively resolved again using IGP/Static-Route or Local, this second resolution (recursive resolution) uses the multicast RTM only.</div></li>
<li><div class="Item">In all cases, MLDP uses the unicast RTM to resolve the FEC and will not resolve the FEC if its next hop is resolved using an IGP shortcut.</div></li>
</ol>
</div></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>resolve-root-using ucast-rtm</P></div></div></div><div class="Command" id="addamr5iexw82sfn8"><h3 class="ttlCommand">tunnel-down-damp-time</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">tunnel-down-damp-time <span class="FmtEmphasis" style="font-weight:normal;">seconds</span></div><div class="Syntax">no tunnel-down-damp-time</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command specifies the time interval (in s), that LDP waits before posting a tunnel down event to the Tunnel Table Manager (TTM). </P><P class="P">When LDP can no longer resolve a FEC and de-activates it, it de-programs the NHLFE in the data path. It will however delay deleting the LDP tunnel entry in the TTM until the tunnel-down-damp-time timer expires. This means users of the LDP tunnel, such as SDPs (all services) and BGP (L3 VPN), will not be notified immediately. Traffic is still blackholed because the forwarding engine NHLFE has been de-programmed. </P><P class="P">If the FEC gets resolved before the tunnel-down-damp-time timer expires, then LDP programs the forwarding engine with the new NHLFE and performs a tunnel modify event in TTM updating the dampened entry in TTM with the new NHLFE information. If the FEC does not get resolved and the tunnel-down-damp-time timer expires, LDP posts a tunnel down event to TTM which deletes the LDP tunnel.</P><P class="P">When there is an upper layer (user of LDP) which depends of LDP control plane for failover detection then label withdrawal delay and tunnel-down-damp-time options must be set to 0. </P><P class="P">An example is pseudowire redundancy where the primary PW doesn&#x2019;t have its own fast failover detection mechanism and the node depends on LDP tunnel down event to activate the standby PW. </P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of this command resumes the default value of this command. </P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no tunnel-down-damp-time (which equals a value of 3 seconds)</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">seconds&#x2014; </span><div class="divP">Specifies the time interval (in s), that LDP waits before posting a tunnel down event to the Tunnel Table Manager.</div></div></div></div><div class="Command" id="BABCBIFE"><h3 class="ttlCommand">weighted-ecmp</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> weighted-ecmp</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables weighted ECMP on LDP using RSVP LSPs. LDP labeled packets are sprayed in proportion to the configured <span class="FmtBold" style="font-style:normal;">load-balancing-weight</span> of RSVP LSPs. </P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of this command removes weighted ECMP. </P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no weighted-ecmp</P></div></div></div><div class="Command" id="addamr5iexw82sfks"><h3 class="ttlCommand">ldp-shortcut</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> ldp-shortcut</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the resolution of IGP routes using LDP LSP across all network interfaces participating in the IS-IS and OSPF routing protocol in the system.</P><P class="P">When LDP shortcut is enabled, LDP populates the routing table with next-hop entries corresponding to all prefixes for which it activated an LDP FEC. For a given prefix, two route entries are populated in the system routing table. One corresponds to the LDP shortcut next-hop and has an owner of LDP. The other one is the regular IP next-hop. The LDP shortcut next-hop always has preference over the regular IP next-hop for forwarding user packets and specified control packets over a given outgoing interface to the route next-hop.</P><P class="P">All user and specified control packets for which the longest prefix match in RTM yields the FEC prefix will be forwarded over the LDP LSP.</P><P class="P">When an IPv4 packet is received on an ingress network interface, a subscriber IES interface, or a regular IES interface, the lookup of the packet by the ingress forwarding engine will result in the packet being sent labeled with the label stack corresponding to the NHLFE of the LDP LSP when the preferred RTM entry corresponds to an LDP shortcut. </P><P class="P">If the preferred RTM entry corresponds to an IP next-hop, the IPv4 packet is forwarded without a label.</P><P class="P">When ECMP is enabled and multiple equal-cost next-hops exit for the IGP route, the ingress forwarding engine will spray the packets for this route based on hashing routine currently supported for IPv4 packets. When the preferred RTM entry corresponds to an LDP shortcut route, spraying will be performed across the multiple next-hops for the LDP FEC. The FEC next-hops can either be direct link LDP neighbors or T-LDP neighbors reachable over RSVP LSPs in the case of LDP-over-RSVP but not both.</P><P class="P">When the preferred RTM entry corresponds to a regular IP route, spraying will be performed across regular IP next-hops for the prefix.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of this command disables the resolution of IGP routes using LDP shortcuts.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no ldp-shortcut</P></div></div></div></div><div class="Sss" id="CIAHCGCI"><h3 class="ttlSss">7.29.2.3.&#xa0;Interface Parameters Commands</h3><div class="Command" id="addamr5iexw82sfnw"><h3 class="ttlCommand">interface-parameters</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">interface-parameters</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the context to configure LDP interfaces and parameters applied to LDP interfaces. The user can configure different default parameters for IPv4 and IPv6 LDP interfaces by entering <span class="FmtBold" style="font-style:normal;">ipv4</span> or <span class="FmtBold" style="font-style:normal;">ipv6</span> as the next command.</P></div></div></div><div class="Command" id="addamr5iexw82sfog"><h3 class="ttlCommand">interface</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>interface<span class="FmtEmphasis" style="font-weight:normal;"> ip-int-name </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>dual-stack<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;interface-parameters</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables LDP on the specified IP interface. </P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command deletes the LDP interface and all configuration information associated with the LDP interface. </P><P class="P">The LDP interface must be disabled using the <span class="FmtBold" style="font-style:normal;">shutdown</span> command before it can be deleted.</P><P class="P">The user can configure different parameters for IPv4 and IPv6 LDP interfaces by entering <span class="FmtBold" style="font-style:normal;">ipv4</span> or <span class="FmtBold" style="font-style:normal;">ipv6</span> as the next command.</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">ip-int-name&#x2014; </span><div class="divP">The name of an existing interface. If the string contains special characters (#, $, spaces, and so on), the entire string must be enclosed within double quotes.</div></div><div class="Parameter"><span class="ParamUser">dual-stack&#x2014; </span><div class="divP">This optional keyword allows the user to explicitly indicate if this interface should create the IPv4 context automatically or not. With the introduction of LDP IPv6, the creation of the interface does not automatically mean it is to be used for IPv4 like with legacy IPv4 only LDP interface. Thus the dual-stack keyword is an indication to the system that user will manually enable the IPv4, IPv6, or the dual-stack IPv4/IPv6 contexts manually. </div><P class="P">The following are some of the key points for this keyword:</P><div class="divList"><ol class="Bullet"><li><div class="Item">If the keyword is provided, then IPv4 interface context will not be created automatically. If it is not provided, the IPv4 interface context will be created like in the legacy single stack LDP IPv4 interface behavior. </div></li>
<li><div class="Item">This new keyword will always show in a configuration.</div></li>
<li><div class="Item">When entering an already configured interface, there is no need to provide the keyword, but it will be ignored if provided.</div></li>
<li><div class="Item">When deleting a configured interface, the keyword will not be accepted in the <span class="FmtBold" style="font-style:normal;">no</span> version of the <span class="FmtBold" style="font-style:normal;">interface</span> command.</div></li>
</ol>
</div></div></div></div><div class="Command" id="addamr1zfgistsyl"><h3 class="ttlCommand">bfd-enable</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">bfd-enable<span class="FmtNone" style="font-weight:normal;font-style:normal;"> [</span>ipv4<span class="FmtNone" style="font-weight:normal;font-style:normal;">][</span>ipv6<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Syntax">no bfd-enable</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables tracking of the Hello adjacency to an LDP peer using BFD. </P><P class="P">The <span class="FmtBold" style="font-style:normal;">ipv6</span> option for this command is not supported on the 7450 ESS.</P><P class="P">When this command is enabled on an LDP interface, LDP registers with BFD and starts tracking the LSR-id of all peers it formed Hello adjacencies with over that LDP interface. The LDP hello mechanism is used to determine the remote address to be used for the BFD session. The parameters used for the BFD session, that is, transmit-interval, receive-interval, and multiplier are those configured under the IP interface in existing implementation: <span class="FmtBold" style="font-style:normal;">config&gt;router&gt;if&gt;bfd</span></P><P class="P">The operation of BFD over an LDP interface tracks the next-hop of the IPv4 and IPv6 prefixes in addition to tracking the LDP peer address of the Hello adjacency over that link. This is required since LDP can resolve both IPv4 and IPv6 prefix FECs over a single IPv4 or IPv6 LDP session and as such the next-hop of a prefix will not necessarily match the LDP peer source address of the Hello adjacency. </P><P class="P">The failure of either or both of the BFD session tracking the FEC next-hop and the one tracking the Hello adjacency will cause the LFA backup NHLFE for the FEC to be activated or the FEC to be re-resolved if there is no FRR backup.</P><P class="P">When multiple links exist to the same LDP peer, a Hello adjacency is established over each link and a separate BFD session is enabled on each LDP interface. If a BFD session times out on a specific link, LDP will immediately associate the LDP session with one of the remaining Hello adjacencies and trigger the LDP FRR procedures. As soon as the last Hello adjacency goes down due to BFD timing out, the LDP session goes down and the LDP FRR procedures will be triggered.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of this command disables BFD on the LDP interface.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no bfd-enable</P></div></div></div><div class="Command" id="addamr5iexw82sfo0"><h3 class="ttlCommand">ipv4</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">ipv4</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the context to configure LDP interfaces and parameters applied to an IPv4 LDP interface.</P></div></div></div><div class="Command" id="addamrjual80a1l9"><h3 class="ttlCommand">fec-type-capability</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">fec-type-capability</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;session-params&gt;peer</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv4</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv6</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables or disables the advertisement of a FEC type on a given LDP session or Hello adjacency to a peer.</P><P class="P">The config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv6&gt;fec-type-capability command is not supported on the 7450 ESS.</P></div></div></div><div class="Command" id="addamrjual80a1lb"><h3 class="ttlCommand">p2mp-ipv4</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">p2mp <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable<span class="FmtNone" style="font-weight:normal;font-style:normal;"> | </span>disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv4&gt;fec-type-capability</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv6&gt;fec-type-capability</div><div class="Context">config&gt;router&gt;ldp&gt;session-params&gt;peer&gt;fec-type-capability</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables or disables IPv4 P2MP FEC capability on the interface.</P><P class="P">The config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv6&gt;fec-type-capability&gt;p2mp-ipv4 command is not supported on the 7450 ESS.</P></div></div></div><div class="Command" id="addamrjual80a1lc"><h3 class="ttlCommand">p2mp-ipv6</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">p2mp <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable<span class="FmtNone" style="font-weight:normal;font-style:normal;"> | </span>disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv4&gt;fec-type-capability</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv6&gt;fec-type-capability</div><div class="Context">config&gt;router&gt;ldp&gt;session-params&gt;peer&gt;fec-type-capability</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables or disables IPv6 P2MP FEC capability on the interface.</P><P class="P">This command is not supported on the 7450 ESS.</P></div></div></div><div class="Command" id="addamrjual80a1le"><h3 class="ttlCommand">prefix-ipv4</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">prefix-ipv4 <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable<span class="FmtNone" style="font-weight:normal;font-style:normal;"> | </span>disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv4&gt;fec-type-capability</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv6&gt;fec-type-capability</div><div class="Context">config&gt;router&gt;ldp&gt;session-params&gt;peer&gt;fec-type-capability</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables or disables IPv4 prefix FEC capability on the session or interface.</P><P class="P">The config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv6&gt;fec-type-capability&gt;prefix-ipv4 command is not supported on the 7450 ESS.</P></div></div></div><div class="Command" id="addamrjual80a1lf"><h3 class="ttlCommand">prefix-ipv6</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">prefix-ipv6 <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable<span class="FmtNone" style="font-weight:normal;font-style:normal;"> | </span>disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv4&gt;fec-type-capability</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv6&gt;fec-type-capability</div><div class="Context">config&gt;router&gt;ldp&gt;session-params&gt;peer&gt;fec-type-capability</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables or disables IPv6 prefix FEC capability on the session or interface.</P><P class="P">This command is not supported on the 7450 ESS.</P></div></div></div><div class="Command" id="addamr5iexw82sfo8"><h3 class="ttlCommand">hello</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">hello <span class="FmtEmphasis" style="font-weight:normal;">timeout</span> <span class="FmtEmphasis" style="font-weight:normal;">factor</span></div><div class="Syntax">no hello</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv4</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv6</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;ipv4</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;ipv6</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;ipv4</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;ipv6</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;peer</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;peer-template</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures the time interval to wait before declaring a neighbor down. The <span class="FmtBold" style="font-style:normal;">factor</span> parameter derives the hello interval.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">config</span>&gt;<span class="FmtBold" style="font-style:normal;">router</span>&gt;<span class="FmtBold" style="font-style:normal;">ldp</span>&gt;<span class="FmtBold" style="font-style:normal;">if-params</span>&gt;<span class="FmtBold" style="font-style:normal;">ipv6</span>&gt;<span class="FmtBold" style="font-style:normal;">hello</span> and <span class="FmtBold" style="font-style:normal;">config</span>&gt;<span class="FmtBold" style="font-style:normal;">router</span>&gt;<span class="FmtBold" style="font-style:normal;">ldp</span>&gt;<span class="FmtBold" style="font-style:normal;">targ-session</span>&gt;<span class="FmtBold" style="font-style:normal;">ipv6</span>&gt;<span class="FmtBold" style="font-style:normal;">hello</span> commands are not supported on the 7450 ESS.</P><P class="P">Hold time is local to the system and sent in the hello messages to the neighbor. Hold time cannot be less than three times the hello interval. The hold time can be configured globally (applies to all LDP interfaces) or per interface. The most specific value is used.</P><P class="P">When LDP session is being set up, the holddown time is negotiated to the lower of the two peers. Once a operational value is agreed upon, the hello factor is used to derive the value of the hello interval.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command at the interface-parameters and targeted-session level sets the <span class="FmtBold" style="font-style:normal;">hello timeout </span>and the <span class="FmtBold" style="font-style:normal;">hello factor</span> to the default values.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command, at the interface level, will set the <span class="FmtBold" style="font-style:normal;">hello timeout</span> and the <span class="FmtBold" style="font-style:normal;">hello factor</span> to the value defined under the interface-parameters level.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command, at the peer level, will set the <span class="FmtBold" style="font-style:normal;">hello timeout</span> and the <span class="FmtBold" style="font-style:normal;">hello factor</span> to the value defined under the targeted-session level.</P><P class="P">The session needs to be flapped for the new settings to operate.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P><a href="#BABGBAFB" class="RefNum">Table&#xa0;60</a> lists the default values.</P><div class="tableDiv"><h6 class="ttlTable" id="BABGBAFB">
				Table 60:&#xa0;
			Hello Timeout Factors&#xa0;</h6><table class="Table"><tr class="TableHead"><td><P>Context</P></td><td><P>Timeout</P></td><td><P>Factor</P></td></tr>
<tr><td><P>config&gt;router&gt;ldp&gt;if-params</P></td><td><P>15</P></td><td><P>3</P></td></tr>
<tr><td><P>config&gt;router&gt;ldp&gt;targ-session</P></td><td><P>45</P></td><td><P>3</P></td></tr>
<tr><td><P>config&gt;router&gt;ldp&gt;if-params&gt;if</P></td><td colspan="2"><P>Inherits values from interface-parameters context.</P></td></tr>
<tr><td><P>config&gt;router&gt;ldp&gt;targ-session&gt;peer</P></td><td colspan="2"><P>Inherits values from targeted-session context.</P></td></tr>
</table></div></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">timeout&#x2014; </span><div class="divP">Configures the time interval (in s), that LDP waits before a neighbor down. </div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub">1 to 65535</div><p class="spacer">&#xa0;</p></div></div><div class="Parameter"><span class="ParamUser">factor&#x2014; </span><div class="divP">Specifies the number of keepalive messages that should be sent on an idle LDP session in the hello timeout interval.</div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub">1 to 255</div><p class="spacer">&#xa0;</p></div></div></div></div><div class="Command" id="addamr5iexw82sfnc"><h3 class="ttlCommand">keepalive</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">keepalive <span class="FmtEmphasis" style="font-weight:normal;">timeout</span> <span class="FmtEmphasis" style="font-weight:normal;">factor</span></div><div class="Syntax">no keepalive</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv4</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv6</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;ipv4</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;ipv6</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;ipv4</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;ipv6</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;peer</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;peer-template</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures the time interval (in s), that LDP waits before tearing down the session. The <span class="FmtBold" style="font-style:normal;">factor</span> parameter derives the keepalive interval. </P><P class="P">The <span class="FmtBold" style="font-style:normal;">config</span>&gt;<span class="FmtBold" style="font-style:normal;">router</span>&gt;<span class="FmtBold" style="font-style:normal;">ldp</span>&gt;<span class="FmtBold" style="font-style:normal;">if-params</span>&gt;<span class="FmtBold" style="font-style:normal;">ipv6</span>&gt;<span class="FmtBold" style="font-style:normal;">keepalive</span> and <span class="FmtBold" style="font-style:normal;">config</span>&gt;<span class="FmtBold" style="font-style:normal;">router</span>&gt;<span class="FmtBold" style="font-style:normal;">ldp</span>&gt;<span class="FmtBold" style="font-style:normal;">targ-session</span>&gt;<span class="FmtBold" style="font-style:normal;">ipv6</span>&gt;<span class="FmtBold" style="font-style:normal;">keepalive</span> commands are not supported on the 7450 ESS.</P><P class="P">If no LDP messages are exchanged for the configured time interval, the LDP session is torn down. Keepalive timeout is usually three times the keepalive interval. To maintain the session permanently, regardless of the activity, set the value to zero.</P><P class="P">When LDP session is being set up, the keepalive timeout is negotiated to the lower of the two peers. Once a operational value is agreed upon, the keepalive factor is used to derive the value of the keepalive interval.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command at the interface-parameters and targeted-session levels sets the <span class="FmtBold" style="font-style:normal;">keepalive</span> <span class="FmtBold" style="font-style:normal;">timeout</span> and the <span class="FmtBold" style="font-style:normal;">keepalive</span> <span class="FmtBold" style="font-style:normal;">factor</span> to the default value.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command, at the interface level, sets the <span class="FmtBold" style="font-style:normal;">keepalive timeout</span> and the <span class="FmtBold" style="font-style:normal;">keepalive factor</span> to the value defined under the <span class="FmtBold" style="font-style:normal;">interface-parameters</span> level.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command, at the peer level, will set the <span class="FmtBold" style="font-style:normal;">keepalive timeout</span> and the <span class="FmtBold" style="font-style:normal;">keepalive factor</span> to the value defined under the <span class="FmtBold" style="font-style:normal;">targeted-session</span> level.</P><P class="P">The session must be flapped for the new settings to operate.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P> <a href="#BABEBCIH" class="RefNum">Table&#xa0;61</a> lists the default values.</P><div class="tableDiv"><h6 class="ttlTable" id="BABEBCIH">
				Table 61:&#xa0;
			Timeout Factor Defaults&#xa0;</h6><table class="Table"><tr class="TableHead"><td><P>Context</P></td><td><P>Timeout</P></td><td><P>Factor</P></td></tr>
<tr><td><P>config&gt;router&gt;ldp&gt;if-params</P></td><td><P>30</P></td><td><P>3</P></td></tr>
<tr><td><P>config&gt;router&gt;ldp&gt;targ-session</P></td><td><P>40</P></td><td><P>4</P></td></tr>
<tr><td><P>config&gt;router&gt;ldp&gt;if-params&gt;if</P></td><td colspan="2"><P>Inherits values from interface-parameters context.</P></td></tr>
<tr><td><P>config&gt;router&gt;ldp&gt;targ-session&gt;peer</P></td><td colspan="2"><P>Inherits values from targeted-session context.</P></td></tr>
</table></div></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">timeout&#x2014; </span><div class="divP">Configures the time interval, expressed in seconds, that LDP waits before tearing down the session. </div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub">1 to 65535</div><p class="spacer">&#xa0;</p></div></div><div class="Parameter"><span class="ParamUser">factor&#x2014; </span><div class="divP">Specifies the number of keepalive messages, expressed as a decimal integer, that should be sent on an idle LDP session in the keepalive timeout interval.</div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub">1 to 255</div><p class="spacer">&#xa0;</p></div></div></div></div><div class="Command" id="addamr5iexw82sfnk"><h3 class="ttlCommand">local-lsr-id</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">local-lsr-id<span class="FmtNone" style="font-weight:normal;font-style:normal;"> {</span>system<span class="FmtNone" style="font-weight:normal;font-style:normal;"> | </span>interface<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>32bit-format<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Syntax">local-lsr-id<span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtEmphasis" style="font-weight:normal;">interface-name</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> [</span>32bit-format<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Syntax">no local-lsr-id</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv4</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv6</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the use of the address of the local LDP interface, or any other network interface configured on the system, as the LSR-ID to establish link LDP Hello adjacency and LDP session with directly connected LDP peers. The network interface can be a loopback or not.</P><P class="P">Link LDP sessions to all peers discovered over a given LDP interface share the same local LSR-ID. However, LDP sessions on different LDP interfaces can use different network interface addresses as their local LSR-ID.</P><P class="P">By default, the LDP session to a peer uses the system interface address as the LSR-ID unless explicitly configured using this command. The system interface must always be configured on the router, or the LDP protocol will not come up on the node. There is no requirement to include the system interface in any routing protocol.</P><P class="P">At initial configuration, the LDP session to a peer will remain down while the network interface used as LSR-ID is down. LDP will not try to bring it up using the system interface. </P><P class="P">If the network IP interface used as LSR-ID goes down, the LDP sessions to all discovered peers using this LSR-ID go down.</P><P class="P">When an interface other than the system is used as the LSR-ID, the transport connection (TCP) for the link LDP session will also use the address of that interface as the transport address. If the system or interface value is configured in the <span class="FmtBold" style="font-style:normal;">config</span>&gt;<span class="FmtBold" style="font-style:normal;">router</span>&gt;<span class="FmtBold" style="font-style:normal;">ldp</span>&gt;<span class="FmtBold" style="font-style:normal;">if-params</span>&gt;<span class="FmtBold" style="font-style:normal;">if</span>&gt;<span class="FmtBold" style="font-style:normal;">ipv4</span> or <span class="FmtBold" style="font-style:normal;">config</span>&gt;<span class="FmtBold" style="font-style:normal;">router</span>&gt;<span class="FmtBold" style="font-style:normal;">ldp</span>&gt;<span class="FmtBold" style="font-style:normal;">if-params</span>&gt;<span class="FmtBold" style="font-style:normal;">if</span>&gt;<span class="FmtBold" style="font-style:normal;">ipv6<span class="FmtNone" style="font-weight:normal;font-style:normal;">&gt;</span></span><span class="FmtBold" style="font-style:normal;">transport-address</span> context, it will be overridden with the address of the LSR-ID interface.</P><P class="P">When the <span class="FmtBold" style="font-style:normal;">local-lsr-id</span> command is enabled with the <span class="FmtBold" style="font-style:normal;">32bit-format</span> option, an SR OS LSR will be able to establish an LDP IPv6 Hello adjacency and an LDP IPv6 session with an RFC 7552 compliant peer LSR. The LSR uses a 32-bit LSR-ID set to the value of the IPv4 address of the specified local LSR-ID interface and a 128-bit transport address set to the value of the IPv6 address of the specified local LSR-ID interface.</P><div class="Info"><table class="SpecInfo"><tr><td><img src="../icons/nn021191.gif"/></td><td><span class="FmtSpecInfo">Note: </span><P>The system interface cannot be used as a local LSR-ID with the <span class="FmtBold" style="font-style:normal;">32bit-format</span> option enabled because the system interface is the default LSR-ID and transport address for all LDP sessions to peers on this LSR. This configuration is blocked in the CLI.</P></td></tr>
</table></div><P class="P">If the user enables the <span class="FmtBold" style="font-style:normal;">32bit-format</span> option in the IPv6 context of a running LDP interface, the already established LDP IPv6 Hello adjacency and LDP IPv6 session will be brought down and re-established with the new 32-bit LSR-ID value.</P><P class="P">If the user changes the LSR-ID value between <span class="FmtBold" style="font-style:normal;">system</span>, <span class="FmtBold" style="font-style:normal;">interface</span>, and <span class="FmtEmphasis" style="font-weight:normal;">interface-name</span>, or enables the <span class="FmtBold" style="font-style:normal;">32bit-format </span>option while the LDP session is up, LDP will immediately tear down all sessions using this LSR-ID and will attempt to re-establish them using the new LSR-ID.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command returns to the default behavior, in which case the system interface address is used as the LSR-ID. </P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no local-lsr-id</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser"><span class="FmtBold" style="font-style:normal;">system</span> &#x2014; </span><div class="divP">Specifies the use of the address of the system interface as the value of the LSR-ID of this LDP LSR.</div></div><div class="Parameter"><span class="ParamUser"><span class="FmtBold" style="font-style:normal;">interface</span> &#x2014; </span><div class="divP">Specifies the use of the address of the local LDP interface as the value of the LSR-ID of this LDP LSR.</div></div><div class="Parameter"><span class="ParamUser"><span class="FmtBold" style="font-style:normal;">interface-name</span> interface-name&#x2014; </span><div class="divP">Specifies the name, up to 32 character, of the network IP interface (which address is used as the LSR-ID of this LDP LSP). An interface name cannot be in the form of an IP address. If the string contains special characters (#, $, spaces, and so on), the entire string must be enclosed within double quotes.</div></div><div class="Parameter"><span class="ParamUser">32bit-format &#x2014; </span><div class="divP">Specifies the use of the IPv4 address of the local LSR-ID interface as the LSR-ID of this LDP LSR.</div></div></div></div><div class="Command" id="addamr1zfgistsyn"><h3 class="ttlCommand">transport-address</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">transport-address <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>interface<span class="FmtNone" style="font-weight:normal;font-style:normal;"> | </span>system<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Syntax">no transport-address</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv4</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if&gt;ipv6</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;ipv4</div><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;ipv6</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures the transport address to be used when setting up the LDP TCP sessions. The transport address can be configured as <span class="FmtBold" style="font-style:normal;">interface</span> or <span class="FmtBold" style="font-style:normal;">system</span>. The transport address can be configured globally (applies to all LDP interfaces) or per interface. The most specific value is used.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">config</span>&gt;<span class="FmtBold" style="font-style:normal;">router</span>&gt;<span class="FmtBold" style="font-style:normal;">ldp</span>&gt;<span class="FmtBold" style="font-style:normal;">if-params</span>&gt;<span class="FmtBold" style="font-style:normal;">ipv6</span>&gt;<span class="FmtBold" style="font-style:normal;">transport-address</span> command is not supported on the 7450 ESS.</P><P class="P">With the transport-address command, you can set up the LDP interface to the connection which can be set to the interface address or the system address. However, there can be an issue of which address to use when there are parallel adjacencies. This situation can not only happen with parallel links, it could be a link and a targeted adjacency since targeted adjacencies request the session to be set up only to the system IP address.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">transport-address</span> value should not be <span class="FmtBold" style="font-style:normal;">interface</span> if multiple interfaces exist between two LDP neighbors. Depending on the first adjacency to be formed, the TCP endpoint is chosen. In other words, if one LDP interface is set up as <span class="FmtBold" style="font-style:normal;">transport-address interface</span> and another for <span class="FmtBold" style="font-style:normal;">transport-address system</span>, then, depending on which adjacency was set up first, the TCP endpoint addresses are determined. After that, because the hello contains the LSR ID, the LDP session can be checked to verify that it is set up and then match the adjacency to the session.</P><P class="P">For any ILDP interface, as the <span class="FmtBold" style="font-style:normal;">local-lsr-id</span> parameters is changed to <span class="FmtBold" style="font-style:normal;">interface</span>, the <span class="FmtBold" style="font-style:normal;">transport-address</span> configuration loses effectiveness. Since it will be ignored and the ILDP session will <span class="FmtEmphasis">always</span> use the relevant interface IP address as transport-address even though system is chosen. </P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command, at the global level, sets the transport address to the default value. 
The <span class="FmtBold" style="font-style:normal;">no</span> form of the command, at the interface level, sets the transport address to the value defined under the global level.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>system &#x2014; The system IP address is used.</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamKeyword">interface&#x2014; </span><div class="divP">The IP interface address is used to set up the LDP session between neighbors. The transport address interface cannot be used if multiple interfaces exist between two neighbors, since only one LDP session is set up between two neighbors. </div></div><div class="Parameter"><span class="ParamKeyword">system&#x2014; </span><div class="divP">The system IP address is used to set up the LDP session between neighbors.</div></div></div></div><div class="Command" id="addamr1zfgistsyk"><h3 class="ttlCommand">ipv6</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> ipv6</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the context to configure IPv6 LDP parameters applied to the interface.</P><P class="P">This command is not supported on the 7450 ESS.</P></div></div></div><div class="Command" id="addamr1zfgistsyj"><h3 class="ttlCommand">ipv4</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> ipv4</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;if-params&gt;if</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the context to configure IPv4 LDP parameters applied to the interface.</P></div></div></div><div class="Command" id="addamr5iexw82sfo4"><h3 class="ttlCommand">ipv6</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">ipv6</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;if-params</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the context to configure LDP interfaces and parameters applied to an IPv6 LDP interface.</P><P class="P">This command is not supported on the 7450 ESS.</P></div></div></div></div><div class="Sss" id="CIAJBFJF"><h3 class="ttlSss">7.29.2.4.&#xa0;Session Parameters Commands</h3><div class="Command" id="addamrjual80a1ku"><h3 class="ttlCommand">session-parameters</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">session-parameters</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the context to configure peer specific parameters.</P></div></div></div><div class="Command" id="addamrjual80a1kv"><h3 class="ttlCommand">peer</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>peer<span class="FmtEmphasis" style="font-weight:normal;"> ip-address</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;session-parameters</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures parameters for an LDP peer.</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">ip-addr&#x2014; </span><div class="divP">The IPv4 or IPv6 address of the LDP peer in dotted decimal notation.</div></div></div></div><div class="Command" id="addamrjual80a1kx"><h3 class="ttlCommand">adv-adj-addr-only</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> adv-adj-addr-only</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;session-params&gt;peer</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command provides a means for an LDP router to advertise only the local IPv4 or IPv6 interfaces it uses to establish hello adjacencies with an LDP peer. By default, when a router establishes an LDP session with a peer, it advertises in an LDP Address message the addresses of all local interfaces to allow the peer to resolve LDP FECs distributed by this router. Similarly, a router sends a Withdraw Address message to of all its peers to withdraw a local address if the corresponding interface went down or was deleted.</P><P class="P">This new option reduces CPU processing when a large number of LDP neighbors come up or go down. The new CLI option is strongly recommended in mobile backhaul networks where the number of LDP peers can be very large.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of this command reverts LDP to the default behavior of advertising all local interfaces.</P></div></div></div><div class="Command" id="BABFEIHE"><h3 class="ttlCommand">adv-local-lsr-id</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> adv-local-lsr-id</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;session-params&gt;peer</div><div class="Context">config&gt;router&gt;ldp&gt;targeted-session&gt;peer-template</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command advertises a local LSR ID over a specified LDP session.</P><P class="P">Advertisement of a local LSR ID over a given LDP session is configured using the <span class="FmtBold" style="font-style:normal;">adv-local-lsr-id</span> command in the peer session-parameters. If a user disables the <span class="FmtBold" style="font-style:normal;">adv-local-lsr-id</span> command, then the system will withdraw the FEC for the local LSR ID.</P><P class="P">The SR OS router uses the following rules when advertising a local LSR ID: </P><div class="divList"><ol class="Bullet"><li><div class="Item">If the session parameters have the default configuration and the targeted peer template has the default configuration, the local LSR ID is not advertised. </div></li>
<li><div class="Item">If the session parameters have the default configuration but the targeted peer template has an explicit configuration for advertisement of the local LSR ID, the targeted peer template configuration is used. </div></li>
<li><div class="Item">If the session parameters have an explicit configuration for advertisement of the local LSR ID but the targeted peer template has the default configuration, the session parameter configuration is used. </div></li>
<li><div class="Item">If both the session parameters and the targeted peer template have an explicit configuration for advertisement of the local LSR ID, then the session parameter configuration is used.</div></li>
</ol>
</div><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of this command withdraws the FEC for the local LSR ID.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no adv-local-lsr-id</P></div></div></div><div class="Command" id="BABFCIIE"><h3 class="ttlCommand">community</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">community <span class="FmtEmphasis" style="font-weight:normal;">community-name</span></div><div class="Syntax">no community</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;session-params&gt;peer</div><div class="Context">config&gt;router&gt;ldp&gt;targeted-session&gt;peer-template</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures a community name associated with a targeted session to a specified peer. The community is a local configuration for a targeted session. FECs received over a session of a given community are taken to belong to that community, and are redistributed over sessions of the same community.</P><P class="P">The SR OS router uses the following rules for community: </P><div class="divList"><ol class="Bullet"><li><div class="Item">If both the session parameters for a specified peer and targeted peer template that is applied to session have the default configuration then no community applies. </div></li>
<li><div class="Item">If the session parameters for a peer have the default configuration, but targeted session peer template has an explicit configuration for community, then the targeted peer template configuration will be used. </div></li>
<li><div class="Item">If the session parameters have an explicit configuration for community, and the targeted session peer template has the default configuration, then the session parameter configuration applies. </div></li>
<li><div class="Item">If both session parameters and targeted peer template have an explicit configuration for community, then the session parameter configuration is used.</div></li>
</ol>
</div><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of this command removes the community from the session to the peer. FEC subsequently received over the session are treated as having no community.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no community</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">community-name&#x2014; </span><div class="divP">The string defining the LDP community assigned to the session. Allowed values are any string up to 32 characters long composed of printable, 7-bit ASCII characters excluding double quotes. If the string contains spaces, use double quotes to delimit the start and end of the string. </div></div></div></div><div class="Command" id="addamrjual80a1ky"><h3 class="ttlCommand">dod-label-distribution</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>dod-label-distribution</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;session-params&gt;peer</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the use of the LDP Downstream-on-Demand (DoD) label distribution procedures.</P><P class="P">When this option is enabled, LDP will set the A-bit in the Label Initialization message when the LDP session to the peer is established. When both peers set the A-bit, they will both use the DoD label distribution method over the LDP session (RFC 5036).</P><P class="P">This feature can only be enabled on a link-level LDP session and therefore will apply to prefix labels only, not service labels.</P><P class="P">As soon as the link LDP session comes up, the router will send a label request to its DoD peer for the FEC prefix corresponding to the peer&#x2019;s LSR-id. The DoD peer LSR-id is found in the basic Hello discovery messages the peer used to establish the Hello adjacency with the router.</P><P class="P">Similarly if the router and the directly attached DoD peer entered into extended discovery and established a targeted LDP session, the router will immediately send a label request for the FEC prefix corresponding to the peer&#x2019;s LSR-id found in the extended discovery messages.</P><P class="P">However, the router will not advertise any &lt;FEC, label&gt; bindings, including the FEC of its own LSR-id, unless the DoD peer requested it using a Label Request Message.</P><P class="P">When the DoD peer sends a label request for any FEC prefix, the router will reply with a &lt;FEC, label&gt; binding for that prefix if the FEC was already activated on the router. If not, the router replies with a notification message containing the status code of &#x201c;no route.&#x201d; The router will not attempt in the latter case to send a label request to the next-hop for the FEC prefix when the LDP session to this next-hop uses the DoD label distribution mode. Hence the reference to single-hop LDP DoD procedures.</P><P class="P">As soon as the link LDP session comes up, the router will send a label request to its DoD peer for the FEC prefix corresponding to the peer&#x2019;s LSR-id. The DoD peer LSR-id is found in the basic Hello discovery messages the peer used to establish the Hello adjacency with the router.</P><P class="P">Similarly if the router and the directly attached DoD peer entered into extended discovery and established a targeted LDP session, the router will immediately send a label request for the FEC prefix corresponding to the peer&#x2019;s LSR-id found in the extended discovery messages. Peer address has to be the peer LSR-ID address.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of this command disables the DoD label distribution with an LDP neighbor.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no dod-label-distribution</P></div></div></div><div class="Command" id="addamrjual80a1l0"><h3 class="ttlCommand">export-addresses</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">export-addresses <span class="FmtEmphasis" style="font-weight:normal;">policy-name </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">...(up to 5 max)]</span></div><div class="Syntax">no export-addresses</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;session-params&gt;peer</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command specifies the export prefix policy to local addresses advertised to this peer.</P><P class="P">Policies are configured in the <span class="FmtBold" style="font-style:normal;">config&gt;router&gt;policy-options</span> context. A maximum of five policy names can be specified.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command removes the policy from the configuration. </P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">policy-name &#x2014; </span><div class="divP">The export-prefix route policy name. Allowed values are any string up to 32 characters long composed of printable, 7-bit ASCII characters excluding double quotes. If the string contains spaces, use double quotes to delimit the start and end of the string. The specified name(s) must already be defined.</div></div></div></div><div class="Command" id="addamrjual80a1l2"><h3 class="ttlCommand">export-prefixes</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>export-prefixes <span class="FmtEmphasis" style="font-weight:normal;">policy-name</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;session-params&gt;peer</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command specifies the export route policy used to determine which prefixes received from other LDP and T-LDP peers are re-distributed to this LDP peer via the LDP/T-LDP session to this peer. A prefix that is filtered out (deny) will not be exported. A prefix that is filtered in (accept) will be exported.</P><P class="P">If no export policy is specified, all FEC prefixes learned will be exported to this LDP peer. This policy is applied in addition to the global LDP policy and targeted session policy.</P><P class="P">Policies are configured in the <span class="FmtBold" style="font-style:normal;">config&gt;router&gt;policy-options</span> context. A maximum of five policy names can be specified. Peer address has to be the peer LSR-ID address.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command removes the policy from the configuration. </P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no export-prefixes - no export route policy is specified</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">policy-name &#x2014; </span><div class="divP">The export-prefix route policy name. Allowed values are any string up to 32 characters long composed of printable, 7-bit ASCII characters excluding double quotes. If the string contains spaces, use double quotes to delimit the start and end of the string. The specified name(s) must already be defined.</div></div></div></div><div class="Command" id="addamrjual80a1l4"><h3 class="ttlCommand">fec-limit </h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">fec-limit <span class="FmtEmphasis" style="font-weight:normal;">limit</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> [</span>log-only<span class="FmtNone" style="font-weight:normal;font-style:normal;">] [</span>threshold<span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtEmphasis" style="font-weight:normal;">percentage</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span></div><div class="Syntax">no fec-limit </div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;session-params&gt;peer </div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures a limit on the number of FECs which an LSR will accept from a given peer and add into the LDP label database. The limit applies to the aggregate count of all FEC types including service FEC. Once the limit is reached, any FEC received will be released back to the peer. This behavior is different from the per-peer import policy which will still accept the FEC into the label database but will not resolve it. </P><P class="P">When the FEC limit for a peer is reached, the LSR performs the following actions: </P><div class="divList"><ol class="Numbers"><li><div class="Item">Generates a trap and a syslog message. </div></li>
<li><div class="Item">Generates a LDP notification message with the LSR overload status TLV, for each LDP FEC type including service FEC, to this peer only if this peer advertised support for the LSR overload sub-TLV via the LSR Overload Protection Capability TLV at session initialization. </div></li>
<li><div class="Item">Releases, with LDP Status Code of "No_Label_Resources", any new FEC, including service FEC, from this peer which exceeds the limit. </div></li>
</ol>
</div><P class="P">If a legitimate FEC is released back to a peer, while the FEC limit was exceeded, the user must have a means to replay that FEC back to the router LSR once the condition clears. This is done automatically if the peer is an SR-OS-based router and supports the LDP overload status TLV (SR OS 11.0R5 and higher). Third-party peer implementations must support the LDP overload status TLV or provide a manual command to replay the FEC. </P><P class="P">The <span class="FmtBold" style="font-style:normal;">threshold </span>option allows to set a threshold value when a trap and an syslog message are generated as a warning to the user in addition to when the limit is reached. The default value for the threshold when not configured is 90%. </P><P class="P">The<span class="FmtBold" style="font-style:normal;"> log-only</span> option causes a trap and syslog message to be generated when reaching the threshold and limit. However, LDP labels are not released back to the peer. </P><P class="P">If the user decreases the limit value such that it is lower than the current number of FECs accepted from the peer, the LDP LSR raises the trap for exceeding the limit. In addition, it will set overload for peers which signaled support for LDP overload protection capability TLV. However, no existing resolved FECs from the peer which does not support the overload protection capability TLV should be de-programmed or released. </P><P class="P">A different trap is released when crossing the threshold in the upward direction, when reaching the FEC limit, and when crossing the threshold in the downward direction. However the same trap will not be generated more often than 2 minutes apart if the number of FECs oscillates around the threshold or the FEC limit. </P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no fec-limit</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">limit&#x2014; </span><div class="divP">Specify the aggregate count of FECs of all types which can be accepted from this LDP peer. </div></div><div class="Parameter"><span class="ParamKeyword">log-only&#x2014; </span><div class="divP">Specify only a trap and syslog message are generated when reaching the threshold and limit. However, LDP labels are not released back to the peer.</div></div><div class="Parameter"><span class="ParamUser">percentage&#x2014; </span><div class="divP">Specify the threshold value (as a percentage) that triggers a warning syslog message and trap to be sent.</div></div></div></div><div class="Command" id="addamrjual80a1la"><h3 class="ttlCommand">p2mp</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">p2mp <span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable<span class="FmtNone" style="font-weight:normal;font-style:normal;"> | </span>disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;session-params&gt;peer&gt;fec-type-capability</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables or disables P2MP FEC capability for the session.</P></div></div></div><div class="Command" id="addamrjual80a1l8"><h3 class="ttlCommand">fec129-cisco-interop</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>fec129-cisco-interop</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;session-params&gt;peer</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command specifies whether LDP will provide translation between non-compliant FEC 129 formats of Cisco. Peer LDP sessions must be manually configured towards the non-compliant Cisco PEs. </P><P class="P">When enabled, Cisco non-compliant format will be used to send and interpret received label release messages that is the FEC129 SAII and TAII fields will be reversed.</P><P class="P">When the disabled, Cisco non-compliant format will not be used or supported. Peer address has to be the peer LSR-ID address.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command returns the default.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no fec129-cisco-interop</P></div></div></div><div class="Command" id="addamrjual80a1lg"><h3 class="ttlCommand">import-prefixes</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> import-prefixes <span class="FmtEmphasis" style="font-weight:normal;">policy-name</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;session-params&gt;peer</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures the import FEC prefix policy to determine which prefixes received from this LDP peer are imported and installed by LDP on this node. If resolved these FEC prefixes are then re-distributed to other LDP and T-LDP peers. A FEC prefix that is filtered out (deny) will not be imported. A FEC prefix that is filtered in (accept) will be imported.</P><P class="P">If no import policy is specified, the node will import all prefixes received from this LDP/T-LDP peer. This policy is applied in addition to the global LDP policy and targeted session policy.</P><P class="P">Policies are configured in the <span class="FmtBold" style="font-style:normal;">config&gt;router&gt;policy-options</span> context. A maximum of five policy names can be specified. Peer address has to be the peer LSR-ID address.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command removes the policy from the configuration.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no import-prefixes - no import route policy is specified</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">policy-name &#x2014; </span><div class="divP">The import-prefix route policy name. Allowed values are any string up to 32 characters long composed of printable, 7-bit ASCII characters excluding double quotes. If the string contains spaces, use double quotes to delimit the start and end of the string. The specified name(s) must already be defined.</div></div></div></div><div class="Command" id="addamrjual80a1lj"><h3 class="ttlCommand">pe-id-mac-flush-interop</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> pe-id-mac-flush-interop</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;session-params&gt;peer</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the addition of the PE-ID TLV in the LDP MAC withdrawal (mac-flush) message, under certain conditions, and modifies the mac-flush behavior for interoperability with other vendors that do not support the flush-all-from-me vendor-specific TLV. This flag can be enabled on a per LDP peer basis and allows the flush-all-from-me interoperability with other vendors. When the pe-id-mac-flush-interop flag is enabled for a given peer, the current mac-flush behavior is modified in terms of mac-flush generation, mac-flush propagation and behavior upon receiving a mac-flush. </P><P class="P">The mac-flush generation will be changed depending on the type of event and according to the following rules:</P><div class="divList"><ol class="Bullet"><li><div class="Item">Any all-from-me mac-flush event will trigger a mac-flush all-but-mine message (RFC 4762 compliant format) with the addition of a PE-ID TLV. The PE-ID TLV contains the IP address of the sending PE.</div></li>
<li><div class="Item">Any all-but-mine mac-flush event will trigger a mac-flush all-but-mine message WITHOUT the addition of the PE-ID TLV, as long as the source spoke-sdp is not part of an end-point.</div></li>
<li><div class="Item">Any all-but-mine mac-flush event will trigger a mac-flush all-but-mine message WITH the addition of the PE-ID TLV, if the source spoke-sdp is part of an end-point and the spoke-sdp goes from down/standby state to active state. In this case, the PE-ID TLV will contain the IP address of the PE to which the previous active spoke-sdp was connected to.</div></li>
</ol>
</div><P class="P">Any other case will follow the existing mac-flush procedures. </P><P class="P">When the pe-id-mac-flush-interop flag is enabled for a given LDP peer, the mac-flush ingress processing is modified according to the following rules:</P><div class="divList"><ol class="Bullet"><li><div class="Item">Any received all-from-me mac-flush will follow the existing mac-flush all-from-me rules regardless of the existence of the PE-ID.</div></li>
<li><div class="Item">Any received all-but-mine mac-flush will take into account the received PE-ID, that is all the mac addresses associated to the PE-ID will be flushed. If the PE-ID is not included, the mac addresses associated to the sending PE will be flushed.</div></li>
<li><div class="Item">Any other case will follow the existing mac-flush procedures.</div></li>
</ol>
</div><P class="P">When a mac-flush message has to be propagated (for an ingress sdp-binding to an egress sdp-binding) and the pe-id-mac-flush-interop flag is enabled for the ingress and egress TLDP peers, the following behavior is observed:</P><div class="divList"><ol class="Bullet"><li><div class="Item">If the ingress and egress bindings are spoke-sdp, the PE will propagate the mac-flush message with its own PE-ID.</div></li>
<li><div class="Item">If the ingress binding is an spoke-sdp and the egress binding a mesh-sdp, the PE will propagate the mac-flush message without modifying the PE-ID included in the PE-ID TLV.</div></li>
<li><div class="Item">If the ingress binding is a mesh-sdp and the egress binding an spoke-sdp, the PE will propagate the mac-flush message with its own PE-ID.</div></li>
<li><div class="Item">When ingress and egress bindings are mesh-sdp, the mac-flush message is never propagated. This is the behavior regardless of the pe-id-mac-flush-interop flag configuration.</div></li>
</ol>
</div><P class="P">The PE-ID TLV is never added when generating a mac-flush message on a B-VPLS if the send-bvpls-flush command is enabled in the I-VPLS. In the same way, no PE-ID is added when propagating mac-flush from a B-VPLS to a I-VPLS when the propagate-mac-flush-from-bvpls command is enabled. Mac-flush messages for peers within the same I-VPLS or within the same B-VPLS domain follow the procedures described above.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no pe-id-mac-flush-interop</P></div></div></div><div class="Command" id="addamrjual80a1ln"><h3 class="ttlCommand">shortcut-transit-ttl-propagate</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>shortcut-transit-ttl-propagate</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div><div class="Context">config&gt;router&gt;mpls</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures the TTL handling of transit packets for all LSP shortcuts originating on this ingress LER. It applies to all LDP or RSVP LSPs that are used to resolve static routes, BGP routes, and IGP routes.</P><P class="P">The user can enable or disable the propagation of the TTL from the header of an IP packet into the header of the resulting MPLS packet independently for local and transit packets forwarded over an LSP shortcut.</P><P class="P">By default, the feature propagates the TTL from the header of transit IP packets into the label stack of the resulting MPLS packets forwarded over the LSP shortcut. This is referred to as Uniform mode.</P><P class="P">When the <span class="FmtBold" style="font-style:normal;">no</span> form of the command is enabled, TTL propagation is disabled on all transit IP packets received on any IES interface and destined to a route that is resolved to the LSP shortcut. In this case, a TTL of 255 is programmed onto the pushed label stack. This is referred to as Pipe mode.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>shortcut-transit-ttl-propagate</P></div></div></div><div class="Command" id="addamrjual80a1lp"><h3 class="ttlCommand">shortcut-local-ttl-propagate</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>shortcut-local-ttl-propagate</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div><div class="Context">config&gt;router&gt;mpls</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures the TTL handling of locally generated packets for all LSP shortcuts originating on this ingress LER. It applies to all LDP or RSVP LSPs that are used to resolve static routes, BGP routes, and IGP routes.</P><P class="P">The user can enable or disable the propagation of the TTL from the header of an IP packet into the header of the resulting MPLS packet independently for local and transit packets forwarded over an LSP shortcut.</P><P class="P">Local IP packets include ICMP Ping, traceroute, and OAM packets, that are destined to a route that is resolved to the LSP shortcut. Transit IP packets are all IP packets received on any IES interface and destined to a route that is resolved to the LSP shortcut</P><P class="P">By default, the feature propagates the TTL from the header of locally generated IP packets into the label stack of the resulting MPLS packets forwarded over the LSP shortcut. This is referred to as Uniform mode.</P><P class="P">When the <span class="FmtBold" style="font-style:normal;">no</span> form of the above command is enabled, TTL propagation is disabled on all locally generated IP packets, including ICMP Ping, traceroute, and OAM packets, that are destined to a route that is resolved to the LSP shortcut. In this case, a TTL of 255 is programmed onto the pushed label stack. This is referred to as Pipe mode.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>shortcut-local-ttl-propagate</P></div></div></div></div><div class="Sss" id="CIAHGIEA"><h3 class="ttlSss">7.29.2.5.&#xa0;Targeted Session Commands</h3><div class="Command" id="addamrjual80a1lr"><h3 class="ttlCommand">targeted-session</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">targeted-session</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures targeted LDP sessions. Targeted sessions are LDP sessions between non-directly connected peers. Hello messages are sent directly to the peer platform instead of to all the routers on this subnet multicast address. The user can configure different default parameters for IPv4 and IPv6 LDP targeted hello adjacencies.</P><P class="P">The discovery messages for an indirect LDP session are addressed to the specified peer and not to the multicast address.</P></div></div></div><div class="Command" id="addamrjual80a1lu"><h3 class="ttlCommand">disable-targeted-session</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>disable-targeted-session</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;targ-session</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command disables support for SDP triggered automatic generated targeted sessions. Targeted sessions are LDP sessions between non-directly connected peers. The discovery messages for an indirect LDP session are addressed to the specified peer and not to the multicast address.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command enables the set up of any targeted sessions. </P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no disable-targeted-session </P></div></div></div><div class="Command" id="addamrjual80a1m2"><h3 class="ttlCommand">export-prefixes</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">export-prefixes <span class="FmtEmphasis" style="font-weight:normal;">policy-name</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> [</span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">...(up to 5 max)]</span></div><div class="Syntax">no export-prefixes</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;targeted-session</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command specifies the export route policy used to determine which FEC prefix label bindings are exported from a targeted LDP session. A route that is filtered out (deny) will not be exported. A route that is filtered in (accept) will be exported.</P><P class="P">If no export policy is specified, all bindings learned through a targeted LDP session will be exported to all targeted LDP peers. This policy is applied in addition to the global LDP policy.</P><P class="P">Policies are configured in the <span class="FmtBold" style="font-style:normal;">config&gt;router&gt;policy-options</span> context. A maximum of five policy names can be specified.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command removes the policy from the configuration.</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">policy-name&#x2014; </span><div class="divP">The export policy name. Allowed values are any string up to 32 characters long composed of printable, 7-bit ASCII characters. If the string contains special characters (#, $, spaces, and so on), the entire string must be enclosed within double quotes.</div></div></div></div><div class="Command" id="addamrjual80a1m4"><h3 class="ttlCommand">import-prefixes</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">import-prefixes <span class="FmtEmphasis" style="font-weight:normal;">policy-name</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> [</span><span class="FmtEmphasis" style="font-weight:normal;">policy-name</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">...(up to 5 max)]</span></div><div class="Syntax">no import-prefixes</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;targeted-session</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures the import route policy to determine which FEC prefix label bindings are accepted from targeted LDP neighbors into this node. A label binding that is filtered out (deny) will not be imported. A route that is filtered in (accept) will be imported.</P><P class="P">If no import policy is specified, this node session will accept all bindings from configured targeted LDP neighbors. This policy is applied in addition to the global LDP policy.</P><P class="P">Policies are configured in the <span class="FmtBold" style="font-style:normal;">config&gt;router&gt;policy-option</span>s context. A maximum of five policy names can be specified.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command removes the policy from the configuration.</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">policy-name&#x2014; </span><div class="divP">The import policy name. Allowed values are any string up to 32 characters long composed of printable, 7-bit ASCII characters. If the string contains special characters (#, $, spaces, and so on), the entire string must be enclosed within double quotes.</div></div></div></div><div class="Command" id="addamrjual80a1m6"><h3 class="ttlCommand">ipv4</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">ipv4</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;targeted-session</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P><span class="FmtNone" style="font-weight:normal;font-style:normal;">This command enables the context to configure parameters applied to targeted sessions to all IPv4 LDP peers.</span></P></div></div></div><div class="Command" id="addamr5iexw82sfoc"><h3 class="ttlCommand">hello-reduction</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">hello-reduction<span class="FmtEmphasis" style="font-weight:normal;"> </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">{</span>enable<span class="FmtEmphasis" style="font-weight:normal;"> factor <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> </span>disable<span class="FmtNone" style="font-weight:normal;font-style:normal;">}</span></div><div class="Syntax">no hello-reduction</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;ipv4</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;ipv6</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;peer</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;peer-template</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the suppression of periodic targeted Hello messages between LDP peers once the targeted LDP session is brought up.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">config</span>&gt;<span class="FmtBold" style="font-style:normal;">router</span>&gt;<span class="FmtBold" style="font-style:normal;">ldp</span>&gt;<span class="FmtBold" style="font-style:normal;">targ-session</span>&gt;<span class="FmtBold" style="font-style:normal;">ipv6</span>&gt;<span class="FmtBold" style="font-style:normal;">hello-reduction</span> command is not supported on the 7450 ESS.</P><P class="P">When this feature is enabled, the target Hello adjacency is brought up by advertising the Hold-Time value the user configured in the &#x201c;<span class="FmtBold" style="font-style:normal;">hello</span> timeout&#x201d; parameter for the targeted session. The LSR node will then start advertising an exponentially increasing Hold-Time value in the Hello message as soon as the targeted LDP session to the peer is up. Each new incremented Hold-Time value is sent in a number of Hello messages equal to the value of the argument <span class="FmtEmphasis">factor</span>, which represents the dampening factor, before the next exponential value is advertised. This provides time for the two peers to settle on the new value. When the Hold-Time reaches the maximum value of 0xffff (binary 65535), the two peers will send Hello messages at a frequency of every [(65535-1)/local helloFactor] seconds for the lifetime of the targeted-LDP session (for example, if the local Hello Factor is three
(3), then Hello messages will be sent every 21844 seconds. </P><P class="P">The LSR node continues to compute the frequency of sending the Hello messages based on the minimum of its local Hold-time value and the one advertised by its peer as in RFC 5036. Thus for the targeted LDP session to suppress the periodic Hello messages, both peers must bring their advertised Hold-Time to the maximum value. If one of the LDP peers does not, the frequency of the Hello messages sent by both peers will continue to be governed by the smaller of the two Hold-Time values.</P><P class="P">When the user enables the hello reduction option on the LSR node while the targeted LDP session to the peer is operationally up, the change will take effect immediately. In other words, the LSR node will start advertising an exponentially increasing Hold-Time value in the Hello message, starting with the current configured Hold-Time value.</P><P class="P">When the user disables the hello reduction option while the targeted LDP session to the peer is operationally up, the change in the Hold-Time from 0xffff (binary 65535) to the user configured value for this peer will take effect immediately. The local LSR will immediately advertise the value of the user configured Hold-Time value and will not wait until the next scheduled time to send a Hello to make sure the peer adjusts its local hold timeout value immediately.</P><P class="P">In general, any configuration change to the parameters of the T-LDP Hello adjacency (modifying the hello adjacency Hello Timeout or factor, enabling/disabling hello reduction, or modifying hello reduction factor) will cause the LSR node to trigger immediately an updated Hello message with the updated Hold Time value without waiting for the next scheduled time to send a Hello.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no </span>form of this command disables the hello reduction feature.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no hello-reduction</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">factor&#x2014; </span><div class="divP">Specifies the integer that specifies the Hello reduction dampening factor.</div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub">3 to20</div><p class="spacer">&#xa0;</p></div></div></div></div><div class="Command" id="addamrjual80a1m7"><h3 class="ttlCommand">ipv6</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">ipv6</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;targeted-session</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P><span class="FmtNone" style="font-weight:normal;font-style:normal;">This command enables the context to configure parameters applied to targeted sessions to all IPv6 LDP peers.</span></P><P class="P">This command is not supported on the 7450 ESS.</P></div></div></div><div class="Command" id="addamrjual80a1lv"><h3 class="ttlCommand">peer</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>peer<span class="FmtEmphasis" style="font-weight:normal;"> ip-address</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;targeted-session</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures parameters for an LDP peer.no</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">ip-address&#x2014; </span><div class="divP">The IPv4 or IPv6 address of the LDP peer in dotted decimal notation.</div></div></div></div><div class="Command" id="addamrjual80a1ls"><h3 class="ttlCommand">bfd-enable</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> bfd-enable </div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;peer</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;peer-template</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the bidirectional forwarding detection (BFD) session for the selected TLDP session. By enabling BFD for a selected targeted session, the state of that session is tied to the state of the underneath BFD session between the two nodes. </P><P class="P">The parameters used for the BFD are set via the BFD command under the IP interface.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of this command removes the TLDP session operational state binding to the central BFD session one.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no bfd-enable</P></div></div></div><div class="Command" id="BABBDGAE"><h3 class="ttlCommand">local-lsr-id</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">local-lsr-id<span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtEmphasis" style="font-weight:normal;">interface-name</span><span class="FmtNone" style="font-weight:normal;font-style:normal;"> </span><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>32bit-format<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Syntax">no local-lsr-id</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;peer</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;peer-template</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the use of the address of any network interface configured on the system, as the LSR-ID to establish a targeted LDP Hello adjacency and a targeted LDP session with an LDP peer. The network interface can be a loopback or not.</P><P class="P">By default, the targeted LDP session to a peer uses the system interface address as the LSR-ID and as the transport address, unless explicitly configured using this command. The system interface must always be configured on the router, or the LDP protocol will not come up on the node. There is no requirement to include the system interface in any routing protocol.</P><P class="P">When the <span class="FmtBold" style="font-style:normal;">local-lsr-id</span> command is enabled with the <span class="FmtBold" style="font-style:normal;">32bit-format</span> option, an SR OS LSR will be able to establish a targeted LDP IPv6 Hello adjacency and a targeted LDP IPv6 session with an RFC 7552 compliant peer LSR. The LSR uses a 32-bit LSR-ID set to the value of the IPv4 address of the specified local LSR-ID interface and a 128-bit transport address set to the value of the IPv6 address of the specified local LSR-ID interface.</P><div class="Info"><table class="SpecInfo"><tr><td><img src="../icons/nn021191.gif"/></td><td><span class="FmtSpecInfo">Note: </span><P>The system interface cannot be used as a local LSR-ID with the 3<span class="FmtBold" style="font-style:normal;">2bit-format</span> option enabled because the system interface is the default LSR-ID and transport address for all targeted LDP sessions to peers on this LSR. This configuration is blocked in the CLI.</P></td></tr>
</table></div><P class="P">If the user enables the <span class="FmtBold" style="font-style:normal;">32bit-format</span> option in the IPv6 context of a running targeted LDP peer, the already established targeted LDP IPv6 Hello adjacency and targeted LDP IPv6 session will be brought down and re-established with the new 32-bit LSR-ID value. </P><P class="P">If the user changes the local LSR-ID value or enables/disables the <span class="FmtBold" style="font-style:normal;">32bit-format</span> option, while the targeted LDP session is up, LDP will immediately tear down the targeted session using this LSR-ID and will attempt to re-establish it using the new LSR-ID.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command returns to the default behavior, in which case the system interface address is used as the LSR-ID. </P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no local-lsr-id</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">interface-name&#x2014; </span><div class="divP">Specifies the name, up to 32 characters, of the network IP interface (which address is used as the LSR-ID of this LDP LSP). An interface name cannot be in the form of an IP address. If the string contains special characters (#, $, spaces, and so on), the entire string must be enclosed within double quotes.</div></div><div class="Parameter"><span class="ParamUser"><span class="FmtBold" style="font-style:normal;">32bit-format</span> &#x2014; </span><div class="divP">Specifies the use of the IPv4 address of the local LSR-ID interface as the LSR-ID of this LDP LSR.</div></div></div></div><div class="Command" id="addamr5iexw82sfno"><h3 class="ttlCommand">tunneling</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>tunneling</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;peer</div><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;peer-template</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables LDP over tunnels. </P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command disables tunneling.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no tunneling</P></div></div></div><div class="Command" id="addamr5iexw82sfns"><h3 class="ttlCommand">lsp</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>lsp <span class="FmtEmphasis" style="font-weight:normal;">lsp-name</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;targ-session&gt;tunneling</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures a specific LSP destined to this peer and to be used for tunneling of LDP FEC over RSVP. A maximum of 4 RSVP LSPs can be explicitly used for tunneling LDP FECs to the T-LDP peer. </P><P class="P">It is not necessary to specify any RSVP LSP in this context unless there is a need to restrict the tunneling to selected LSPs. All RSVP LSPs with a to address matching that of the T-LDP peer are eligible by default. The user can also exclude specific LSP names by using the ldp-over-rsvp exclude command in the <span class="FmtBold" style="font-style:normal;">configure-&gt;router-&gt;mpls-&gt;lsp</span> <span class="FmtEmphasis">lsp-name</span> context.</P></div></div></div><div class="Command" id="addamrjual80a1m1"><h3 class="ttlCommand">peer-template</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax"><span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>no<span class="FmtNone" style="font-weight:normal;font-style:normal;">] </span>peer-template<span class="FmtEmphasis" style="font-weight:normal;"> template-name</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;targeted-session</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command creates a targeted session peer parameter template that can be referenced in the automatic creation of targeted Hello adjacency and LDP session to a discovered peer.</P><P class="P">The<span class="FmtBold" style="font-style:normal;"> no</span> form of command deletes the peer template. A peer template cannot be deleted if it is bound to a peer prefix list.</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">template-name&#x2014; </span><div class="divP">Specifies the template name to identify targeted peer template. It must be 32 characters maximum.</div></div></div></div><div class="Command" id="addamrjual80a1lx"><h3 class="ttlCommand">peer-template-map</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">peer-template-map <span class="FmtEmphasis" style="font-weight:normal;">template-name</span> policy <span class="FmtEmphasis" style="font-weight:normal;">peer-prefix-policy1</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtEmphasis" style="font-weight:normal;">peer-prefix-policy2..up to 5</span><span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></div><div class="Syntax">no peer-template-map peer-template<span class="FmtEmphasis" style="font-weight:normal;"> template-name</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;targeted-session</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the automatic creation of a targeted Hello adjacency and LDP session to a discovered peer. The user configures a targeted session peer parameter template and binds it to a peer prefix policy.</P><P class="P">Each application of a targeted session template to a given prefix in the prefix list will result in the establishment of a targeted Hello adjacency to an LDP peer using the template parameters as long as the prefix corresponds to a router-id for a node in the TE database. As a result of this, the user must enable the traffic-engineering option in ISIS or OSPF. The targeted Hello adjacency will either trigger a new LDP session or will be associated with an existing LDP session to that peer.</P><P class="P">Up to 5 peer prefix policies can be associated with a single peer template at all times. Also, the user can associate multiple templates with the same or different peer prefix policies. Thus multiple templates can match with a given peer prefix. In all cases, the targeted session parameters applied to a given peer prefix are taken from the first created template by the user. This provides a more deterministic behavior regardless of the order in which the templates are associated with the prefix policies.</P><P class="P">Each time the user executes the above command, with the same or different prefix policy associations, or the user changes a prefix policy associated with a targeted peer template, the system re-evaluates the prefix policy. The outcome of the re-evaluation will tell LDP if an existing targeted Hello adjacency needs to be torn down or if an existing targeted Hello adjacency needs to have its parameters updated on the fly. </P><P class="P">If a /32 prefix is added to (removed from) or if a prefix range is expanded (shrunk) in a prefix list associated with a targeted peer template, the same prefix policy re-evaluation described above is performed. </P><P class="P">The template comes up in the <span class="FmtBold" style="font-style:normal;">no shutdown</span> state and as such it takes effect immediately. Once a template is in use, the user can change any of the parameters on the fly without shutting down the template. In this case, all targeted Hello adjacencies are updated.</P><P class="P">The SR OS supports multiple ways of establishing a targeted Hello adjacency to a peer LSR:</P><div class="divList"><ol class="Bullet"><li><div class="Item">User configuration of the peer with the targeted session parameters inherited from the <span class="FmtBold" style="font-style:normal;">config&gt;router&gt;ldp&gt;targeted-session</span> in the top level context or explicitly configured for this peer in the <span class="FmtBold" style="font-style:normal;">config&gt;router&gt;ldp&gt;targ-session&gt;peer </span>context and which overrides the top level parameters shared by all targeted peers. Let us refer to the top level configuration context as the global context. Some parameters only exist in the global context; their value will always be inherited by all targeted peers regardless of which event triggered it.</div></li>
<li><div class="Item">User configuration of an SDP of any type to a peer with the signaling tldp option enabled (default configuration). In this case the targeted session parameter values are taken from the global context.</div></li>
<li><div class="Item">User configuration of a (FEC 129) PW template binding in a BGP-VPLS service. In this case the targeted session parameter values are taken from the global context.</div></li>
<li><div class="Item">User configuration of a (FEC 129 type II) PW template binding in a VLL service (dynamic multi-segment PW). In this case the target session parameter values are taken from the global context</div></li>
<li><div class="Item">User configuration of a mapping of a targeted session peer parameter template to a prefix policy when the peer address exists in the TE database (this feature). In this case, the targeted session parameter values are taken from the template.</div></li>
</ol>
</div><P class="P">Since the above triggering events can occur simultaneously or in any arbitrary order, the LDP code implements a priority handling mechanism in order to decide which event overrides the active targeted session parameters. The overriding trigger will become the owner of the targeted adjacency to a given peer. The following is the priority order:</P><div class="divList"><ol class="Bullet"><li><div class="Item">Priority 1: manual configuration of session parameters </div></li>
<li><div class="Item">Priority 2: mapping of targeted session template to prefix policy.</div></li>
<li><div class="Item">Priority 3: manual configuration of SDP, PW template binding in BGP-AD VPLS and in FEC 129 VLL.</div></li>
</ol>
</div><P class="P">Any parameter value change to an active targeted Hello adjacency caused by any of the above triggering events is performed on the fly by having LDP immediately send a Hello message with the new parameters to the peer without waiting for the next scheduled time for the Hello message. This allows the peer to adjust its local state machine immediately and maintains both the Hello adjacency and the LDP session in UP state. The only exceptions are the following:</P><div class="divList"><ol class="Bullet"><li><div class="Item">The triggering event caused a change to the local-lsr-id parameter value. In this case, the Hello adjacency is brought down which will also cause the LDP session to be brought down if this is the last Hello adjacency associated with the session. A new Hello adjacency and LDP session will then get established to the peer using the new value of the local LSR ID. </div></li>
<li><div class="Item">The triggering event caused the targeted peer shutdown option to be enabled. In this case, the Hello adjacency is brought down which will also cause the LDP session to be brought down if this is the last Hello adjacency associated with the session. </div></li>
</ol>
</div><P class="P">Finally, the value of any LDP parameter which is specific to the LDP/TCP session to a peer is inherited from the <span class="FmtBold" style="font-style:normal;">config&gt;router&gt;ldp&gt;session-params&gt;peer</span> context. This includes MD5 authentication, LDP prefix per-peer policies, label distribution mode (DU or DOD), and so on</P><P class="P">The no form of this command deletes the binding of the template to the peer prefix list and brings down all Hello adjacencies to the discovered LDP peers.</P></div></div></div></div><div class="Sss" id="CIAIJAID"><h3 class="ttlSss">7.29.2.6.&#xa0;TCP Session Parameters Commands</h3><div class="Command" id="addamrjual80a1m8"><h3 class="ttlCommand">tcp-session-parameters</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">tcp-session-parameters</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables the context to configure parameters applicable to TCP transport session of an LDP session to remote peer.</P></div></div></div><div class="Command" id="addamrjual80a1m9"><h3 class="ttlCommand">peer-transport</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">peer-transport <span class="FmtEmphasis" style="font-weight:normal;">ip-address</span></div><div class="Syntax">no peer transport </div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;tcp-session-parameters</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures the peer transport address, that is, the destination address of the TCP connection, and not the address corresponding to the LDP LSR-ID of the peer.</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">ip-address&#x2014; </span><div class="divP">The IPv4 or IPv6 address of the TCP connection to the LDP peer in dotted decimal notation.</div></div></div></div><div class="Command" id="addamrjual80a1ma"><h3 class="ttlCommand">auth-keychain</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">auth-keychain <span class="FmtEmphasis" style="font-weight:normal;">name</span></div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;tcp-session-params&gt;peer-transport</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures TCP authentication keychain to use for the session.</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">name&#x2014; </span><div class="divP">Specifies the name of the keychain to use for the specified TCP session or sessions. This keychain allows the rollover of authentication keys during the lifetime of a session up to 32 characters in length. Peer address has to be the TCP session transport address.</div></div></div></div><div class="Command" id="addamrjual80a1mc"><h3 class="ttlCommand">authentication-key</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">authentication-key <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span><span class="FmtEmphasis" style="font-weight:normal;">authentication-key <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> hash-key<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span> <span class="FmtNone" style="font-weight:normal;font-style:normal;">[</span>hash <span class="FmtNone" style="font-weight:normal;font-style:normal;">|</span> hash2<span class="FmtNone" style="font-weight:normal;font-style:normal;">]</span></span></div><div class="Syntax">no authentication-key</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;tcp-session-params&gt;peer-transport</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command specifies the authentication key to be used between LDP peers before establishing sessions. Authentication uses the MD-5 message-based digest. Peer address has to be the TCP session transport address. If one or more transport addresses used in the Hello adjacencies to the same peer LSR are different from the LSR-ID value, the user must add each of the transport addresses to the authentication-key configuration as a separate peer. This means when the TCP connection is bootstrapped by a given Hello adjacency, the authentication can operate over that specific TCP connection by using its specific transport address.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span><span class="FmtBold" style="font-style:normal;"> </span>form of this command disables authentication.</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">authentication-key&#x2014; </span><div class="divP">The authentication key. The key can be any combination of ASCII characters up to 16 characters in length (unencrypted). If spaces are used in the string, enclose the entire string in quotation marks (&#x201c; &#x201d;).</div></div><div class="Parameter"><span class="ParamUser">hash-key&#x2014; </span><div class="divP">The hash key. The key can be any combination of up 33 alphanumeric characters. If spaces are used in the string, enclose the entire string in quotation marks (&#x201c; &#x201d;). </div><P class="P">This is useful when a user must configure the parameter, but, for security purposes, the actual unencrypted key value is not provided.</P></div><div class="Parameter"><span class="ParamKeyword">hash&#x2014; </span><div class="divP">Specifies the key is entered in an encrypted form. If the <span class="FmtBold" style="font-style:normal;">hash</span> or <span class="FmtBold" style="font-style:normal;">hash2</span> parameter is not used, the key is assumed to be in an unencrypted, clear text form. For security, all keys are stored in encrypted form in the configuration file with the <span class="FmtBold" style="font-style:normal;">hash</span> or <span class="FmtBold" style="font-style:normal;">hash2</span> parameter specified</div></div><div class="Parameter"><span class="ParamKeyword">hash2&#x2014; </span><div class="divP">Specifies the key is entered in a more complex encrypted form that involves more variables than the key value alone, meaning that the <span class="FmtBold" style="font-style:normal;">hash2</span> encrypted variable cannot be copied and pasted. If the <span class="FmtBold" style="font-style:normal;">hash</span> or <span class="FmtBold" style="font-style:normal;">hash2</span> parameter is not used, the key is assumed to be in an unencrypted, clear text form. For security, all keys are stored in encrypted form in the configuration file with the <span class="FmtBold" style="font-style:normal;">hash</span> or <span class="FmtBold" style="font-style:normal;">hash2</span> parameter specified.</div></div></div></div><div class="Command" id="addamrjual80a1me"><h3 class="ttlCommand">path-mtu-discovery</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">path-mtu-discovery</div><div class="Syntax">no path-mtu-discovery</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;tcp-session-params&gt;peer-transport</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command enables Path MTU discovery for the associated TCP connections. When enabled, the MTU for the associated TCP session is initially set to the egress interface MTU. The DF bit is also set so that if a router along the path of the TCP connection cannot handle a packet of a particular size without fragmenting, it sends back an ICMP message to set the path MTU for the given session to a lower value that can be forwarded without fragmenting. </P><P class="P">If one or more transport addresses used in the Hello adjacencies to the same peer LSR are different from the LSR-ID value, the user must add each of the transport addresses to the path MTU discovery configuration as a separate peer. This means when the TCP connection is bootstrapped by a given Hello adjacency, the path MTU discovery can operate over that specific TCP connection by using its specific transport address.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no path-mtu-discovery</P></div></div></div><div class="Command" id="addamrjual80a1mg"><h3 class="ttlCommand">ttl-security</h3><div class="CommandSyntax"><h6 class="SyntaxHeader">Syntax&#xa0;
	</h6><div class="Syntax">ttl-security <span class="FmtEmphasis" style="font-weight:normal;">min-ttl-value</span></div><div class="Syntax">no ttl-security</div></div><div class="CommandContext"><h6 class="ContextHeader">Context&#xa0;
	</h6><div class="Context">config&gt;router&gt;ldp&gt;tcp-session-params&gt;peer-transport</div></div><div class="CommandDescription"><h6 class="DescriptionHeader">Description&#xa0;
	</h6><div class="divContent"><P>This command configures TTL security parameters for incoming packets. When the feature is enabled, BGP/LDP will accept incoming IP packets from a peer only if the TTL value in the packet is greater than or equal to the minimum TTL value configured for that peer. Peer address has to be the TCP session transport address.</P><P class="P">The <span class="FmtBold" style="font-style:normal;">no</span> form of the command disables TTL security.</P></div></div><div class="CommandDefault"><h6 class="DefaultHeader">Default&#xa0;
	</h6><div class="divContent"><P>no ttl-security</P></div></div><div class="CommandParameters"><h6 class="ParametersHeader">Parameters&#xa0;
	</h6><div class="Parameter"><span class="ParamUser">min-ttl-value&#x2014; </span><div class="divP">Specify the minimum TTL value for an incoming packet.</div><div class="ParamValues"><div class="ParamValuesHeader">Values&#x2014; </div><div class="divCommandSub">1 to 255</div><p class="spacer">&#xa0;</p></div></div></div></div></div></div></div></div><div id="pdf"><button id="pdfButton" type="button">PDF</button></div></body></html>