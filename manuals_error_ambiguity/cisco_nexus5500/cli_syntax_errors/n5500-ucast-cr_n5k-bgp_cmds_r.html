<div class="col wide-v2 indent-at-xlarge" id="pageContentDiv">
 <div class="base-blowout" id="chapterToc">
  <button aria-expanded="false">
   <span>
   </span>
   Chapter Contents
  </button>
  <div>
   <ul>
    <li>
     <a href="#wp1678589">
      redistribute (BGP)
     </a>
    </li>
    <li>
     <a href="#wp1679397">
      remote-as
     </a>
    </li>
    <li>
     <a href="#wp1679446">
      restart (BGP)
     </a>
    </li>
    <li>
     <a href="#wp1679717">
      route-map
     </a>
    </li>
    <li>
     <a href="#wp2136938">
      route-reflector-client (BGP)
     </a>
    </li>
    <li>
     <a href="#wp1679987">
      router bgp
     </a>
    </li>
   </ul>
   <button id="chapterToc-close">
    Close
    <span>
    </span>
   </button>
  </div>
 </div>
 <div id="chapterContent" style="position: relative;">
  <br/>
  <a name="wp1735307">
  </a>
  <a name="wpxref85122">
  </a>
  <h2 class="pCT_ChapTitle">
   R Commands
  </h2>
  <hr class="Chap1"/>
  <a name="wp1022542">
  </a>
  <p class="pB1_Body1">
   This chapter describes the Cisco NX-OS Border Gateway Protocol (BGP) commands that begin with R.
  </p>
  <a name="redistribute_(BGP)">
  </a>
  <a name="wp1678589">
  </a>
  <a name="wpmkr1678586">
  </a>
  <a name="wpmkr1678588">
  </a>
  <h2 class="pCRC_CmdRefCommand">
   redistribute (BGP)
  </h2>
  <a name="wp1678590">
  </a>
  <p class="pB1_Body1">
   To inject routes from one routing domain into the Border Gateway Protocol (BGP), use the
   <b class="cCN_CmdName">
    redistribute
   </b>
   command. To remove the
   <b class="cCN_CmdName">
    redistribute
   </b>
   command from the configuration file and restore the system to its default condition in which the software does not redistribute routes, use the
   <b class="cBold">
    no
   </b>
   form of this command.
  </p>
  <a name="wp1678591">
  </a>
  <p class="pCENB_CmdEnv_NoBold">
   <b class="cCN_CmdName">
    redistribute
   </b>
   {
   <b class="cKeyword">
    direct
   </b>
   |
   <b class="cKeyword" style="font-weight: bold">
    eigrp
   </b>
   <em class="cArgument" style="font-weight: normal">
    instance-tag
   </em>
   <em class="cCi_CmdItalic">
   </em>
   |
   <b class="cKeyword">
    ospf
   </b>
   <em class="cArgument">
    instance-tag
   </em>
   <em class="cCi_CmdItalic">
   </em>
   |
   <b class="cKeyword">
    rip
   </b>
   <em class="cArgument">
    instance-tag
   </em>
   <em class="cCi_CmdItalic">
   </em>
   |
   <b class="cKeyword">
    static
   </b>
   }
   <b class="cKeyword">
   </b>
   [
   <b class="cKeyword" style="font-weight: bold">
    route-map
   </b>
   <em class="cArgument" style="font-weight: normal">
    map-name
   </em>
   ]
  </p>
  <a name="wp1678592">
  </a>
  <p class="pCENB_CmdEnv_NoBold">
   <b class="cCN_CmdName">
    no redistribute
   </b>
   {{
   <b class="cKeyword">
    direct
   </b>
   |
   <b class="cKeyword" style="font-weight: bold">
    eigrp
   </b>
   <em class="cArgument" style="font-weight: normal">
    instance-tag
   </em>
   <em class="cCi_CmdItalic">
   </em>
   |
   <b class="cKeyword">
    ospf
   </b>
   <em class="cArgument">
    instance-tag
   </em>
   <em class="cCi_CmdItalic">
   </em>
   |
   <b class="cKeyword">
    rip
   </b>
   <em class="cArgument">
    instance-tag
   </em>
   <em class="cCi_CmdItalic">
   </em>
   |
   <b class="cKeyword">
    static
   </b>
   }
   <b class="cKeyword">
   </b>
   [
   <b class="cKeyword" style="font-weight: bold">
    route-map
   </b>
   <em class="cArgument" style="font-weight: normal">
    map-name
   </em>
   ]
  </p>
  <a name="wp1678622">
  </a>
  <h3 class="pCRSD_CmdRefSynDesc">
   Syntax Description
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp1678595table1678593" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="top">
       <td>
        <a name="wp1678595">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          direct
         </b>
        </p>
       </td>
       <td>
        <a name="wp1678597">
        </a>
        <p class="pB1_Body1">
         Distributes routes that are directly connected on an interface.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1678599">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          eigrp
         </b>
         <b class="cKeyword" style="font-weight: bold">
         </b>
         <span style="color: Black; font-style: italic; font-weight: normal">
          instance-tag
         </span>
        </p>
       </td>
       <td>
        <a name="wp1678601">
        </a>
        <p class="pB1_Body1">
         Specifies the name of an EIGRP instance. The
         <em class="cEmphasis">
          instance-tag
         </em>
         can be any case-sensitive, alphanumeric string up to 20 characters.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1678607">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          ospf
         </b>
         <b class="cKeyword" style="font-weight: bold">
         </b>
         <span style="color: Black; font-style: italic; font-weight: normal">
          instance-tag
         </span>
        </p>
       </td>
       <td>
        <a name="wp1678609">
        </a>
        <p class="pB1_Body1">
         Distributes routes from the OSPF protocol. This protocol is supported in the IPv4 address family. The
         <em class="cEmphasis">
          instance-tag
         </em>
         can be any case-sensitive, alphanumeric string up to 20 characters.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1678611">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          rip
         </b>
         <b class="cKeyword" style="font-weight: bold">
         </b>
         <span style="color: Black; font-style: italic; font-weight: normal">
          instance-tag
         </span>
        </p>
       </td>
       <td>
        <a name="wp1678613">
        </a>
        <p class="pB1_Body1">
         Distributes routes from the RIP protocol. The
         <em class="cEmphasis">
          instance-tag
         </em>
         can be any case-sensitive, alphanumeric string up to 20 characters.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1678615">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          static
         </b>
        </p>
       </td>
       <td>
        <a name="wp1678617">
        </a>
        <p class="pB1_Body1">
         Redistributes IP static routes.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1678619">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          route-map
         </b>
         <b class="cKeyword" style="font-weight: bold">
         </b>
         <em class="cArgument" style="font-weight: normal">
          map-name
         </em>
        </p>
       </td>
       <td>
        <a name="wp1678621">
        </a>
        <p class="pB1_Body1">
         (Optional) Specifies the identifier of a configured route map. Use a route map to filter which routes are redistributed into EIGRP.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRSD_CmdRefSynDesc">
  </h3>
  <a name="wp1678623">
  </a>
  <h3 class="pCRCD_CmdRefCmdDefault">
   Command Default
  </h3>
  <a name="wp1678624">
  </a>
  <p class="pB1_Body1">
   Disabled
  </p>
  <a name="wp1678625">
  </a>
  <h2 class="pCRCM_CmdRefCmdModes">
   Command Modes
  </h2>
  <a name="wp1678638">
  </a>
  <h3 class="pCRCH_CmdRefCmdHist">
   Command History
   <span style="color: Black; font-style: normal; font-weight: normal">
    Address family configuration mode
    <br/>
    Router configuration mode
    <br/>
    Router VRF configuration mode
   </span>
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp1678631table1678629" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="bottom">
       <th scope="col">
        <a name="wp1678631">
        </a>
        <section class="pCH1_CellHead1">
         Release
        </section>
       </th>
       <th scope="col">
        <a name="wp1678633">
        </a>
        <section class="pCH1_CellHead1">
         Modification
        </section>
       </th>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1678635">
        </a>
        <p class="pB1_Body1">
         5.0(3)N1(1)
        </p>
       </td>
       <td>
        <a name="wp1678637">
        </a>
        <p class="pB1_Body1">
         This command was introduced.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRCH_CmdRefCmdHist">
  </h3>
  <a name="wp1678639">
  </a>
  <h3 class="pCRUG_CmdRefUseGuide">
   Usage Guidelines
  </h3>
  <a name="wp1678640">
  </a>
  <p class="pB1_Body1">
   Use the
   <b class="cCN_CmdName">
    redistribute
   </b>
   command to import routes from other routing protocols into BGP. You should always use a route map to filter these routes to ensure that BGP redistributes only the routes that you intend to redistribute.
  </p>
  <a name="wp1678641">
  </a>
  <p class="pB1_Body1">
   You must configure a default metric to redistribute routes from another protocol into BGP. You can configure the default metric with the
   <b class="cBold">
    default-metric
   </b>
   command or with the route map configured with the
   <b class="cCN_CmdName">
    redistribute
   </b>
   command.
  </p>
  <a name="wp1678642">
  </a>
  <p class="pB1_Body1">
   This command requires the LAN Enterprise Services license.
  </p>
  <a name="wp1678643">
  </a>
  <h3 class="pCRE_CmdRefExamples">
   Examples
  </h3>
  <a name="wp1678644">
  </a>
  <p class="pB1_Body1">
   This example shows how to redistribute BGP routes into an EIGRP autonomous system:
  </p>
  <a name="wp1678645">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config)# <b class="cBold">router bgp 64496
</b></pre>
  </section>
  <a name="wp1678646">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config-router) <b class="cBold">address-family ipv4 unicast
</b></pre>
  </section>
  <a name="wp1678647">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config-router-af)# <b class="cBold">redistribute eigrp 100
</b></pre>
  </section>
  <a name="wp3339216">
  </a>
  <section class="pEx1_Example1">
   <pre></pre>
  </section>
  <a name="wp1678657">
  </a>
  <h3 class="pCRRC_CmdRefRelCmd">
   Related Commands
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp1678650table1678648" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="bottom">
       <th scope="col">
        <a name="wp1678650">
        </a>
        <section class="pCH1_CellHead1">
         Command
        </section>
       </th>
       <th scope="col">
        <a name="wp1678652">
        </a>
        <section class="pCH1_CellHead1">
         Description
        </section>
       </th>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1678654">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          default-metric (BGP)
         </b>
        </p>
       </td>
       <td>
        <a name="wp1678656">
        </a>
        <p class="pB1_Body1">
         Sets the default metrics for routes redistributed into BGP.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRRC_CmdRefRelCmd">
  </h3>
  <a name="wp1678658">
  </a>
  <p class="pAnchor">
  </p>
  <a name="remote-as">
  </a>
  <a name="wp1679397">
  </a>
  <a name="wpmkr1679396">
  </a>
  <h2 class="pCRC_CmdRefCommand">
   remote-as
  </h2>
  <a name="wp1679398">
  </a>
  <p class="pB1_Body1">
   To specify the autonomous system (AS) number for a neighbor, use the
   <b class="cCN_CmdName">
    remote-as
   </b>
   command. To remove an AS number, use the
   <b class="cBold">
    no
   </b>
   form of this command.
  </p>
  <a name="wp1679399">
  </a>
  <p class="pCENB_CmdEnv_NoBold">
   <b class="cCN_CmdName">
    remote-as
   </b>
   <b class="cBold" style="font-weight: bold">
   </b>
   <em class="cArgument" style="font-weight: normal">
    number
   </em>
  </p>
  <a name="wp1679400">
  </a>
  <p class="pCENB_CmdEnv_NoBold">
   <b class="cCN_CmdName">
    no remote-as
   </b>
   <b class="cBold" style="font-weight: bold">
   </b>
   <em class="cArgument" style="font-weight: normal">
    number
   </em>
  </p>
  <a name="wp1679406">
  </a>
  <h3 class="pCRSD_CmdRefSynDesc">
   Syntax Description
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp1679403table1679401" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679403">
        </a>
        <p class="pB1_Body1">
         <em class="cEmphasis">
          number
         </em>
        </p>
       </td>
       <td>
        <a name="wp1679405">
        </a>
        <p class="pB1_Body1">
         AS number. The format is x for a two-byte value or x.x for a four-byte value. The range is from 1 to 65535.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRSD_CmdRefSynDesc">
  </h3>
  <a name="wp1679407">
  </a>
  <h3 class="pCRCD_CmdRefCmdDefault">
   Command Default
  </h3>
  <a name="wp1679408">
  </a>
  <p class="pB1_Body1">
   None
  </p>
  <a name="wp1679409">
  </a>
  <h2 class="pCRCM_CmdRefCmdModes">
   Command Modes
  </h2>
  <a name="wp1679422">
  </a>
  <h3 class="pCRCH_CmdRefCmdHist">
   Command History
   <span style="color: Black; font-style: normal; font-weight: normal">
    Neighbor configuration mode
   </span>
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp1679415table1679413" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="bottom">
       <th scope="col">
        <a name="wp1679415">
        </a>
        <section class="pCH1_CellHead1">
         Release
        </section>
       </th>
       <th scope="col">
        <a name="wp1679417">
        </a>
        <section class="pCH1_CellHead1">
         Modification
        </section>
       </th>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679419">
        </a>
        <p class="pB1_Body1">
         5.0(3)N1(1)
        </p>
       </td>
       <td>
        <a name="wp1679421">
        </a>
        <p class="pB1_Body1">
         This command was introduced.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRCH_CmdRefCmdHist">
  </h3>
  <a name="wp1679423">
  </a>
  <h3 class="pCRUG_CmdRefUseGuide">
   Usage Guidelines
  </h3>
  <a name="wp1679424">
  </a>
  <p class="pB1_Body1">
   This command requires the LAN Enterprise Services license.
  </p>
  <a name="wp1679425">
  </a>
  <h3 class="pCRE_CmdRefExamples">
   Examples
  </h3>
  <a name="wp1679426">
  </a>
  <p class="pB1_Body1">
   This example shows how to configure the neighbor AS number:
  </p>
  <a name="wp1679427">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config)# <b class="cBold">router bgp 64496</b> 
</pre>
  </section>
  <a name="wp1679428">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config-router)# <b class="cBold">neighbor 10.0.0.100 
</b></pre>
  </section>
  <a name="wp1679429">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config-router-neighbor)# <b class="cBold">remote-as 64497
</b></pre>
  </section>
  <a name="wp2530707">
  </a>
  <section class="pEx1_Example1">
   <pre></pre>
  </section>
  <a name="wp1679443">
  </a>
  <h3 class="pCRRC_CmdRefRelCmd">
   Related Commands
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp1679432table1679430" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679432">
        </a>
        <section class="pCH1_CellHead1">
         Command
        </section>
       </td>
       <td>
        <a name="wp1679434">
        </a>
        <section class="pCH1_CellHead1">
         Description
        </section>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679436">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          feature bgp
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679438">
        </a>
        <p class="pB1_Body1">
         Enables BGP on the router.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679440">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          neighbor
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679442">
        </a>
        <p class="pB1_Body1">
         Configures BGP peers.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRRC_CmdRefRelCmd">
  </h3>
  <a name="restart_(BGP)">
  </a>
  <a name="wp1679446">
  </a>
  <a name="wpmkr1679445">
  </a>
  <h2 class="pCRC_CmdRefCommand">
   restart (BGP)
  </h2>
  <a name="wp1679447">
  </a>
  <p class="pB1_Body1">
   To restart a Border Gateway Protocol (BGP) autonomous system and remove all associated neighbors, use the
   <b class="cBold">
    restart
   </b>
   command.
  </p>
  <a name="wp1679448">
  </a>
  <p class="pCENB_CmdEnv_NoBold">
   <b class="cCN_CmdName">
    restart
   </b>
   <b class="cKeyword">
    bgp
   </b>
   <b class="cCN_CmdName" style="font-weight: bold">
   </b>
   <em class="cArgument" style="font-weight: normal">
    as-num
   </em>
   <span class="cCp_CmdPlain">
    [
   </span>
   <b class="cCN_CmdName" style="font-weight: bold">
    .
   </b>
   <em class="cArgument" style="font-weight: normal">
    as-num
   </em>
   <span class="cCp_CmdPlain">
    ]
   </span>
  </p>
  <a name="wp1679454">
  </a>
  <h3 class="pCRSD_CmdRefSynDesc">
   Syntax Description
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp1679451table1679449" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679451">
        </a>
        <p class="pB1_Body1">
         <em class="cEmphasis">
          as-num
         </em>
        </p>
       </td>
       <td>
        <a name="wp2155720">
        </a>
        <p class="pB1_Body1">
         Number of an autonomous system that identifies the router to other BGP routers and tags the routing information passed along; valid values are from 1 to 65535.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp2155730">
        </a>
        <p class="pB1_Body1">
         <b class="cBold" style="font-weight: bold">
          .
         </b>
         <span style="color: Black; font-style: italic; font-weight: normal">
          as-num
         </span>
        </p>
       </td>
       <td>
        <a name="wp2155738">
        </a>
        <p class="pB1_Body1">
         (Optional) Number of an autonomous system that identifies the router to other BGP routers and tags the routing information passed along; valid values are from 0 to 65535.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRSD_CmdRefSynDesc">
  </h3>
  <a name="wp1679455">
  </a>
  <h3 class="pCRCD_CmdRefCmdDefault">
   Command Default
  </h3>
  <a name="wp1679456">
  </a>
  <p class="pB1_Body1">
   None
  </p>
  <a name="wp1679457">
  </a>
  <h2 class="pCRCM_CmdRefCmdModes">
   Command Modes
  </h2>
  <a name="wp1679470">
  </a>
  <h3 class="pCRCH_CmdRefCmdHist">
   Command History
   <span style="color: Black; font-style: normal; font-weight: normal">
    EXEC mode
   </span>
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp1679463table1679461" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="bottom">
       <th scope="col">
        <a name="wp1679463">
        </a>
        <section class="pCH1_CellHead1">
         Release
        </section>
       </th>
       <th scope="col">
        <a name="wp1679465">
        </a>
        <section class="pCH1_CellHead1">
         Modification
        </section>
       </th>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679467">
        </a>
        <p class="pB1_Body1">
         5.0(3)N1(1)
        </p>
       </td>
       <td>
        <a name="wp1679469">
        </a>
        <p class="pB1_Body1">
         This command was introduced.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRCH_CmdRefCmdHist">
  </h3>
  <a name="wp1679471">
  </a>
  <h3 class="pCRUG_CmdRefUseGuide">
   Usage Guidelines
  </h3>
  <a name="wp1679472">
  </a>
  <p class="pB1_Body1">
   This command requires the LAN Enterprise Services license.
  </p>
  <a name="wp1679473">
  </a>
  <h3 class="pCRE_CmdRefExamples">
   Examples
  </h3>
  <a name="wp1679474">
  </a>
  <p class="pB1_Body1">
   This example shows how to restart the BGP autonomous system:
  </p>
  <a name="wp1679475">
  </a>
  <section class="pEx1_Example1">
   <pre>switch# <span style="color: Black; font-style: normal; font-weight: bold">restart bgp 64496 
</span></pre>
  </section>
  <a name="wp1679476">
  </a>
  <section class="pEx1_Example1">
   <pre>switch#
</pre>
  </section>
  <a name="wp1679477">
  </a>
  <section class="pEx1_Example1">
   <pre></pre>
  </section>
  <a name="wp1679491">
  </a>
  <h3 class="pCRRC_CmdRefRelCmd">
   Related Commands
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp1679480table1679478" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="bottom">
       <th scope="col">
        <a name="wp1679480">
        </a>
        <section class="pCH1_CellHead1">
         Command
        </section>
       </th>
       <th scope="col">
        <a name="wp1679482">
        </a>
        <section class="pCH1_CellHead1">
         Description
        </section>
       </th>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679488">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          router bgp
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679490">
        </a>
        <p class="pB1_Body1">
         Configures a BGP process.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRRC_CmdRefRelCmd">
  </h3>
  <a name="wp4670579">
  </a>
  <p class="pAnchor">
  </p>
  <a name="route-map">
  </a>
  <a name="wp1679717">
  </a>
  <a name="wpmkr1679716">
  </a>
  <h2 class="pCRC_CmdRefCommand">
   route-map
  </h2>
  <a name="wp1679718">
  </a>
  <p class="pB1_Body1">
   To create a route map, enter the route-map configuration mode, or define the conditions for redistributing routes from one routing protocol into another, use the
   <span style="color: Black; font-style: normal; font-weight: bold">
   </span>
   <b class="cCN_CmdName">
    route-map
   </b>
   command. To delete an entry, use the
   <b class="cBold">
    no
   </b>
   form of this command.
  </p>
  <a name="wp1679722">
  </a>
  <a name="wpmkr1679721">
  </a>
  <p class="pCENB_CmdEnv_NoBold">
   <b class="cCN_CmdName">
    route-map
   </b>
   <em class="cArgument">
    map-tag
   </em>
   <span class="cCp_CmdPlain">
    [
   </span>
   <b class="cKeyword">
    deny
   </b>
   <span class="cCp_CmdPlain">
    |
   </span>
   <b class="cKeyword">
    permit
   </b>
   <span class="cCp_CmdPlain">
    ] [
   </span>
   <em class="cArgument">
    sequence-number
   </em>
   <span class="cCp_CmdPlain">
    ]
   </span>
  </p>
  <a name="wp1679723">
  </a>
  <p class="pCENB_CmdEnv_NoBold">
   <b class="cCN_CmdName">
    no route-map
   </b>
   <em class="cArgument">
    map-tag
   </em>
   <span class="cCp_CmdPlain">
    [
   </span>
   <b class="cKeyword">
    permit
   </b>
   <span class="cCp_CmdPlain">
    |
   </span>
   <b class="cKeyword">
    deny
   </b>
   <span class="cCp_CmdPlain">
    ] [
   </span>
   <em class="cArgument">
    sequence-number
   </em>
   <span class="cCp_CmdPlain">
    ]
   </span>
  </p>
  <a name="wp1679745">
  </a>
  <h3 class="pCRSD_CmdRefSynDesc">
   Syntax Description
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp1679726table1679724" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679726">
        </a>
        <p class="pB1_Body1">
         <em class="cEmphasis">
          map-tag
         </em>
        </p>
       </td>
       <td>
        <a name="wp1679728">
        </a>
        <p class="pB1_Body1">
         Route map name.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679730">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          deny
         </b>
        </p>
       </td>
       <td>
        <a name="wp3720855">
        </a>
        <p class="pB1_Body1">
         (Optional) Specifies that the route or packet is not distributed if the match criteria are met for the route map.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679736">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          permit
         </b>
        </p>
       </td>
       <td>
        <a name="wp3720882">
        </a>
        <p class="pB1_Body1">
         (Optional) Specifies that the route or packet is distributed if the match criteria for this route are met.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679742">
        </a>
        <p class="pB1_Body1">
         <em class="cEmphasis">
          sequence-number
         </em>
        </p>
       </td>
       <td>
        <a name="wp1679744">
        </a>
        <p class="pB1_Body1">
         (Optional) Number that indicates the position a new route map has in the list of route maps already configured with the same name. The
         <span style="color: Black; font-style: normal; font-weight: bold">
         </span>
         <b class="cBold">
          no
         </b>
         form of this command deletes the position of the route map. Range: 0 to 65535.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRSD_CmdRefSynDesc">
  </h3>
  <a name="wp1679746">
  </a>
  <h3 class="pCRCD_CmdRefCmdDefault">
   Command Default
  </h3>
  <a name="wp1679747">
  </a>
  <p class="pB1_Body1">
   The
   <b class="cKeyword">
    permit
   </b>
   keyword is the default.
  </p>
  <a name="wp1679748">
  </a>
  <h2 class="pCRCM_CmdRefCmdModes">
   Command Modes
  </h2>
  <a name="wp1679761">
  </a>
  <h3 class="pCRCH_CmdRefCmdHist">
   Command History
   <span style="color: Black; font-style: normal; font-weight: normal">
    Global configuration mode
   </span>
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp1679754table1679752" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="bottom">
       <th scope="col">
        <a name="wp1679754">
        </a>
        <section class="pCH1_CellHead1">
         Release
        </section>
       </th>
       <th scope="col">
        <a name="wp1679756">
        </a>
        <section class="pCH1_CellHead1">
         Modification
        </section>
       </th>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679758">
        </a>
        <p class="pB1_Body1">
         5.0(3)N1(1)
        </p>
       </td>
       <td>
        <a name="wp1679760">
        </a>
        <p class="pB1_Body1">
         This command was introduced.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRCH_CmdRefCmdHist">
  </h3>
  <a name="wp1679762">
  </a>
  <h3 class="pCRUG_CmdRefUseGuide">
   Usage Guidelines
  </h3>
  <a name="wp1679767">
  </a>
  <p class="pB1_Body1">
   If you make changes to a route map that is used by a client, you must exit the route-map configuration submode before the changes take effect in the client. The route-map changes are not propagated to its clients until you exit from the route-map configuration submode or 60 seconds expire since entering the submode.
  </p>
  <a name="wp1679768">
  </a>
  <p class="pB1_Body1">
   Once you enter the route-map configuration mode, the following keywords are available:
  </p>
  <a name="wp1679769">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold" style="font-weight: bold">
    continue
   </b>
   <em class="cArgument" style="font-weight: normal">
    sequence-number
   </em>
   —Continues on a different entry within the route-map. Range: 0 to 65535
  </p>
  <a name="wp1679770">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    description
   </b>
   <em class="cCi_CmdItalic">
    description
   </em>
   —Provides a description of the route map. The description can be any alphanumeric string up to 90 characters.
  </p>
  <a name="wp1679771">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    exit
   </b>
   —Exits from the current command mode.
  </p>
  <a name="wp1679772">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    match
   </b>
   —Matches the values from the specified routing table. The following keywords and arguments are available:
  </p>
  <a name="wp1679773">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    as-path
   </b>
   <em class="cCi_CmdItalic">
    name
   </em>
   <span class="cCp_CmdPlain">
    [
   </span>
   <em class="cCi_CmdItalic">
    name
   </em>
   <span class="cCp_CmdPlain">
    ]
   </span>
   —Specifies the autonomous system (AS) path access list to match. The name can be any alphanumeric string up to 63 characters. See the
   <b class="cBold">
    match as-path
   </b>
   command for additional information.
  </p>
  <a name="wp1679774">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    community
   </b>
   <em class="cCi_CmdItalic">
    name
   </em>
   <span class="cCp_CmdPlain">
    [
   </span>
   <em class="cCi_CmdItalic">
    name
   </em>
   <span class="cCp_CmdPlain">
    |
   </span>
   <b class="cBold">
    exact-match
   </b>
   <span class="cCp_CmdPlain">
    ]—
   </span>
   Specifies the BGP community list name to match. See the
   <b class="cBold">
    match community
   </b>
   command for additional information.
  </p>
  <a name="wp1679775">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    ip
   </b>
   —Configures the IPv4 features. The follow keywords and arguments are available:
  </p>
  <a name="wp1679776">
  </a>
  <p class="pB3_Body3">
   <b class="cBold">
    address
   </b>
   {
   <em class="cCi_CmdItalic">
    access-list-name
   </em>
   [
   <em class="cCi_CmdItalic">
    access-list-name
   </em>
   ] |
   <b class="cBold">
    prefix-list
   </b>
   <em class="cCi_CmdItalic">
    ipv4-list-name
   </em>
   <span class="cCp_CmdPlain">
    [
   </span>
   <em class="cCi_CmdItalic">
    ipv4-list-name
   </em>
   <span class="cCp_CmdPlain">
    ]}—
   </span>
   Specifies the address of the route or packet to match. See the
   <b class="cBold">
    match ip address
   </b>
   command for additional information.
  </p>
  <a name="wp1679777">
  </a>
  <p class="pB3_Body3">
   <b class="cBold">
    multicast
   </b>
   {
   <b class="cBold">
    group
   </b>
   <em class="cCi_CmdItalic">
    address/length
   </em>
   |
   <b class="cBold">
    rp
   </b>
   <em class="cCi_CmdItalic">
    address/length
   </em>
   }—Specifies the multicast attributes to match. See the
   <b class="cBold">
    match ip multicast
   </b>
   command for additional information
   <em class="cCi_CmdItalic">
    .
   </em>
  </p>
  <a name="wp1679778">
  </a>
  <p class="pB3_Body3">
   <b class="cBold">
    next-hop
   </b>
   —Matches the next-hop address of the route. See the
   <b class="cBold">
    match ip next-hop
   </b>
   command for additional information
   <em class="cCi_CmdItalic">
    .
   </em>
  </p>
  <a name="wp1679779">
  </a>
  <p class="pB3_Body3">
   <b class="cBold">
    route-source
   </b>
   —Matches the advertising source address of the route. See the
   <b class="cBold">
    match ip route-source
   </b>
   command for additional information.
  </p>
  <a name="wp1679790">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    no
   </b>
   —Negates a command or set its defaults.
  </p>
  <a name="wp1679791">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    set
   </b>
   —Sets the values in the destination routing protocol. The
   <b class="cBold">
    set
   </b>
   commands specify the routing actions to perform if the criteria enforced by the
   <b class="cBold">
    match
   </b>
   commands are met. You might want to policy route packets some way other than the obvious shortest path. The following keywords and arguments are available:
  </p>
  <a name="wp1679792">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    as-path
   </b>
   —Prepends a string for a BGP AS-path attribute. See the
   <b class="cBold">
    set as-path
   </b>
   command for additional information.
  </p>
  <a name="wp1679793">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    comm-list
   </b>
   —Sets the BGP community list (for deletion). See the
   <b class="cBold">
    set comm-list
   </b>
   command for additional information.
  </p>
  <a name="wp1679794">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    community
   </b>
   —Sets the BGP community attribute. See the
   <b class="cBold">
    set community
   </b>
   command for additional information.
  </p>
  <a name="wp1679795">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    dampening
   </b>
   —Sets the BGP route flap dampening parameters. See the
   <b class="cBold">
    set dampening
   </b>
   command for additional information.
  </p>
  <a name="wp1679796">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    forwarding-address
   </b>
   —Sets the forwarding address. See the
   <b class="cBold">
    set forwarding-address
   </b>
   command for additional information.
  </p>
  <a name="wp1679803">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    level
   </b>
   —Specifies where to import the route. See the
   <b class="cBold">
    set level
   </b>
   command for additional information.
  </p>
  <a name="wp1679804">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    local-preference
   </b>
   —Specifies the BGP local preference path attribute. See the
   <b class="cBold">
    set local-preference
   </b>
   command for additional information.
  </p>
  <a name="wp1679805">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    metric
   </b>
   —Sets the metric for the destination routing protocol. See the
   <b class="cBold">
    set metric
   </b>
   command for additional information.
  </p>
  <a name="wp1679806">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    metric-type
   </b>
   —Sets the type of metric for the destination routing protocol. See the
   <b class="cBold">
    set metric-type
   </b>
   command for additional information.
  </p>
  <a name="wp1679807">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    origin
   </b>
   —Specifies the BGP origin code. See the
   <b class="cBold">
    set origin
   </b>
   command for additional information.
  </p>
  <a name="wp1679808">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    tag
   </b>
   —Specifies the tag value for the destination routing protocol. See the
   <b class="cBold">
    set tag
   </b>
   command for additional information.
  </p>
  <a name="wp1679810">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    weight
   </b>
   —Sets the BGP weight for the routing table. See the
   <b class="cBold">
    set weight
   </b>
   command for additional information.
  </p>
  <a name="wp1679811">
  </a>
  <p class="pB1_Body1">
   Use route maps to redistribute routes.
  </p>
  <a name="wp1679812">
  </a>
  <p class="pBl_BlockLabel">
   Redistribution
  </p>
  <a name="wp1679813">
  </a>
  <p class="pB1_Body1">
   The
   <b class="cBold">
    redistribute
   </b>
   router configuration command uses the
   <em class="cCi_CmdItalic">
    map-tag
   </em>
   name to reference the route map. Multiple route maps may share the same map tag name.
  </p>
  <a name="wp1679815">
  </a>
  <p class="pB1_Body1">
   Use the
   <span style="color: Black; font-style: normal; font-weight: bold">
   </span>
   <b class="cCN_CmdName">
    route-map
   </b>
   global configuration command and the
   <b class="cBold">
    match
   </b>
   and
   <b class="cBold">
    set
   </b>
   route-map configuration commands to define the conditions for redistributing routes from one routing protocol into another. Each
   <b class="cCN_CmdName">
    route-map
   </b>
   command has a list of
   <b class="cBold">
    match
   </b>
   and
   <b class="cBold">
    set
   </b>
   commands associated with it. The
   <b class="cBold">
    match
   </b>
   commands specify the match criteria—the conditions under which redistribution is allowed for the current
   <b class="cCN_CmdName">
    route-map
   </b>
   <b class="cKeyword">
   </b>
   command. The
   <b class="cBold">
    set
   </b>
   commands specify the set actions—the particular redistribution actions to perform if the criteria enforced by the
   <b class="cBold">
    match
   </b>
   commands are met. The
   <b class="cBold">
    no
   </b>
   <b class="cCN_CmdName" style="font-weight: bold">
    route-map
   </b>
   <span style="color: Black; font-style: normal; font-weight: bold">
   </span>
   command deletes the route map.
  </p>
  <a name="wp1679816">
  </a>
  <p class="pB1_Body1">
   The
   <b class="cBold">
    match
   </b>
   route-map configuration command has multiple formats. The
   <b class="cBold">
    match
   </b>
   commands can be given in any order, and all
   <b class="cBold">
    match
   </b>
   commands must pass to cause the route to be redistributed according to the set actions
   <em class="cArgument">
   </em>
   given with the
   <b class="cBold">
    set
   </b>
   commands. The
   <b class="cBold" style="font-weight: bold">
    no
   </b>
   <span style="color: Black; font-style: normal; font-weight: bold">
   </span>
   forms of the
   <b class="cBold" style="font-weight: bold">
    match
   </b>
   <span style="color: Black; font-style: normal; font-weight: bold">
   </span>
   commands remove the specified match criteria.
  </p>
  <a name="wp1679817">
  </a>
  <p class="pB1_Body1">
   Use route maps when you want detailed control over how routes are redistributed between routing processes. The destination routing protocol is the one you specify with the
   <b class="cBold">
    router
   </b>
   global configuration command. The source routing protocol is the one you specify with the
   <b class="cBold">
    redistribute
   </b>
   router configuration command. See the "Examples" section for an illustration of how route maps are configured.
  </p>
  <a name="wp1679818">
  </a>
  <p class="pB1_Body1">
   When you are passing routes through a route map, a route map can have several parts. Any route that does not match at least one
   <b class="cBold">
    match
   </b>
   clause that relates to a
   <b class="cCN_CmdName">
    route-map
   </b>
   command is ignored; that is, the route is not advertised for outbound route maps and is not accepted for inbound route maps. If you want to modify some particular data, you must configure a second route map section with an explicit match specified.
  </p>
  <a name="wp1679827">
  </a>
  <h3 class="pCRE_CmdRefExamples">
   Examples
  </h3>
  <a name="wp1679828">
  </a>
  <p class="pB1_Body1">
   This example shows how to redistribute Routing Information Protocol (RIP) routes with a hop count equal to 1 into Open Shortest Path First (OSPF). These routes are redistributed into OSPF as external link-state advertisements (LSAs) with a metric type of Type 1, and a tag equal to 1.
  </p>
  <a name="wp1679829">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>)# <b class="cBold">router ospf 109
</b></pre>
  </section>
  <a name="wp1679830">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain" style="font-weight: normal">switch(config-route-map)# </code><span style="color: Black; font-style: normal; font-weight: bold">redistribute</span><b class="cBold"> rip route-map rip-to-ospf
</b></pre>
  </section>
  <a name="wp1679831">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain" style="font-weight: normal">switch(config-route-map)# </code><span style="color: Black; font-style: normal; font-weight: bold">route</span><b class="cBold">-map rip-to-ospf permit
</b></pre>
  </section>
  <a name="wp1679832">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>-route-map)# <b class="cBold">set metric 5
</b></pre>
  </section>
  <a name="wp1679833">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>-route-map)# <b class="cBold">set metric-type type1
</b></pre>
  </section>
  <a name="wp1679834">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>-route-map)# <b class="cBold">set tag 1 
</b></pre>
  </section>
  <a name="wp1679835">
  </a>
  <section class="pEx1_Example1">
   <pre></pre>
  </section>
  <a name="wp1679843">
  </a>
  <p class="pB1_Body1">
   This example shows how to set the autonomous system path to match BGP autonomous system path access list 20:
  </p>
  <a name="wp1679844">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>)# <b class="cBold">route-map IGP2BGP
</b></pre>
  </section>
  <a name="wp1679845">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>-route-map)# <b class="cBold">match as-path 20
</b></pre>
  </section>
  <a name="wp1679846">
  </a>
  <section class="pEx1_Example1">
   <pre></pre>
  </section>
  <a name="wp1679847">
  </a>
  <p class="pB1_Body1">
   This example shows how to configure that the routes matching community list 1 have the weight set to 100. Any route that has community 109 has the weight set to 100.
  </p>
  <a name="wp1679848">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>)# <b class="cBold">ip community-list 1 permit 109
</b></pre>
  </section>
  <a name="wp1679849">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>)# <b class="cBold">route-map set_weight
</b></pre>
  </section>
  <a name="wp1679850">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>-route-map)#  <b class="cBold">match community 1
</b></pre>
  </section>
  <a name="wp1679851">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>-route-map)# <b class="cBold">set weight 100
</b></pre>
  </section>
  <a name="wp1679852">
  </a>
  <section class="pEx1_Example1">
   <pre></pre>
  </section>
  <a name="wp1679853">
  </a>
  <p class="pB1_Body1">
   This example shows how to configure that the routes matching community list 1 have the weight set to 200. Any route that has community 109 alone has the weight set to 200.
  </p>
  <a name="wp1679854">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>)# <b class="cBold">ip community-list 1 permit 109
</b></pre>
  </section>
  <a name="wp1679855">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>)# <b class="cBold">route-map set_weight
</b></pre>
  </section>
  <a name="wp1679856">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>-route-map)# <b class="cBold">match community 1 exact
</b></pre>
  </section>
  <a name="wp1679857">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>-route-map)# <b class="cBold">set weight 200
</b></pre>
  </section>
  <a name="wp1679858">
  </a>
  <section class="pEx1_Example1">
   <pre></pre>
  </section>
  <a name="wp1679859">
  </a>
  <p class="pB1_Body1">
   This example shows how to configure that the routes match community list LIST_NAME have the weight set to 100. Any route that has community 101 alone has the weight set to 100.
  </p>
  <a name="wp1679860">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>)# <b class="cBold">ip community-list 1 permit 101
</b></pre>
  </section>
  <a name="wp1679861">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>)# <b class="cBold">route-map set_weight
</b></pre>
  </section>
  <a name="wp1679862">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>-route-map)# <b class="cBold">match community LIST_NAME</b> 
</pre>
  </section>
  <a name="wp1679863">
  </a>
  <section class="pEx1_Example1">
   <pre><code class="cExPlain">switch(config</code>-route-map)# <b class="cBold">set weight 100
</b></pre>
  </section>
  <a name="wp1679864">
  </a>
  <section class="pEx1_Example1">
   <pre></pre>
  </section>
  <a name="wp1679938">
  </a>
  <h3 class="pCRRC_CmdRefRelCmd">
   Related Commands
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp1679867table1679865" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="bottom">
       <th scope="col">
        <a name="wp1679867">
        </a>
        <section class="pCH1_CellHead1">
         <b class="cBold">
          Command
         </b>
        </section>
       </th>
       <th scope="col">
        <a name="wp1679869">
        </a>
        <section class="pCH1_CellHead1">
         <b class="cBold">
          Description
         </b>
        </section>
       </th>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679871">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          match as-path
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679873">
        </a>
        <p class="pB1_Body1">
         Matches a BGP autonomous system path access list.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679875">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          match community
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679877">
        </a>
        <p class="pB1_Body1">
         Matches a BGP community.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679883">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          match ip next-hop
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679885">
        </a>
        <p class="pB1_Body1">
         Redistributes any routes that have a next-hop router address passed by one of the access lists specified.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679887">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          match ip route-source
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679889">
        </a>
        <p class="pB1_Body1">
         Redistributes routes that have been advertised by routers and access servers at the address specified by the access lists.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679891">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          match metric
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679893">
        </a>
        <p class="pB1_Body1">
         Redistributes routes with the metric specified.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679895">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          match tag
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679897">
        </a>
        <p class="pB1_Body1">
         Redistributes routes in the routing table that match the specified tags.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679899">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          route-map (IP)
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679901">
        </a>
        <p class="pB1_Body1">
         Defines the conditions for redistributing routes from one routing protocol into another.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679903">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          set as-path
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679905">
        </a>
        <p class="pB1_Body1">
         Modifies an autonomous system path for BGP routes.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679907">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          set community
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679909">
        </a>
        <p class="pB1_Body1">
         Sets the BGP communities attribute.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679911">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          set level
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679913">
        </a>
        <p class="pB1_Body1">
         Indicates where to import routes.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679915">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          set local-preference
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679917">
        </a>
        <p class="pB1_Body1">
         Specifies a preference value for the autonomous system path.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679919">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          set metric
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679921">
        </a>
        <p class="pB1_Body1">
         Sets the metric value for a routing protocol.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679923">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          set metric-type
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679925">
        </a>
        <p class="pB1_Body1">
         Sets the metric type for the destination routing protocol.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679927">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          set next-hop
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679929">
        </a>
        <p class="pB1_Body1">
         Specifies the address of the next hop.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679931">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          set tag
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679933">
        </a>
        <p class="pB1_Body1">
         Sets a tag value of the destination routing protocol.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679935">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          set weight
         </b>
        </p>
       </td>
       <td>
        <a name="wp1679937">
        </a>
        <p class="pB1_Body1">
         Specifies the BGP weight for the routing table.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRRC_CmdRefRelCmd">
  </h3>
  <a name="route-reflector-client_(BGP)">
  </a>
  <a name="wp2136938">
  </a>
  <h2 class="pCRC_CmdRefCommand">
   route-reflector-client (BGP)
  </h2>
  <a name="wp2138888">
  </a>
  <p class="pB1_Body1">
   To configure the router as a BGP route reflector and configure the specified neighbor as its client, use the
   <b class="cBold">
    route-reflector-client
   </b>
   command. To indicate that the neighbor is not a client, use the
   <b class="cBold">
    no
   </b>
   form of this command.
  </p>
  <a name="wp2138890">
  </a>
  <p class="pCENB_CmdEnv_NoBold">
   <b class="cCN_CmdName">
    route-reflector-client
   </b>
  </p>
  <a name="wp2138892">
  </a>
  <p class="pCENB_CmdEnv_NoBold">
   <b class="cCN_CmdName">
    no route-reflector-client
   </b>
  </p>
  <a name="wp2138893">
  </a>
  <h3 class="pCRSD_CmdRefSynDesc">
   Syntax Description
  </h3>
  <a name="wp2139912">
  </a>
  <p class="pB1_Body1">
   This command has no arguments or keywords.
  </p>
  <a name="wp2138901">
  </a>
  <h3 class="pCRCD_CmdRefCmdDefault">
   Command Default
  </h3>
  <a name="wp2138902">
  </a>
  <p class="pB1_Body1">
   There is no route reflector in the autonomous system.
  </p>
  <a name="wp2138903">
  </a>
  <h2 class="pCRCM_CmdRefCmdModes">
   Command Modes
  </h2>
  <a name="wp2138904">
  </a>
  <p class="pB1_Body1">
   BGP Neighbor address-family configuration mode
  </p>
  <a name="wp2139933">
  </a>
  <h3 class="pCRCH_CmdRefCmdHist">
   Command History
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp2139952table2139950" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="bottom">
       <th scope="col">
        <a name="wp2139952">
        </a>
        <section class="pCH1_CellHead1">
         Release
        </section>
       </th>
       <th scope="col">
        <a name="wp2139954">
        </a>
        <section class="pCH1_CellHead1">
         Modification
        </section>
       </th>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp2139956">
        </a>
        <p class="pB1_Body1">
         5.0(3)N1(1)
        </p>
       </td>
       <td>
        <a name="wp2139958">
        </a>
        <p class="pB1_Body1">
         This command was introduced.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRCH_CmdRefCmdHist">
  </h3>
  <a name="wp2138922">
  </a>
  <h3 class="pCRUG_CmdRefUseGuide">
   Usage Guidelines
  </h3>
  <a name="wp2138928">
  </a>
  <p class="pB1_Body1">
   Use the
   <b class="cBold">
    route-reflector-client
   </b>
   command to configure the local router as the route reflector and the specified neighbor as one of its clients. All the neighbors configured with this command will be members of the client group and the remaining BGP peers will be members of the nonclient group for the local route reflector.
  </p>
  <a name="wp2138931">
  </a>
  <h3 class="pCRE_CmdRefExamples">
   Examples
  </h3>
  <a name="wp2138932">
  </a>
  <p class="pB1_Body1">
   This example shows how to configure the local router as a route reflector to the neighbor at 192.168.0.1:
  </p>
  <a name="wp2140008">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config)# <b class="cBold">router bgp 102
</b></pre>
  </section>
  <a name="wp2140011">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config-router)# <b class="cBold">neighbor 192.168.0.1 remote-as 201
</b></pre>
  </section>
  <a name="wp2140013">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config-router-neighbor)# <b class="cBold">address-family ipv4 unicast
</b></pre>
  </section>
  <a name="wp2138934">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config-router-neighbor-af)# <b class="cBold">route-reflector-client
</b></pre>
  </section>
  <a name="wp2138938">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config-router-neighbor-af)#
</pre>
  </section>
  <a name="wp2138939">
  </a>
  <section class="pEx1_Example1">
   <pre></pre>
  </section>
  <a name="wp2138947">
  </a>
  <h3 class="pCRRC_CmdRefRelCmd">
   Related Commands
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp2142221table2142219" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="bottom">
       <th scope="col">
        <a name="wp2142221">
        </a>
        <section class="pCH1_CellHead1">
         Command
        </section>
       </th>
       <th scope="col">
        <a name="wp2142223">
        </a>
        <section class="pCH1_CellHead1">
         Description
        </section>
       </th>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp2142225">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          address-family (BGP)
         </b>
        </p>
       </td>
       <td>
        <a name="wp2142262">
        </a>
        <p class="pB1_Body1">
         Enters the router in address family configuration mode for configuring BGP routing sessions.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp2142229">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          neighbor
         </b>
        </p>
       </td>
       <td>
        <a name="wp2142231">
        </a>
        <p class="pB1_Body1">
         Configures a BGP neighbor.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp2142299">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          show ip bgp
         </b>
        </p>
       </td>
       <td>
        <a name="wp2142321">
        </a>
        <p class="pB1_Body1">
         Displays entries in the BGP routing table.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRRC_CmdRefRelCmd">
  </h3>
  <a name="wp2136940">
  </a>
  <a name="router_bgp">
  </a>
  <a name="wp1679987">
  </a>
  <a name="wpmkr1679986">
  </a>
  <h2 class="pCRC_CmdRefCommand">
   router bgp
  </h2>
  <a name="wp1679988">
  </a>
  <p class="pB1_Body1">
   To assign an autonomous system (AS) number to a router and enter the router BGP configuration mode, use the
   <b class="cBold">
    router bgp
   </b>
   command. To remove an AS number assignment, use the
   <b class="cBold">
    no
   </b>
   form of this command.
  </p>
  <a name="wp1679989">
  </a>
  <p class="pCENB_CmdEnv_NoBold">
   <b class="cCN_CmdName">
    router bgp
   </b>
   <span class="cCp_CmdPlain">
   </span>
   <em class="cArgument">
    as-num
   </em>
   <span class="cCp_CmdPlain">
    [
   </span>
   <b class="cBold" style="font-weight: bold">
    .
   </b>
   <em class="cArgument" style="font-weight: normal">
    as-num
   </em>
   <span class="cCp_CmdPlain">
    ]
   </span>
  </p>
  <a name="wp1679990">
  </a>
  <p class="pCENB_CmdEnv_NoBold">
   <b class="cCN_CmdName">
    no router bgp
   </b>
   <span class="cCp_CmdPlain">
   </span>
   <em class="cArgument">
    as-num
   </em>
   <span class="cCp_CmdPlain">
    [
   </span>
   <b class="cBold" style="font-weight: bold">
    .
   </b>
   <em class="cArgument" style="font-weight: normal">
    as-num
   </em>
   <span class="cCp_CmdPlain">
    ]
   </span>
  </p>
  <a name="wp1680000">
  </a>
  <h3 class="pCRSD_CmdRefSynDesc">
   Syntax Description
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp1679993table1679991" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679993">
        </a>
        <p class="pB1_Body1">
         <em class="cEmphasis">
          as-num
         </em>
        </p>
       </td>
       <td>
        <a name="wp1679995">
        </a>
        <p class="pB1_Body1">
         Number of an autonomous system that identifies the router to other BGP routers and tags the routing information passed along; valid values are from 1 to 65535.
        </p>
       </td>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1679997">
        </a>
        <p class="pB1_Body1">
         <b class="cBold" style="font-weight: bold">
          .
         </b>
         <span style="color: Black; font-style: italic; font-weight: normal">
          as-num
         </span>
        </p>
       </td>
       <td>
        <a name="wp1679999">
        </a>
        <p class="pB1_Body1">
         (Optional) Number of an autonomous system that identifies the router to other BGP routers and tags the routing information passed along; valid values are from 0 to 65535.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRSD_CmdRefSynDesc">
  </h3>
  <a name="wp1680001">
  </a>
  <h3 class="pCRCD_CmdRefCmdDefault">
   Command Default
  </h3>
  <a name="wp1680002">
  </a>
  <p class="pB1_Body1">
   No BGP routing process is enabled by default.
  </p>
  <a name="wp1680003">
  </a>
  <h2 class="pCRCM_CmdRefCmdModes">
   Command Modes
  </h2>
  <a name="wp1680004">
  </a>
  <p class="pB1_Body1">
   Address-family configuration mode
   <br/>
   Neighbor address-family configuration mode
   <br/>
   Router BGP configuration mode
  </p>
  <a name="wp1680017">
  </a>
  <h3 class="pCRUG_CmdRefUseGuide">
   Usage Guidelines
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp1680007table1680005" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="bottom">
       <th scope="col">
        <a name="wp1680007">
        </a>
        <section class="pCH1_CellHead1">
         Release
        </section>
       </th>
       <th scope="col">
        <a name="wp1680009">
        </a>
        <section class="pCH1_CellHead1">
         Modification
        </section>
       </th>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp1680011">
        </a>
        <p class="pB1_Body1">
         5.0(3)N1(1)
        </p>
       </td>
       <td>
        <a name="wp1680013">
        </a>
        <p class="pB1_Body1">
         This command was introduced.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRUG_CmdRefUseGuide">
  </h3>
  <a name="wp1680018">
  </a>
  <p class="pB1_Body1">
   The
   <em class="cCi_CmdItalic">
    as-num
   </em>
   is the number for the local BGP speaker and allows you to create a unique identifier for the BGP process on the router.
  </p>
  <a name="wp1680019">
  </a>
  <p class="pB1_Body1">
   Once you enter the router BGP configuration mode, the following parameters are available:
  </p>
  <a name="wp1680020">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    address-family
   </b>
   —Configures an address-family (router, neighbor, VRF). See the
   <b class="cBold">
    address-family (BGP)
   </b>
   command for information.
  </p>
  <a name="wp1680021">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    bestpath
   </b>
   —Changes the default best path selection algorithm. See the
   <b class="cBold">
    bestpath
   </b>
   command for information.
  </p>
  <a name="wp1680022">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    cluster-id
   </b>
   <span class="cCp_CmdPlain">
    {
   </span>
   <em class="cCi_CmdItalic">
    cluster-id
   </em>
   <span class="cCp_CmdPlain">
    |
   </span>
   <em class="cCi_CmdItalic">
    cluster-ip-addr
   </em>
   <span class="cCp_CmdPlain">
    }
   </span>
   —Configures the Route Reflector Cluster-ID (router, VRF). Range: 1 to 4294967295. You can enter the cluster identification as a 32-bit quantity or as an IP address. To remove the cluster ID, use the
   <b class="cBold">
    no
   </b>
   form of this command.
  </p>
  <a name="wp1680023">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    confederation
   </b>
   <span class="cCp_CmdPlain">
    {
   </span>
   <b class="cBold">
    identifier
   </b>
   <span class="cCp_CmdPlain">
   </span>
   <em class="cCi_CmdItalic">
    as-num
   </em>
   <span class="cCp_CmdPlain">
    [
   </span>
   <b class="cBold">
    .
   </b>
   <em class="cCi_CmdItalic">
    as-num
   </em>
   <span class="cCp_CmdPlain">
    ] |
   </span>
   <b class="cBold">
    peer
   </b>
   <span class="cCp_CmdPlain">
   </span>
   <em class="cCi_CmdItalic">
    as-num
   </em>
   <span class="cCp_CmdPlain">
    [
   </span>
   <b class="cBold">
    .
   </b>
   <em class="cCi_CmdItalic">
    as-num
   </em>
   <span class="cCp_CmdPlain">
    ]}
   </span>
   —Configures the AS confederation parameters as the routing domain confederation AS or the peer AS in the BGP confederation. To remove the confederation identifier, use the
   <b class="cBold">
    no
   </b>
   form of this command.
  </p>
  <a name="wp1680024">
  </a>
  <p class="pB2_Body2">
   The
   <b class="cBold">
    confederation
   </b>
   command is used to configure a single autonomous system number to identify a group of smaller autonomous systems as a single confederation.You can use a confederation to divide a large single autonomous system into multiple subautonomous systems and then group them into a single confederation. The subautonomous systems within the confederation exchange routing information. External peers interact with the confederation as if it were a single autonomous system.
  </p>
  <a name="wp3463492">
  </a>
  <p class="pB2_Body2">
   Each subautonomous system is fully meshed within itself and has a few connections to other autonomous systems within the confederation. Next hop, Multi Exit Discriminator (MED), and local preference information is preserved throughout the confederation, allowing you to retain a single Interior Gateway Protocol (IGP) for all the autonomous systems.
  </p>
  <a name="wp3463493">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    enforce-first-as
   </b>
   —Forces BGP to compare an external peer's configured AS number with the first AS in the AS-PATH of the routes received from the peer. In case of a mismatch of AS numbers, the peer is sent an error code update notification message. To disable this feature, use the
   <b class="cBold">
    no
   </b>
   form of this command.
  </p>
  <a name="wp1680027">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    exit
   </b>
   —Exits from the current command mode.
  </p>
  <a name="wp1680028">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    fast-external-fallover
   </b>
   —Configures a Border Gateway Protocol (BGP) routing process to immediately reset external BGP peering sessions if the link used to reach these peers goes down. To disable BGP fast external fallover, use the
   <b class="cBold">
    no
   </b>
   form of this command.
  </p>
  <a name="wp1680029">
  </a>
  <p class="pB2_Body2">
   The
   <b class="cBold">
    fast-external-fallover
   </b>
   command is used to disable or enable fast external fallover for BGP peering sessions with directly connected external peers. The session is immediately reset if the link goes down. Only directly connected peering sessions are supported.
  </p>
  <a name="wp1680030">
  </a>
  <p class="pB2_Body2">
   If BGP fast external fallover is disabled, the BGP routing process waits until the default hold timer expires (three keepalives) to reset the peering session.
  </p>
  <a name="wp1680033">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    log-neighbor-changes
   </b>
   —Enables logging of the BGP neighbor resets. To disable the logging of changes in BGP neighbor adjacencies, use the
   <b class="cBold">
    no
   </b>
   form of this command. The
   <b class="cBold">
    log-neighbor-changes
   </b>
   command enables logging of BGP neighbor status changes (up or down) and resets for troubleshooting network connectivity problems and measuring network stability. Unexpected neighbor resets might indicate high error rates or high packet loss in the network and should be investigated.
  </p>
  <a name="wp1680034">
  </a>
  <p class="pB2_Body2">
   Using the
   <b class="cBold">
    log-neighbor-changes
   </b>
   command to enable status change message logging does not cause a substantial performance impact, unlike, for example, enabling per BGP update debugging. If the UNIX syslog facility is enabled, messages are sent to the UNIX host that is running the syslog daemon so that the messages can be stored and archived. If the UNIX syslog facility is not enabled, the status change messages are retained in the internal buffer of the router and are not stored to the disk. You can set the size of this buffer, which is dependent upon the available RAM, using the
   <b class="cBold">
    logging buffered
   </b>
   command.
  </p>
  <a name="wp1680035">
  </a>
  <p class="pB2_Body2">
   The neighbor status change messages are not tracked if the
   <b class="cBold">
    bgp log-neighbor-changes
   </b>
   command is not enabled, except for the reset reason, which is always available as output of the
   <b class="cBold">
    show ip bgp neighbors
   </b>
   command.
  </p>
  <a name="wp1680036">
  </a>
  <p class="pB2_Body2">
   The
   <b class="cBold">
    eigrp log-neighbor-changes
   </b>
   command enables logging of Enhanced Interior Gateway Routing Protocol (EIGRP) neighbor adjacencies, but messages for BGP neighbors are logged only if they are specifically enabled with the
   <b class="cBold">
    bgp log-neighbor-changes
   </b>
   command.
  </p>
  <a name="wp1680037">
  </a>
  <p class="pB2_Body2">
   Use the
   <b class="cBold">
    show logging command
   </b>
   to display the log for the BGP neighbor changes.
  </p>
  <a name="wp1680038">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    neighbor
   </b>
   —Configures a BGP neighbor (router, VRF). See the
   <b class="cBold">
    neighbor
   </b>
   command for additional information.
  </p>
  <a name="wp1680039">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    no
   </b>
   —Negates a command or sets its defaults.
  </p>
  <a name="wp1680040">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <em class="cCi_CmdItalic">
    router-id
   </em>
   <span class="cCp_CmdPlain">
    —
   </span>
   Specifies the IP address to use as router-id (router, VRF).
  </p>
  <a name="wp1680041">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    template
   </b>
   —Enters the template command mode. See the
   <b class="cBold">
    neighbor
   </b>
   command for additional information.
  </p>
  <a name="wp3463517">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    timers
   </b>
   —Configures the BGP-related timers (router, VRF).
  </p>
  <a name="wp3463518">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    bestpath-limit
   </b>
   <em class="cCi_CmdItalic">
    interval
   </em>
   —Configures the timeout for the first best path after a restart, in seconds. Range: 1 to 3600. Default: 300.
  </p>
  <a name="wp1680044">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    bgp
   </b>
   <em class="cCi_CmdItalic">
    interval
   </em>
   —Configures the different BGP keepalive and holdtimes in seconds. Range: 0 to 3600. Default: 60.
  </p>
  <a name="wp1680045">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    prefix-peer-timeout
   </b>
   <em class="cCi_CmdItalic">
    interval
   </em>
   —Configures how long a prefix peer is maintained in seconds. Range: 0 to 1200. Default: 300:
  </p>
  <a name="wp1680046">
  </a>
  <p class="pBu1_Bullet1">
   •
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="19"/>
   <b class="cBold">
    vrf
   </b>
   —Configures the virtual router context:
  </p>
  <a name="wp1680047">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <em class="cCi_CmdItalic">
    vrf-name
   </em>
   —Specifies the VRF name.
  </p>
  <a name="wp1680048">
  </a>
  <p class="pBu2_Bullet2">
   –
   <img alt="" border="0" height="2" src="/c/dam/en/us/td/i/templates/blank.gif" width="17"/>
   <b class="cBold">
    management
   </b>
   —Specifies the configurable VRF name.
  </p>
  <a name="wp2155793">
  </a>
  <p class="pB1_Body1">
   This command requires the LAN Enterprise Services license.
  </p>
  <a name="wp1680049">
  </a>
  <h3 class="pCRE_CmdRefExamples">
   Examples
  </h3>
  <a name="wp1680050">
  </a>
  <p class="pB1_Body1">
   This example shows how to configure a BGP process for autonomous system 120:
  </p>
  <a name="wp1680051">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config)# <b class="cBold">router bgp 120
</b></pre>
  </section>
  <a name="wp1680052">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config-router)# 
</pre>
  </section>
  <a name="wp1680053">
  </a>
  <section class="pEx1_Example1">
   <pre></pre>
  </section>
  <a name="wp1680054">
  </a>
  <p class="pB1_Body1">
   This example shows how to log neighbor changes for BGP in router configuration mode:
  </p>
  <a name="wp1680055">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config# <b class="cBold">bgp router 40000 
</b></pre>
  </section>
  <a name="wp1680056">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config-router)# <b class="cBold">log-neighbor-changes
</b></pre>
  </section>
  <a name="wp1680057">
  </a>
  <section class="pEx1_Example1">
   <pre></pre>
  </section>
  <a name="wp1680058">
  </a>
  <p class="pB1_Body1">
   This example shows how to disable the BGP fast external fallover feature. If the link through which this session is carried flaps, the connection is not reset.
  </p>
  <a name="wp1680059">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config# <b class="cBold">bgp router 64496 
</b></pre>
  </section>
  <a name="wp1680060">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config-router)#<b class="cBold"> no fast-external-fallover 
</b></pre>
  </section>
  <a name="wp1680061">
  </a>
  <section class="pEx1_Example1">
   <pre></pre>
  </section>
  <a name="wp1680062">
  </a>
  <p class="pB1_Body1">
   This example shows how all incoming updates from eBGP peers are examined to ensure that the first autonomous system number in the AS_PATH is the local AS number of the transmitting peer. The updates from the 10.100.0.1 peer are discarded if the first AS number is not 65001.
  </p>
  <a name="wp1680063">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config# <b class="cBold">router bgp 64496 
</b></pre>
  </section>
  <a name="wp1680064">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config-router)#<b class="cBold"> bgp enforce-first-as 
</b></pre>
  </section>
  <a name="wp1680065">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config-router)#<b class="cBold"> address-family ipv4 
</b></pre>
  </section>
  <a name="wp1680066">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config-router-af)#<b class="cBold"> neighbor 10.100.0.1 remote-as 64496
</b></pre>
  </section>
  <a name="wp1680067">
  </a>
  <section class="pEx1_Example1">
   <pre>switch(config-router-af)#
</pre>
  </section>
  <a name="wp3463546">
  </a>
  <section class="pEx1_Example1">
   <pre></pre>
  </section>
  <a name="wp1680068">
  </a>
  <h3 class="pCRRC_CmdRefRelCmd">
   Related Commands
  </h3>
  <section align="left">
   <div class="tableContainer">
    <table border="1" bordercolor="#808080" cellpadding="3" cellspacing="0" id="wp3845037table3845035" width="80%">
     <caption>
     </caption>
     <tbody>
      <tr align="left" valign="bottom">
       <th scope="col">
        <a name="wp3845037">
        </a>
        <section class="pCH1_CellHead1">
         Command
        </section>
       </th>
       <th scope="col">
        <a name="wp3845039">
        </a>
        <section class="pCH1_CellHead1">
         Description
        </section>
       </th>
      </tr>
      <tr align="left" valign="top">
       <td>
        <a name="wp3845041">
        </a>
        <p class="pB1_Body1">
         <b class="cBold">
          show ip bgp
         </b>
        </p>
       </td>
       <td>
        <a name="wp3845043">
        </a>
        <p class="pB1_Body1">
         Displays entries in the BGP table.
        </p>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </section>
  <br/>
  <h3 class="pCRRC_CmdRefRelCmd">
  </h3>
  <a name="wp3845029">
  </a>
  <p class="pAnchor">
  </p>
  <a name="wp1622900">
  </a>
  <a class="backToTop-link" data-targetselector="body" href="#" style="position: absolute; bottom: 15px; right: 15px; left: auto;" title="Top">
   <span>
   </span>
   <img alt="Back to Top" class="preload" src="/etc/designs/cdc/fw/i/responsive/Default-bTop-36.svg"/>
  </a>
 </div>
</div>
